!function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],f=0,p=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={2:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/v52.5/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([1330,0,3]),n()}({1051:function(e,t,n){},1052:function(e,t,n){},1053:function(e,t,n){e.exports=n.p+"assets/img/lecturer-no-avatar--small.svg"},1119:function(e,t,n){},1120:function(e,t,n){},1121:function(e,t,n){},1122:function(e,t,n){},1123:function(e,t,n){},1124:function(e,t,n){},1125:function(e,t,n){},1137:function(e,t,n){},1138:function(e,t,n){},1139:function(e,t,n){},1141:function(e,t,n){},1168:function(e,t,n){},1169:function(e,t,n){},1170:function(e,t,n){},1171:function(e,t,n){},1172:function(e,t,n){},1173:function(e,t,n){},1174:function(e,t,n){},1175:function(e,t,n){},1176:function(e,t,n){e.exports=n.p+"assets/img/prof_congrats.png"},1177:function(e,t,n){},1178:function(e,t,n){},1179:function(e,t,n){e.exports=n.p+"assets/img/clip.svg"},1180:function(e,t,n){e.exports=n.p+"assets/img/clip.svg"},1181:function(e,t,n){e.exports=n.p+"assets/img/clouds.svg"},1248:function(e,t,n){},1249:function(e,t,n){},1250:function(e,t,n){},1253:function(e,t,n){},1254:function(e,t,n){},1255:function(e,t,n){},1257:function(e,t,n){},1258:function(e,t,n){e.exports=n.p+"assets/img/icon_copy.svg"},1259:function(e,t,n){e.exports=n.p+"assets/img/icon_download.svg"},1260:function(e,t,n){},1261:function(e,t,n){e.exports=n.p+"assets/img/select_on_image_radio_right.svg"},1262:function(e,t,n){e.exports=n.p+"assets/img/select_on_image_radio_partly.svg"},1263:function(e,t,n){e.exports=n.p+"assets/img/select_on_image_radio_wrong.svg"},1264:function(e,t,n){e.exports=n.p+"assets/img/select_on_image_radio_checked.svg"},1265:function(e,t,n){e.exports=n.p+"assets/img/select_on_image_radio_hover.svg"},1266:function(e,t,n){},1267:function(e,t,n){},1268:function(e,t,n){},1269:function(e,t,n){e.exports=n.p+"assets/img/icon_copy.svg"},1270:function(e,t,n){e.exports=n.p+"assets/img/icon_download.svg"},1271:function(e,t,n){},1272:function(e,t,n){},1273:function(e,t,n){},1274:function(e,t,n){},1275:function(e,t,n){},1276:function(e,t,n){},1277:function(e,t,n){},1278:function(e,t,n){},1279:function(e,t,n){},1281:function(e,t,n){},1282:function(e,t,n){},1283:function(e,t,n){},1284:function(e,t,n){},1328:function(e,t,n){},1329:function(e,t,n){},1330:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(10),i=n.n(a),s=n(20),l=n.n(s),c=n(592),u=(n(662),n(663),n(664),n(862),n(863),n(865),n(866),n(427),n(15));function f(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)})(e)}function d(e,t,n){return(d=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&h(o,n.prototype),o}).apply(null,arguments)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return j()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=E(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var m={};s(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(C([])));v&&v!==t&&n.call(v,o)&&(m=v);var b=d.prototype=f.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==w(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=d,s(b,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(_.prototype),s(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(b),s(b,i,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function b(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,s,"next",e)}function s(e){b(a,r,o,i,s,"throw",e)}i(void 0)}))}}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var k=function(){function e(){_(this,e)}return O(e,null,[{key:"get",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.method="GET",e.request(t,n,r)}},{key:"post",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.method="POST",e.request(t,n,r)}},{key:"delete",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.method="DELETE",e.request(t,n,r)}},{key:"put",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.method="PUT",e.request(t,n,r)}},{key:"patch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.method="PATCH",e.request(t,n,r)}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={method:"get",auth_token:null,dataHandler:null,throwExceptionOnError:!1,returnResult:!1,headers:{"content-type":"application/json",Accept:"application/json"}};if((n=Object.assign(r,n)).auth_token&&(n.headers.Authorization="Bearer "+n.auth_token),("get"===n.method||"GET"===n.method)&&"object"===w(t)){var o=new URL(e,location.origin);for(var a in t)if(null!==t[a]){if("object"===w(t[a]))throw Error("wrong data type");o.searchParams.append(a,t[a])}e=o.href}return n.data=t,n.url=e,l()(n).then((function(e){if(e.data.error){if(n.throwExceptionOnError)throw new S(e);return e.data}return"function"==typeof n.dataHandler?n.dataHandler(e.data):n.returnResult?e:e.data}),function(){var e=g(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=7;break}if(!n.throwExceptionOnError){e.next=3;break}throw new S(t.response);case 3:t.response.status>=500&&t.response.status<600&&Object(u.g)(500),400===t.response.status&&Object(u.g)(500),404===t.response.status&&Object(u.g)(404),403===t.response.status&&Object(u.g)(403);case 7:console.error(t),Object(u.g)(408);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}(),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(o,e);var t,n,r=(t=o,n=m(),function(){var e,r=v(t);if(n){var o=v(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f(this,e)});function o(e,t){var n;return _(this,o),(n=r.call(this,t)).response=e,n}return O(o)}(p(Error));function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */j=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var m={};s(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=d.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==C(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,s(y,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function x(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){x(a,r,o,i,s,"next",e)}function s(e){x(a,r,o,i,s,"throw",e)}i(void 0)}))}}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"sendToFallback",value:function(e){var t;e&&(t=new URL(e)),t&&t.origin!==location.origin?location.href=e:location.href=CONFIG.Auth.fallbackUrl}},{key:"authCallback",value:(a=P(j().mark((function e(){var t,n,r,o,a,i,s;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=location.hash.split("?")[1])||(location.href=location.origin),n=new URLSearchParams(t),r=n.get("code"),o=n.get("state"),a=n.get("referer"),r&&o){e.next=9;break}return this.sendToFallback(a),e.abrupt("return",null);case 9:return e.next=11,k.get("".concat(CONFIG.Api.webPortal.url,"/auth/callback"),{code:r,state:o});case 11:if(i=e.sent,s=(null==i?void 0:i.success)||null){e.next=16;break}throw this.sendToFallback(a),new Error("Unsuccessful authorize");case 16:return Object(u.i)(s.tsContestId,s.tsUser.userId,s.userToken),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"auth",value:(o=P(j().mark((function e(){var t,n,r,o,a,i,s;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=location.hash.substr(10),n=localStorage.getItem("user_token")){e.next=10;break}return e.next=5,k.get("".concat(CONFIG.Api.webPortal.url,"/auth/contest/").concat(t));case 5:r=e.sent,o=(null==r?void 0:r.success)||null,this.redirectUser(o),e.next=23;break;case 10:return e.next=12,k.post("".concat(CONFIG.Api.webPortal.url,"/auth/contest/").concat(t),{token:n});case 12:if(!(a=e.sent).success){e.next=22;break}if(i=(null==a?void 0:a.success)||null){e.next=18;break}throw this.sendToFallback(document.referrer),new Error("Unsuccessful authorize");case 18:return Object(u.i)(i.tsContestId,i.tsUser.userId,i.userToken),e.abrupt("return",i);case 22:a.redirect?(s=(null==a?void 0:a.redirect)||null,this.redirectUser(s)):this.sendToFallback(document.referrer);case 23:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"redirectUser",value:function(e){if(e){var t=encodeURIComponent(document.referrer),n=encodeURIComponent("".concat(location.origin).concat(location.pathname,"#/auth_callback?referer=").concat(t));location.href="".concat(e,"&redirect_uri=").concat(n)}else this.sendToFallback(document.referrer)}}],n&&N(t.prototype,n),r&&N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),A=n(2),T=n(22),L=n(113),R=n(226),F=n.n(R),D=n(7),M=n.n(D),U=n(600),G=n.n(U);n(1051);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K="/v6.33";"development"===CONFIG.Mode&&(K="");var J="".concat(K,"/lib/mathjax/MathJax.js?config=TeX-MML-AM_HTMLorMML"),Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(i,e);var t,n,r,a=W(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Z(z(t=a.call(this,e)),"onLoad",(function(e){t._isMounted&&(e?console.error(e):(MathJax.Hub.Config({showMathMenu:!1,showMathMenuMSIE:!1,showProcessingMessages:!1,skipStartupTypeset:!0,messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.processSectionDelay=0,window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,t.preview])))})),t.state={oldMath:e.math},t._isMounted=!1,t}return t=i,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.preview.innerHTML=this.props.math,window.MathJax?MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,this.preview]):G()(J,this.onLoad)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({oldMath:e.math})}},{key:"shouldComponentUpdate",value:function(e){return!!e.math&&e.math!==this.state.oldMath}},{key:"componentDidUpdate",value:function(){this.preview.innerHTML=this.props.math,MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,this.preview])}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{onClick:this.props.onClick,className:this.props.className,id:"react-mathjax-preview",style:this.props.style},o.a.createElement("div",{id:"react-mathjax-preview-result",className:"mathjax_container",ref:function(t){e.preview=t}}))}}])&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Z(Q,"propTypes",{math:M.a.string}),Z(Q,"defaultProps",{math:""});var ee=function(e){var t=e.source,n=e.inline;return void 0!==n&&n?t.replace(/\$\$([^\$\n]+)\$\$/gi,"$$$1$$"):t},te=function(e){return function(e){return e.replace(/^:--(?!:)(.*)$/gm,'<span class="d-block text-left">$1</span>')}(function(e){return e.replace(/^--:(.*)$/gm,'<span class="d-block text-right">$1</span>')}(function(e){return e.replace(/^:--:(.*)$/gm,'<span class="d-block text-center">$1</span>')}(e.source)))},ne=function(e){var t=e.source,n=e.videoContainers,r=e.youtube,o=e.videoWrapperClassName,a=void 0===o?"":o;if(r){var i,s,l=null!==(i=null===(s=t)||void 0===s?void 0:s.match(/{youtube:[^}\n]+}/g))&&void 0!==i?i:[];l.length&&l.forEach((function(e){var r,o,i,s,l,c=e.replace("{youtube:","").replace(/\((start|end)=(\d?|\d+)\)/g,"").replace("}",""),u=X(null!==(r=e.match(/start=\d+/))&&void 0!==r?r:[],1)[0],f=X(null!==(o=e.match(/end=\d+/))&&void 0!==o?o:[],1)[0],p={type:"youtube",url:c},d=null!==(i=n[c])&&void 0!==i?i:p,m=d.type,h=d.url,v="youtube"===m?function(e){var t=e.code,n=e.start,r=e.end,o=document.createElement("iframe");return o.src="https://www.youtube.com/embed/".concat(t,"?rel=0&showinfo=0&modestbranding=1&color=white&iv_load_policy=3&cc_load_policy=1&enablejsapi=1&").concat(n?"".concat(n,"&"):"").concat(r?"".concat(r,"&"):""),o.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",o.width="100%",o.setAttribute("allowFullScreen",""),o.setAttribute("frameborder","0"),o.className="iframe-youtube",o}({code:c,start:u,end:f}):(s={urlVideo:h}.urlVideo,(l=document.createElement("video")).src=s,l.controlsList="nodownload",l.controls=!0,l.className="video-storage",l);v.setAttribute("data-video",m);var y=document.createElement("div");y.className="module-video-content__inner-video task-video-content__inner-video answer-comment-video-content__inner-video ".concat(a),y.setAttribute("data-video-wrapper",m),y.appendChild(v),t=t.replace(e,y.outerHTML),y.remove()}))}return t},re=function(e){var t=e.type,n=e.inline,o=e.youtube,a=e.videoWrapperClassName,i=X(Object(r.useState)(null),2),s=i[0],l=i[1],c=X(Object(r.useState)(null),2),u=c[0],f=c[1],p=X(Object(r.useState)({}),2),d=p[0],m=p[1],h={InlineTag:ee,YoutubeTag:ne,JustifyTag:te};Object(r.useEffect)((function(){var e=s&&t in h?h[t]({source:s,inline:n,youtube:o,videoContainers:d,videoWrapperClassName:a}):s;f(e)}),[s]);return[u,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&(m(t),l(e))}]},oe=n(88),ae=n.n(oe),ie=n(199),se=!1;function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1052);var ve=n(224);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */be=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var m={};s(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=d.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==ye(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,s(y,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function ge(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ge(a,r,o,i,s,"next",e)}function s(e){ge(a,r,o,i,s,"throw",e)}i(void 0)}))}}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=null,ke=null,Se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,i,s;return t=e,n=null,r=[{key:"assert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!0!==e)throw new Error(t)}},{key:"getImageUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?"".concat(CONFIG.Api.smtWebPortal.url,"/content/_image/").concat(e):"".concat(CONFIG.Api.noopolis.url,"/content/_image/").concat(e)}},{key:"formatPlural",value:function(e,t){return e%10==1&&e%100!=11?t[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?t[1]:t[2]}},{key:"getHumanReadableSize",value:function(e){if(e<1024)return"".concat(e,"Б");var t=(e/1024).toFixed(0);if(t<1024)return"".concat(t,"Кб");var n=e/1024;return"".concat(n,"Мб")}},{key:"formatDuration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e=Math.floor(e))<60)return"".concat(e," сек.");if(e<3600)return t?"".concat(Math.floor(e/60)," мин. ").concat(e%60," сек."):"".concat(Math.floor(e/60)," мин.");if(e<216e3){if(t){var n=Math.floor(o/60/60),r=Math.floor(o/60-60*n),o=Math.floor(o-60*n*60-60*r);return"".concat(n," ч. ").concat(r," мин. ").concat(o," сек.")}return"".concat(Math.floor(e/60/60)," ч.")}}},{key:"render500",value:(s=we(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/500.html");case 2:t=e.sent,document.open(),document.write(t.data),document.close();case 6:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"renderErrorPage",value:(i=we(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if([403,404,500,600].includes(t)){e.next=2;break}throw Error("unexpected error code");case 2:return e.next=4,l.a.get("/".concat(t,".html"));case 4:n=e.sent,document.open(),document.write(n.data),document.close(),window.addEventListener("hashchange",(function(){location.reload()}),!1);case 9:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"downloadFile",value:function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(t))),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"copyToClipboard",value:function(e){var t,n=document.getSelection();n.rangeCount>0&&n.removeAllRanges();var r,o,a=document.createRange(),i=document.createElement("span");if(i.textContent=e,i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",null!==(t=navigator)&&void 0!==t&&t.clipboard)null===(r=navigator)||void 0===r||null===(o=r.clipboard)||void 0===o||o.writeText(e);else{document.querySelector("body").appendChild(i),a.selectNodeContents(i),n.addRange(a);var s=document.execCommand("copy");if(document.querySelector("body").removeChild(i),!s)throw new Error("copy command was unsuccessful")}}},{key:"getVideoIframeUrl",value:function(e){var t=e.match(/http(s):\/\/(www\.)?youtube.com\/watch\?.*v=([^&]+)/);if(t)return"https://www.youtube.com/embed/".concat(t[3],"?")+"rel=0&showinfo=0&modestbranding=1&color=white";var n=e.match(/http(s)?:\/\/(www\.)?youtu.be\/([^/]+)/);return n?"https://www.youtube.com/embed/".concat(n[3],"?")+"rel=0&showinfo=0&modestbranding=1&color=white":null}},{key:"isParentMode",value:function(){var e=Ke("roles");return!(!e||-1===e.indexOf("nooRO"))}},{key:"redirectToAuthIfAnon",value:function(){qe.getState().authReducer.auth_token||Ze()}},{key:"renderParentModeBar",value:function(){var e=document.querySelector(".parent_mode_text");e&&e.parentNode.removeChild(e);var t=Ke("roles");t&&-1!==t.indexOf("nooRO")&&document.getElementById("index").insertAdjacentHTML("afterend",'<div class="parent_mode_text">'.concat(ve.a.parent.mode_text,"</div>"))}},{key:"getStartEndDateStr",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||e instanceof Date||(e=new Date(e)),!t||t instanceof Date||(t=new Date(t)),!e&&!t)return"";var n={day:"numeric",month:"long",year:"numeric"},r={day:"numeric",month:"long",year:"numeric"};if(e&&!t)return e.toLocaleString("ru",n);if(t&&!e)return t.toLocaleString("ru",r);if(n={day:"numeric"},e.getFullYear()!==t.getFullYear())n={day:"numeric",month:"long",year:"numeric"};else if(e.getMonth()!==t.getMonth())n={day:"numeric",month:"long"};else if(e.getDate()===t.getDate())return t.toLocaleString("ru",r);return"".concat(e.toLocaleString("ru",n)," — ").concat(t.toLocaleString("ru",r))}},{key:"timeCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e;"string"==typeof r&&(r=new Date(e));var o=new Date,a="";if(o.getTime()>r.getTime()){var i=Math.floor((o.getTime()-r.getTime())/1e3);i<1&&(i=1),a="".concat(i," c.")}if(o.getTime()-r.getTime()>6e4){var s=Math.floor((o.getTime()-r.getTime())/6e4);a="".concat(s," мин.")}if(o.getTime()-r.getTime()>36e5){var l=Math.floor((o.getTime()-r.getTime())/36e5);a="".concat(l," ч.")}if(!t&&o.getTime()-r.getTime()>864e5){var c=Math.floor((o.getTime()-r.getTime())/864e5);a="".concat(c," д.")}return n||(a+=" назад"),a}},{key:"cropString",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.length<=t)return e;if(e=e.substr(0,t),n){var r=e.lastIndexOf(" ");-1!==r&&(e=e.substr(0,r))}return"".concat(e,"...")}},{key:"runCheckVersionInterval",value:function(){setInterval((function(){Oe&&ke&&Oe!==ke&&function(){var e=document.getElementById("popup_window");if(!e)throw new Error('Missing "popup_window" container on page');e.innerHTML||Object(a.render)(o.a.createElement("div",{className:"update_popup"},o.a.createElement("div",{className:"update_popup__window"},o.a.createElement("div",{className:"update_popup__window_title"},"Мы выпустили обновление, пока вас не было"),o.a.createElement("div",{className:"update_popup__window_text"},"Сохраните изменения и перезагрузите страницу"),o.a.createElement("div",{className:"update_popup__window_cheops"}),o.a.createElement("div",{className:"update_popup__window_footer"},o.a.createElement("button",{className:"update_popup__window_button",onClick:function(){return Object(a.render)(o.a.createElement(o.a.Fragment,null),e)}},"Ясно")))),e)}()}),CONFIG.CheckVersionIntervalMin?6e4*CONFIG.CheckVersionIntervalMin:144e5)}},{key:"setActualVersion",value:function(e){if(e.headers&&"object"===ye(e.headers)){var t=Object.keys(e.headers).filter((function(e){return"x-version"===e.toLowerCase()}));e.headers[t]&&(ke=e.headers[t]),ke&&!Oe&&(Oe=ke)}}}],n&&_e(t.prototype,n),r&&_e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return(xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){if(t&&("object"===Ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ee(Se,"getInstanceTitleForCurrentDeploy",(function(){return ve.a.title})),Ee(Se,"getFixedNumbers",(function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/),n=0;return t&&(n=Math.max(0,(t[1]?t[1].length:0)-(t[2]?t[2]:0))),Number(e).toFixed(n)})),Ee(Se,"getExpiredTime",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="";if(e){var r=new Date(e),o=new Date,a=o.setHours(0,0,0,0),i=o.setHours(0,0,0,0)-864e5,s=o.setHours(0,0,0,0)-1728e5;n=" в ".concat(r.toLocaleString("ru",{hour:"2-digit",minute:"2-digit"})),r<a&&r>=i&&(n="вчера ".concat(t?"":n)),r<i&&r>=s&&(n="позавчера ".concat(t?"":n));var l="long";if(t&&(l="short"),r<s){var c=r.toLocaleString("ru",{day:"numeric",month:l});t&&(c=c.replace("."," ")),n="".concat(c," ").concat(t?"":n)}}return n})),Object.compare=function(e,t){for(var n in e){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;switch(ye(e[n])){case"object":if(!Object.compare(e[n],t[n]))return!1;break;case"function":if(void 0===t[n]||"compare"!==n&&e[n].toString()!==t[n].toString())return!1;break;default:if(e[n]!==t[n])return!1}}for(var r in t)if(void 0===e[r])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1}),Object.defineProperty(Array.prototype,"clone",{enumerable:!1}),"path"in Event.prototype||Object.defineProperty(Event.prototype,"path",{get:function(){for(var e=[],t=this.target;t;)e.push(t),t=t.parentElement;return-1===e.indexOf(window)&&-1===e.indexOf(document)&&e.push(document),-1===e.indexOf(window)&&e.push(window),e}});var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(s,e);var t,r,a,i=Pe(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e);var n=!1;return e.notification_obj&&e.notification_obj.status!==s.STATUS.READ&&(n=!0),t.state={is_new:n},t}return t=s,(r=[{key:"componentWillMount",value:function(){this.state.is_new&&!Se.isParentMode()&&this.props.notification_obj.sourceType!==s.TYPES.NEWS&&this.markAsReadNotificationRequest()}},{key:"openLink",value:function(){this.state.is_new&&!Se.isParentMode()&&this.props.notification_obj.sourceType===s.TYPES.NEWS&&this.markAsReadNotificationRequest(),this.props.notification_obj.sourceType===s.TYPES.NEWS&&(location.hash="#/news/".concat(this.props.notification_obj.link)),this.props.notification_obj.sourceType===s.TYPES.QA&&(location.hash="#".concat(this.props.notification_obj.link)),this.props.notification_obj.sourceType===s.TYPES.MODULE&&(location.hash="#".concat(this.props.notification_obj.link)),this.props.notification_obj.sourceType===s.TYPES.CERTIFICATE&&(location.hash="#/certificate"),this.props.notification_obj.sourceType!==s.TYPES.TASK_SOLUTION&&this.props.notification_obj.sourceType!==s.TYPES.TASK_COMMENT||(location.hash="#/course".concat(this.props.notification_obj.link)),this.props.notification_obj.sourceType===s.TYPES.INVITATION&&(location.hash="#/course".concat(this.props.notification_obj.link))}},{key:"unpinItem",value:function(){Se.isParentMode()||this.props.unpinNotificationRequest(this.props.notification_obj.notificationId)}},{key:"markAsReadNotificationRequest",value:function(){-1===Ke("roles").indexOf("nooRO")&&this.props.markAsReadNotification(this.props.notification_obj.notificationId)}},{key:"render",value:function(){var e=this,t=this.props.notification_obj,r=!1;t.sourceType&&[s.TYPES.NEWS,s.TYPES.MODULE,s.TYPES.QA,s.TYPES.CERTIFICATE,s.TYPES.TASK_SOLUTION,s.TYPES.TASK_COMMENT,s.TYPES.INVITATION].includes(t.sourceType)&&(r=!0);var a="notifications_list_item";this.props.notification_obj.isPinned&&(a+=" notifications_list_item--pinned");var i="Перейти";this.state.is_new&&(a+=" notifications_list_item--new"),t.sourceType!==s.TYPES.NEWS&&t.sourceType!==s.TYPES.QA||(i="Читать"),t.sourceType===s.TYPES.INVITATION&&(i="Присоединяйтесь!");var l=[t.lecturer.firstName,t.lecturer.middleName,t.lecturer.lastName].filter((function(e){return e})).join(" "),c="";return t.body&&(c=t.body),o.a.createElement("div",{className:a},o.a.createElement("div",{className:"notifications_list_item__teacher_photo"},t.lecturer.avatar&&o.a.createElement("img",{src:t.lecturer.avatar}),!t.lecturer.avatar&&o.a.createElement("img",{src:n(1053)})),t.isPinned&&o.a.createElement("div",{className:"notifications_list_item__close",onClick:this.unpinItem.bind(this)}),o.a.createElement("div",{className:"notifications_list_item__content"},o.a.createElement("div",{className:"notifications_list_item__teacher_name"},l),o.a.createElement("span",{className:"notifications_list_item__content_text",dangerouslySetInnerHTML:{__html:c}}),r&&o.a.createElement("span",{onClick:function(){return e.openLink()},className:"notifications_list_item__link"}," ".concat(i))))}}])&&je(t.prototype,r),a&&je(t,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);Ae(Te,"defaultProps",{notification_obj:{},teacher_name:"",unpinNotificationRequest:null,markAsReadNotification:null}),Ae(Te,"TYPES",{NEWS:"course",QA:"qa",MODULE:"module",CERTIFICATE:"certificate",TASK_SOLUTION:"taskSolution",TASK_COMMENT:"taskComment",INVITATION:"invitation"}),Ae(Te,"STATUS",{READ:"read",WAIT:"wait",DELIVERED:"delivered"});var Le=n(27),Re=n.n(Le);function Fe(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=Object(ie.b)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user_email:null,auth_context:null,form_token_ttl:90,auth_token:localStorage.getItem(CONFIG.Auth.localstorage_key)||null,user_list_data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_EMAIL":return me(me({},e),{},{user_email:t.status});case"AUTH_CONTEXT":return me(me({},e),{},{auth_context:t.status});case"GET_FORM_TOKEN_FULFILLED":return me(me({},e),{},{form_token:t.payload});case"SET_AUTH_TOKEN":return me(me({},e),{},{auth_token:t.token});case"GET_USER_LIST_DATA_FULFILLED":var n={};for(var r in t.payload.result)n[t.payload.result[r].id]=t.payload.result[r];return me(me({},e),{},{user_list_data:n});case"GET_FORM_TOKEN_REJECTED":return me({},e);default:return e}},autogradeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirmed_courses:[],applied_autograde_count:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONFIRM_AUTOGRADE":var n=fe(e.confirmed_courses);return n.push(t.course_id),ce(ce({},e),{},{confirmed_courses:n});case"APPLIED_AUTOGRADE_COUNT":return ce(ce({},e),{},{applied_autograde_count:t.count});default:return e}},mapIsFocused:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAP_IS_FOCUSED":return t.status;default:return e}},nooReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notifications:[],has_new_notifications:!!JSON.parse(localStorage.getItem("has_new_notifications")),open_course_list_is_loading:!0,my_course_list_is_loading:!0,upcoming_course_list_is_loading:!0,full_course_list_is_loading:!0,my_course_list:[],open_course_list:[],upcoming_course_list:[],full_course_list:[],lecturer_list:[],news_data:[],current_course:null,current_course_learn:null,current_module_learn:null,current_element_learn:{},course_contents:{},contents_data:{},task_videos:{},course_attended:[],course_stats:[],certificates:[],certificate_contents:{},main_info:{},main_content:{},current_module_learn_by_skin:null,current_element_learn_thread:null,module_progress:null,taskHints:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_NOTIFICATIONS_FULFILLED":return Ue(Ue({},e),{},{notifications:t.payload});case"GET_NOTIFICATIONS_BY_TM_FULFILLED":var n=Fe(e.notifications),r=t.payload,o=Object.keys(t.payload);for(var a in o)o[a]=parseInt(o[a]);for(var i in n)-1!==o.indexOf(n[i].notificationId)&&(n[i]=r[n[i].notificationId],delete r[n[i].notificationId]);for(var s in r)r[s]&&n.push(r[s]);return Ue(Ue({},e),{},{notifications:n});case"CHANGE_HAS_NEW_NOTIFICATIONS":return localStorage.setItem("has_new_notifications",JSON.stringify(t.status)),window.dispatchEvent(new StorageEvent("storage",{key:"has_new_notifications"})),Ue(Ue({},e),{},{has_new_notifications:t.status});case"GET_TASK_VIDEO_FULFILLED":var l=e.task_videos;return l[t.payload.video.id]=t.payload.video,Ue(Ue({},e),{},{task_videos:l});case"GET_ELEMENT_LEARN_DATA_FULFILLED":var c=Ue({},e.current_element_learn);return c[t.payload.module_id]||(c[t.payload.module_id]={}),c[t.payload.module_id][t.payload.element_type+t.payload.element_id]=t.payload.data,Ue(Ue({},e),{},{current_element_learn:c});case"UNPIN_NOTIFICATION_FULFILLED":return function(){var n=Fe(e.notifications);for(var r in n)n[r].notificationId===t.payload&&(n[r].isPinned=!1);return Ue(Ue({},e),{},{notifications:n})}();case"MARK_READ_NOTIFICATION_FULFILLED":return function(){var n=Fe(e.notifications);for(var r in n)n[r].notificationId===t.payload&&(n[r].status=Te.STATUS.READ);return Ue(Ue({},e),{},{notifications:n})}();case"GET_OPEN_COURSE_LIST_FULFILLED":return Ue(Ue({},e),{},{open_course_list_is_loading:!1,open_course_list:t.payload.courses});case"SET_COURSE_LEARN_DATA_FULFILLED":return Ue(Ue({},e),{},{current_course_learn:t.data});case"GET_COURSE_LEARN_DATA_FULFILLED":return Ue(Ue({},e),{},{current_course_learn:t.payload});case"GET_MODULE_LEARN_DATA_FULFILLED":return Ue(Ue({},e),{},{current_module_learn:t.payload});case"UPDATE_MODULE_LEARN_DATA":return Ue(Ue({},e),{},{current_module_learn:Re()(t.data)});case"GET_CERTIFICATES_FULFILLED":return Ue(Ue({},e),{},{certificates:t.payload});case"GET_CERTIFICATE_FULFILLED":var u=e.certificate_contents;return u[t.payload.hash]=t.payload,Ue(Ue({},e),{},{certificate_contents:u});case"SET_CERTIFICATES":return Ue(Ue({},e),{},{certificates:Ue({},t.data)});case"UPDATE_ELEMENT_LEARN_DATA":var f=Re()(e.current_element_learn);return f[t.module_id]||(f[t.module_id]={}),f[t.module_id][t.data.type+""+t.element_id]=t.data,Ue(Ue({},e),{},{current_element_learn:f});case"GET_COURSE_CONTENT_FULFILLED":var p=e.course_contents;return p[t.payload.course.hash]=t.payload.course,Ue(Ue({},e),p);case"GET_CONTENT_FULFILLED":var d=e.contents_data;return d[t.payload.hash]=t.payload.data,Ue(Ue({},e),d);case"GET_MY_COURSE_LIST_FULFILLED":return Ue(Ue({},e),{},{my_course_list_is_loading:!1,my_course_list:t.payload.courses});case"GET_COURSE_DATA_FULFILLED":return Ue(Ue({},e),{},{current_course:t.payload});case"GET_NEWS_BY_ID_FULFILLED":return Ue(Ue({},e),{},{news_data:t.payload});case"GET_UPCOMING_COURSE_LIST_FULFILLED":return Ue(Ue({},e),{},{upcoming_course_list_is_loading:!1,course_list:t.payload.courses});case"GET_LECTURER_LIST_FULFILLED":return Ue(Ue({},e),{},{lecturer_list:t.payload.lecturers});case"GET_OPEN_COURSE_LIST_PENDING":return Ue(Ue({},e),{},{course_list_is_loading:!0});case"GET_MY_COURSE_LIST_PENDING":return Ue(Ue({},e),{},{my_course_list_is_loading:!0});case"GET_UPCOMING_COURSE_LIST_PENDING":return Ue(Ue({},e),{},{upcoming_course_list_is_loading:!0});case"GET_COURSE_ATTENDED_FULFILLED":return Ue(Ue({},e),{},{course_attended:t.payload});case"GET_COURSE_STATS_FULFILLED":return Ue(Ue({},e),{},{course_stats:t.payload});case"GET_FULL_COURSE_LIST_FULFILLED":return Ue(Ue({},e),{},{full_course_list_is_loading:!1,full_course_list:t.payload});case"GET_FULL_COURSE_LIST_PENDING":return Ue(Ue({},e),{},{full_course_list_is_loading:!0});case"GET_MAIN_INFO_FULFILLED":return Ue(Ue({},e),{},{main_info:t.payload});case"GET_MAIN_CONTENT_FULFILLED":return Ue(Ue({},e),{},{main_content:t.payload});case"GET_MODULE_LEARN_DATA_BY_SKIN_FULFILLED":return Ue(Ue({},e),{},{current_module_learn_by_skin:t.payload});case"GET_ELEMENT_LEARN_DATA_THREAD_FULFILLED":return Ue(Ue({},e),{},{current_element_learn_thread:t.payload});case"GET_MODULE_PROGRESS_FULFILLED":return Ue(Ue({},e),{},{module_progress:t.payload});case"GET_COURSE_BUCKETS_FULFILLED":return Ue(Ue({},e),{},{course_buckets:t.payload.success});case"GET_TASK_HINTS_FULFILLED":return Ue(Ue({},e),{},{taskHints:t.payload.success.hints});default:return e}},passingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selected_element_num:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SELECTED_ELEMENT_NUM":return Ve(Ve({},e),{},{selected_element_num:t.status});default:return e}},selectedModuleId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTED_MODULE_ID":return t.status;default:return e}}}),Ye=n(601),ze=n(618),qe=Object(ie.d)(We,Object(ie.c)(Object(ie.a)(Ye.a,Object(ze.a)()),window.devToolsExtension?window.devToolsExtension():function(e){return e}));CONFIG.Version&&CONFIG.Version;var Ze=function(e){e=e||location.href,e=encodeURIComponent(e),location.href=CONFIG.Auth.anonymous_redirect_uri+"?client_id="+CONFIG.Auth.client_id+"&redirect_uri="+encodeURIComponent(CONFIG.Auth.redirect_uri+"?redirect_to="+e)+"&response_type=code&scope="+CONFIG.Auth.scope+"&state="+Math.floor(89999999*Math.random())+1e7},Ke=function(e){var t=qe.getState().authReducer.auth_token;if(!t)return null;var n=ae.a.decode(t);return n&&void 0!==n[e]?n[e]:null},Je=function(e){var t=localStorage.getItem(CONFIG.Auth.localstorage_key);return e?localStorage.setItem(CONFIG.Auth.localstorage_key,e):localStorage.removeItem(CONFIG.Auth.localstorage_key),window.dispatchEvent(new StorageEvent("storage",{key:CONFIG.Auth.localstorage_key,oldValue:t,newValue:e})),{type:"SET_AUTH_TOKEN",token:e}};n(1119);function Qe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt,rt,ot=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];$e(this,e),tt(this,"className",void 0),tt(this,"statuses",[]),tt(this,"additional_classes",[]),this.className=t,"string"==typeof n?this.statuses=n.split(" "):null!==n&&(this.statuses=n),"string"==typeof r?this.additional_classes=r.split(" "):null!==r&&(this.additional_classes=r)}var t,n,r;return t=e,(n=[{key:"appendStatus",value:function(e){this.statuses.push(e)}},{key:"appendStatusIf",value:function(e,t){!0===e&&this.appendStatus(t)}},{key:"removeStatus",value:function(e){var t=this.statuses.indexOf(e);t>=0&&this.statuses.splice(t,1)}},{key:"appendAdditionalClasses",value:function(e){this.additional_classes.push(e)}},{key:"appendAdditionalClassesIf",value:function(e,t){!0===e&&this.additional_classes.push(t)}},{key:"removeAdditionalClasses",value:function(e){var t=this.additional_classes.indexOf(e);t>=0&&this.additional_classes.splice(t,1)}},{key:"removeAdditionalClassesIf",value:function(e,t){if(!0===e){var n=this.additional_classes.indexOf(t);n>=0&&this.additional_classes.splice(n,1)}}},{key:"toString",value:function(){var e,t=this.className,n=Qe(this.statuses);try{for(n.s();!(e=n.n()).done;){var r=e.value;t+=" ".concat(this.className,"--").concat(r)}}catch(e){n.e(e)}finally{n.f()}return this.additional_classes.length>0&&(t+=" ".concat(this.additional_classes.join(" "))),t}}])&&et(t.prototype,n),r&&et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e){e.Contest="contest",e.ContestEdit="contest-edit",e.Module="module",e.Environment="environment",e.ContestTask="contestTask",e.ModuleTask="moduleTask",e.ModuleTaskExtra="moduleTaskExtra",e.ContestText="contestText",e.ModuleText="moduleText",e.ContestVideo="contestVideo",e.ModuleVideo="moduleVideo",e.Text="text",e.Task="task",e.Video="video",e.AnswersTable="answersTable",e.SMTContestEdit="smt-contest-edit"}(nt||(nt={})),function(e){e.Agreement="agreement",e.Select="select",e.TextArea="textArea"}(rt||(rt={}));var at;n(1120);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return(ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ft(this,n)}}function ft(e,t){if(t&&("object"===it(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pt(e)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.SM="small",e.MD="medium",e.LG="large"}(at||(at={}));var ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}(s,e);var t,n,r,a=ut(s);function s(){var e;st(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mt(pt(e=a.call.apply(a,[this].concat(n))),"handleClickOutside",(function(t){var n=i.a.findDOMNode(pt(e)),r=t.target;n&&r instanceof Node&&n.contains(r)||e.props.clickOutside(t)})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.clickOutside&&document.body.addEventListener("click",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.handleClickOutside)}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.onClick,r=e.children,a=e.className,i=e.fullWidth,s=e.alignItems,l=e.innerRef,c=e.dataName,u=new ot("control_wrapper");return u.appendStatusIf(i,"full-width"),u.appendAdditionalClassesIf(a.length>0,a),u.appendStatusIf(!!t,"".concat(t)),u.appendStatusIf(!!s,"align-items-".concat(s)),o.a.createElement("div",{className:u.toString(),onClick:n,ref:l,"data-name":c},r)}}])&&lt(t.prototype,n),r&&lt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){return(gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Et(e);if(t){var o=Et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(e,t){if(t&&("object"===vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}mt(ht,"defaultProps",{className:"",fullWidth:!1,size:at.LG,dataName:null,innerRef:null});var Ot,kt,St,Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gt(e,t)}(a,e);var t,n,r,o=wt(a);function a(){return bt(this,a),o.apply(this,arguments)}return t=a,n&&yt(t.prototype,n),r&&yt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(o.a.Component);St={disabled:!0,hasErrors:!1},(kt="defaultProps")in(Ot=Ct)?Object.defineProperty(Ot,kt,{value:St,enumerable:!0,configurable:!0,writable:!0}):Ot[kt]=St;n(1121);function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t){return(At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rt(e);if(t){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(e,t){if(t&&("object"===jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&At(e,t)}(i,e);var t,n,r,a=Tt(i);function i(){return Nt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.primary,r=e.className,a=e.fullWidth,i=e.onClick,s=e.disabled,l=e.caption,c=e.captionHeight,u=e.bold,f=e.darkMode,p=e.clickable,d=e.hasErrors,m=e.textAlign,h=e.hasHoverEffects,v=e.wrap,y=new ot("text_control",null,r);return y.appendStatusIf(n,"primary"),y.appendStatusIf(s,"disabled"),y.appendStatusIf(l,"caption"),y.appendStatusIf(c,"captionHeight"),y.appendStatusIf(u,"bold"),y.appendStatusIf(f,"dark_mode"),y.appendStatusIf(p,"clickable"),y.appendStatusIf(d,"hasErrors"),y.appendStatusIf(h,"hasHover"),y.appendStatusIf(!!m,"text-align-".concat(m)),y.appendStatusIf(v,"wrap"),o.a.createElement(ht,{className:y.toString(),fullWidth:a,onClick:i},t)}}])&&It(t.prototype,n),r&&It(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ct);Ft(Dt,"defaultProps",Pt(Pt({},Ct.defaultProps),{},{primary:!1,disabled:!1,caption:!1,bold:!1,darkMode:!1,clickable:!1,hasHoverEffects:!1,wrap:!1,onClick:function(){}}));n(1122);var Mt=function(e){var t=e.singleton,n=e.children,r=e.className,a=e.justifyContent,i=e.onMouseLeave,s=e.onMouseEnter,l=e.onClick,c=e.hasHover,u=e.bordered,f=e.darkMode,p=e.wrap,d=e.outerRef,m=new ot("element_wrapper");return m.appendStatusIf(!!a,"justify-content-".concat(a)),m.appendStatusIf(t,"singleton"),m.appendStatusIf(c,"has-hover"),m.appendStatusIf(u,"bordered"),m.appendStatusIf(f,"dark_mode"),m.appendStatusIf(p,"wrap"),m.appendAdditionalClassesIf(!!r,r),o.a.createElement("div",{className:m.toString(),onMouseLeave:i,onMouseEnter:s,onClick:l,ref:d},n)},Ut=Mt;Mt.defaultProps={outerRef:null};var Gt=n(1366),Bt=n(13),Vt=n(619),Ht=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.5C11.1716 1.5 10.5 2.17157 10.5 3C10.5 3.82843 11.1716 4.5 12 4.5C16.1421 4.5 19.5 7.85786 19.5 12C19.5 16.1421 16.1421 19.5 12 19.5C7.85786 19.5 4.5 16.1421 4.5 12C4.5 11.1716 3.82843 10.5 3 10.5C2.17157 10.5 1.5 11.1716 1.5 12C1.5 17.799 6.20101 22.5 12 22.5C17.799 22.5 22.5 17.799 22.5 12C22.5 6.20101 17.799 1.5 12 1.5ZM12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z",fill:"white"})))},Wt=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M19 13V18C19 18.55 18.55 19 18 19H6C5.45 19 5 18.55 5 18V13C5 12.45 4.55 12 4 12C3.45 12 3 12.45 3 13V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V13C21 12.45 20.55 12 20 12C19.45 12 19 12.45 19 13ZM13 6.4125L14.88 8.2925C15.27 8.6825 15.9 8.6825 16.29 8.2925C16.68 7.9025 16.68 7.2725 16.29 6.8825L12.7 3.2925C12.31 2.9025 11.68 2.9025 11.29 3.2925L7.7 6.8825C7.31 7.2725 7.31 7.9025 7.7 8.2925C8.09 8.6825 8.72 8.6825 9.11 8.2925L11 6.4125V15.0825C11 15.6325 11.45 16.0825 12 16.0825C12.55 16.0825 13 15.6325 13 15.0825V6.4125Z",fill:"white"})))},Yt=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12C2 17.4314 6.33736 21.8559 11.7351 21.9966C11.019 21.2791 10.4482 20.4165 10.0703 19.4575L9.92578 19.0909L10.0703 18.7243C11.1588 15.962 13.8473 14 17.0006 14C18.6449 14 20.1628 14.5335 21.3934 15.4357C21.7858 14.3642 22 13.207 22 12C22 6.48 17.52 2 12 2ZM17.0006 15C18.507 15 19.8919 15.5175 20.989 16.3844C20.989 16.3845 20.9889 16.3846 20.9888 16.3848C21.8778 17.0873 22.5777 18.0192 23 19.0909C22.0564 21.4855 19.7273 23.1818 17 23.1818C14.2727 23.1818 11.9436 21.4855 11 19.0909C11.9363 16.7149 14.2368 15.0263 16.9368 15.0003C16.9578 15.0001 16.9789 15 17 15C17.0002 15 17.0004 15 17.0006 15ZM15.501 21.3692C15.9312 21.653 16.4464 21.8182 17 21.8182C18.5055 21.8182 19.7273 20.5964 19.7273 19.0909C19.7273 17.5855 18.5055 16.3636 17 16.3636C15.4945 16.3636 14.2727 17.5855 14.2727 19.0909C14.2727 20.0428 14.7612 20.8813 15.501 21.3692ZM18.5767 19.5313C18.6156 19.3912 18.6364 19.2435 18.6364 19.0909C18.6364 18.1855 17.9055 17.4545 17 17.4545C16.0945 17.4545 15.3636 18.1855 15.3636 19.0909C15.3636 19.9964 16.0945 20.7273 17 20.7273C17.7528 20.7273 18.385 20.222 18.5767 19.5313ZM9.29 16.29L5.7 12.7C5.31 12.31 5.31 11.68 5.7 11.29C6.09 10.9 6.72 10.9 7.11 11.29L10 14.17L15.88 8.29C16.27 7.9 16.9 7.9 17.29 8.29C17.68 8.68 17.68 9.31 17.29 9.7L10.7 16.29C10.32 16.68 9.68 16.68 9.29 16.29Z",fill:"#B0B0B0"})))},zt=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M13.0003 8.57031C12.2103 8.57031 11.5703 9.21031 11.5703 10.0003C11.5703 10.7903 12.2103 11.4303 13.0003 11.4303C13.7903 11.4303 14.4303 10.7903 14.4303 10.0003C14.4303 9.21031 13.7903 8.57031 13.0003 8.57031Z",fill:"#B0B0B0"}),o.a.createElement("path",{d:"M13.2098 3.00002C9.36982 2.89002 6.20982 5.87002 6.01982 9.64002L4.09982 12.2C3.84982 12.53 4.08982 13 4.49982 13H5.99982V16C5.99982 17.1 6.89982 18 7.99982 18H8.99982V20C8.99982 20.55 9.44982 21 9.99982 21H14.9998C15.5498 21 15.9998 20.55 15.9998 20V16.32C18.4398 15.16 20.0998 12.64 19.9998 9.74002C19.8598 6.12002 16.8198 3.11002 13.2098 3.00002ZM15.9998 10C15.9998 10.13 15.9898 10.26 15.9798 10.39L16.8098 11.05C16.8898 11.11 16.9098 11.21 16.8598 11.3L16.0598 12.69C16.0098 12.78 15.8998 12.81 15.8198 12.78L14.8298 12.38C14.6198 12.54 14.3998 12.67 14.1598 12.77L13.9998 13.83C13.9898 13.93 13.8998 14 13.7998 14H12.1998C12.0998 14 12.0198 13.93 11.9998 13.83L11.8498 12.77C11.5998 12.67 11.3798 12.54 11.1698 12.38L10.1798 12.78C10.0898 12.81 9.97983 12.78 9.92982 12.69L9.12982 11.3C9.07982 11.22 9.09982 11.11 9.17982 11.05L10.0198 10.39C10.0098 10.26 9.99982 10.13 9.99982 10C9.99982 9.87002 10.0198 9.73002 10.0398 9.61002L9.18982 8.95002C9.10982 8.89002 9.08982 8.79002 9.13982 8.69002L9.93982 7.31002C9.98982 7.22002 10.0898 7.19002 10.1798 7.22002L11.1798 7.62002C11.3798 7.47002 11.6098 7.33002 11.8498 7.23002L11.9998 6.17002C12.0198 6.07002 12.0998 6.00002 12.1998 6.00002H13.7998C13.8998 6.00002 13.9798 6.07002 13.9998 6.17002L14.1498 7.23002C14.3898 7.33002 14.6098 7.46002 14.8198 7.62002L15.8198 7.22002C15.9098 7.19002 16.0198 7.22002 16.0598 7.31002L16.8598 8.69002C16.9098 8.78002 16.8898 8.89002 16.8098 8.95002L15.9598 9.61002C15.9898 9.73002 15.9998 9.86002 15.9998 10Z",fill:"#B0B0B0"})))},qt=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 1L15 0.999999C15.55 0.999999 16 1.45 16 2C16 2.55 15.55 3 15 3L5 3C4.45 3 4 3.45 4 4L4 16C4 16.55 3.55 17 3 17C2.45 17 2 16.55 2 16L2 3C2 1.9 2.9 1 4 1ZM9 5C7.34315 5 6 6.34315 6 8L6 20C6 21.6569 7.34315 23 9 23L18 23C19.6569 23 21 21.6569 21 20L21 8C21 6.34314 19.6569 5 18 5L9 5Z",fill:"white"})))},Zt=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M18 5C18.5523 5 19 5.44772 19 6V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18V6C5 5.44772 5.44772 5 6 5H18ZM19 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM16 13H13V16C13 16.55 12.55 17 12 17C11.45 17 11 16.55 11 16V13H8C7.45 13 7 12.55 7 12C7 11.45 7.45 11 8 11H11V8C11 7.45 11.45 7 12 7C12.55 7 13 7.45 13 8V11H16C16.55 11 17 11.45 17 12C17 12.55 16.55 13 16 13Z"})))},Kt=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"22",height:"18",viewBox:"0 0 22 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M20 0H2C0.9 0 0 0.9 0 2V4C0 4.55 0.45 5 1 5C1.55 5 2 4.55 2 4V3C2 2.45 2.45 2 3 2H19C19.55 2 20 2.45 20 3V15C20 15.55 19.55 16 19 16H14C13.45 16 13 16.45 13 17C13 17.55 13.45 18 14 18H20C21.1 18 22 17.1 22 16V2C22 0.9 21.1 0 20 0ZM1.14 11.09C0.54 10.99 0 11.48 0 12.09C0 12.58 0.36 12.99 0.85 13.07C2.93 13.43 4.57 15.07 4.93 17.15C5.01 17.64 5.42 18 5.91 18C6.52 18 7 17.46 6.91 16.86C6.43 13.9 4.09 11.57 1.14 11.09ZM0 15V18H3C3 16.34 1.66 15 0 15ZM1.1 7.05C0.51 7 0 7.46 0 8.05C0 8.56 0.38 8.99 0.88 9.04C5.15 9.45 8.55 12.85 8.96 17.12C9.01 17.62 9.44 17.99 9.95 17.99C10.55 17.99 11.01 17.47 10.95 16.88C10.42 11.69 6.29 7.57 1.1 7.05Z",fill:"#B0B0B0"})))},Jt=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6H20C21.1 6 22 6.9 22 8V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18L2.01 6C2.01 4.9 2.9 4 4 4H9.17C9.7 4 10.21 4.21 10.59 4.59L12 6ZM4 17C4 17.55 4.45 18 5 18H19C19.55 18 20 17.55 20 17V9C20 8.45 19.55 8 19 8H5C4.45 8 4 8.45 4 9V17ZM14.4659 16.2464L17.2559 13.7544C17.4459 13.5644 17.4459 13.2444 17.2559 13.0544L14.4659 10.546C14.1559 10.226 13.6159 10.446 13.6159 10.896V12.4044H7.60594C7.05594 12.4044 6.60594 12.8544 6.60594 13.4044C6.60594 13.9544 7.05594 14.4044 7.60594 14.4044H13.6159V15.8964C13.6159 16.3464 14.1559 16.5664 14.4659 16.2464Z",fill:"#B0B0B0"})))},Qt=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M14.65 4.97999L9.65 3.22999C9.23 3.07999 8.77 3.07999 8.35 3.21999L4.36 4.55999C3.55 4.83999 3 5.59999 3 6.45999V18.31C3 19.72 4.41 20.68 5.72 20.17L8.65 19.03C8.87 18.94 9.12 18.94 9.34 19.02L14.34 20.77C14.76 20.92 15.22 20.92 15.64 20.78L19.63 19.44C20.44 19.17 20.99 18.4 20.99 17.54V5.68999C20.99 4.27999 19.58 3.31999 18.27 3.82999L15.34 4.96999C15.12 5.04999 14.88 5.05999 14.65 4.97999ZM15 18.89L9 16.78V5.10999L15 7.21999V18.89Z",fill:"#4C4C4C"})))},Xt=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M15.1251 3C14.5026 3 14.0001 3.5025 14.0001 4.125V7.875C14.0001 8.085 13.8351 8.25 13.6251 8.25C13.4151 8.25 13.2501 8.085 13.2501 7.875V1.875C13.2501 1.2525 12.7476 0.75 12.1251 0.75C11.5026 0.75 11.0001 1.2525 11.0001 1.875V7.875C11.0001 8.085 10.8351 8.25 10.6251 8.25C10.4151 8.25 10.2501 8.085 10.2501 7.875V1.125C10.2501 0.5025 9.74759 0 9.12509 0C8.50259 0 8.00009 0.5025 8.00009 1.125V7.8675C8.00009 8.0775 7.83509 8.2425 7.62509 8.2425C7.41509 8.2425 7.25009 8.0775 7.25009 7.8675V3.375C7.25009 2.7525 6.74759 2.25 6.12509 2.25C5.50259 2.25 5.00009 2.7525 5.00009 3.375V11.9325L1.91009 10.17C1.47509 9.9225 0.935089 9.99 0.575089 10.335C0.125089 10.77 0.110089 11.49 0.552589 11.9325L5.63759 17.1C6.20009 17.6775 6.96509 18 7.77509 18H13.2501C14.9076 18 16.2501 16.6575 16.2501 15V4.125C16.2501 3.5025 15.7476 3 15.1251 3Z",fill:"#FFBF00"})))},$t=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 38 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{clipPath:"url(#SwitcherOffIconclip0)"},o.a.createElement("rect",{x:"3",y:"5",width:"32",height:"14",rx:"7",fill:"#CFCFCF"}),o.a.createElement("g",{filter:"url(#SwitcherOffIconfilter0_d)"},o.a.createElement("circle",{cx:"10",cy:"12",r:"10",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"SwitcherOffIconfilter0_d",x:"-2",y:"1",width:"24",height:"24",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",{dy:"1"}),o.a.createElement("feGaussianBlur",{stdDeviation:"1"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"SwitcherOffIconclip0"},o.a.createElement("rect",{width:"38",height:"24",fill:"white"})))))},en=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"23",viewBox:"0 0 35 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("rect",{y:"4",width:"32",height:"14",rx:"7",fill:"#759DF4"}),o.a.createElement("g",{filter:"url(#SwitcherOnIconfilter0_d)"},o.a.createElement("circle",{cx:"25",cy:"11",r:"10",fill:"#255ACC"})),o.a.createElement("defs",null,o.a.createElement("filter",{id:"SwitcherOnIconfilter0_d",x:"13",y:"0",width:"24",height:"24",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",{dy:"1"}),o.a.createElement("feGaussianBlur",{stdDeviation:"1"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))))},tn=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.93385 5.70516C10.8573 5.70516 11.606 5.00056 11.606 4.13139C11.606 3.26222 10.8573 2.55762 9.93385 2.55762C9.01036 2.55762 8.26172 3.26222 8.26172 4.13139C8.26172 5.00056 9.01036 5.70516 9.93385 5.70516ZM14.4598 5.508C15.2746 5.508 15.9352 4.89148 15.9352 4.13096C15.9352 3.37043 15.2746 2.75391 14.4598 2.75391C13.6449 2.75391 12.9844 3.37043 12.9844 4.13096C12.9844 4.89148 13.6449 5.508 14.4598 5.508ZM11.4103 8.55744C11.4103 9.37229 10.7938 10.0329 10.0333 10.0329C9.27278 10.0329 8.65625 9.37229 8.65625 8.55744C8.65625 7.74259 9.27278 7.08203 10.0333 7.08203C10.7938 7.08203 11.4103 7.74259 11.4103 8.55744ZM5.31074 10.1307C5.31074 10.9455 4.69421 11.6061 3.93369 11.6061C3.17317 11.6061 2.55664 10.9455 2.55664 10.1307C2.55664 9.31584 3.17317 8.65527 3.93369 8.65527C4.69421 8.65527 5.31074 9.31584 5.31074 10.1307ZM19.6726 6.29502C19.6726 7.05554 19.1001 7.67207 18.3939 7.67207C17.6877 7.67207 17.1152 7.05554 17.1152 6.29502C17.1152 5.53449 17.6877 4.91797 18.3939 4.91797C19.1001 4.91797 19.6726 5.53449 19.6726 6.29502ZM14.4584 9.8357C15.1646 9.8357 15.7371 9.26321 15.7371 8.55701C15.7371 7.85081 15.1646 7.27832 14.4584 7.27832C13.7522 7.27832 13.1797 7.85081 13.1797 8.55701C13.1797 9.26321 13.7522 9.8357 14.4584 9.8357ZM13.3777 12.2953C13.3777 13.0015 12.8052 13.574 12.099 13.574C11.3928 13.574 10.8203 13.0015 10.8203 12.2953C10.8203 11.5891 11.3928 11.0166 12.099 11.0166C12.8052 11.0166 13.3777 11.5891 13.3777 12.2953ZM7.96814 13.574C8.67434 13.574 9.24683 13.0015 9.24683 12.2953C9.24683 11.5891 8.67434 11.0166 7.96814 11.0166C7.26194 11.0166 6.68945 11.5891 6.68945 12.2953C6.68945 13.0015 7.26194 13.574 7.96814 13.574ZM5.11402 14.6556C5.11402 15.3618 4.54153 15.9343 3.83533 15.9343C3.12913 15.9343 2.55664 15.3618 2.55664 14.6556C2.55664 13.9494 3.12913 13.377 3.83533 13.377C4.54153 13.377 5.11402 13.9494 5.11402 14.6556ZM6.1972 19.4755C6.79476 19.4755 7.27917 18.991 7.27917 18.3935C7.27917 17.7959 6.79476 17.3115 6.1972 17.3115C5.59965 17.3115 5.11523 17.7959 5.11523 18.3935C5.11523 18.991 5.59965 19.4755 6.1972 19.4755ZM11.2128 16.2294C11.2128 16.827 10.7283 17.3114 10.1308 17.3114C9.53324 17.3114 9.04883 16.827 9.04883 16.2294C9.04883 15.6319 9.53324 15.1475 10.1308 15.1475C10.7283 15.1475 11.2128 15.6319 11.2128 16.2294ZM14.4589 17.3114C15.0565 17.3114 15.5409 16.827 15.5409 16.2294C15.5409 15.6319 15.0565 15.1475 14.4589 15.1475C13.8614 15.1475 13.377 15.6319 13.377 16.2294C13.377 16.827 13.8614 17.3114 14.4589 17.3114ZM17.7049 12.2949C17.7049 12.8924 17.2205 13.3768 16.623 13.3768C16.0254 13.3768 15.541 12.8924 15.541 12.2949C15.541 11.6973 16.0254 11.2129 16.623 11.2129C17.2205 11.2129 17.7049 11.6973 17.7049 12.2949ZM20.3613 11.2128C20.9588 11.2128 21.4432 10.7283 21.4432 10.1308C21.4432 9.53324 20.9588 9.04883 20.3613 9.04883C19.7637 9.04883 19.2793 9.53324 19.2793 10.1308C19.2793 10.7283 19.7637 11.2128 20.3613 11.2128ZM21.2451 14.6558C21.2451 15.1447 20.8488 15.541 20.3599 15.541C19.8709 15.541 19.4746 15.1447 19.4746 14.6558C19.4746 14.1668 19.8709 13.7705 20.3599 13.7705C20.8488 13.7705 21.2451 14.1668 21.2451 14.6558ZM9.93407 21.6396C10.423 21.6396 10.8193 21.2433 10.8193 20.7544C10.8193 20.2655 10.423 19.8691 9.93407 19.8691C9.44517 19.8691 9.04883 20.2655 9.04883 20.7544C9.04883 21.2433 9.44517 21.6396 9.93407 21.6396ZM15.1466 20.754C15.1466 21.1342 14.8383 21.4425 14.4581 21.4425C14.0778 21.4425 13.7695 21.1342 13.7695 20.754C13.7695 20.3737 14.0778 20.0654 14.4581 20.0654C14.8383 20.0654 15.1466 20.3737 15.1466 20.754ZM18.1963 19.2788C18.5766 19.2788 18.8849 18.9265 18.8849 18.492C18.8849 18.0574 18.5766 17.7051 18.1963 17.7051C17.8161 17.7051 17.5078 18.0574 17.5078 18.492C17.5078 18.9265 17.8161 19.2788 18.1963 19.2788ZM7.67239 6.29545C7.67239 7.16462 6.92375 7.86922 6.00026 7.86922C5.07676 7.86922 4.32812 7.16462 4.32812 6.29545C4.32812 5.42628 5.07676 4.72168 6.00026 4.72168C6.92375 4.72168 7.67239 5.42628 7.67239 6.29545Z",fill:"#B0B0B0"})))},nn=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2509 2.75301V3.94551C12.0009 4.69551 9.75094 8.44551 9.00094 12.1955C10.8759 9.57051 13.5009 8.37051 17.2509 8.37051V9.63801C17.2509 10.3055 18.0609 10.6355 18.5334 10.163L21.9759 6.72051C22.2684 6.42801 22.2684 5.95551 21.9759 5.66301L18.5334 2.22051C18.0609 1.74801 17.2509 2.08551 17.2509 2.75301ZM6 19H18C18.55 19 19 18.55 19 18V13C19 12.45 19.45 12 20 12C20.55 12 21 12.45 21 13V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.89 3 5 3H11C11.55 3 12 3.45 12 4C12 4.55 11.55 5 11 5H6C5.45 5 5 5.45 5 6V18C5 18.55 5.45 19 6 19Z",fill:"#B0B0B0"})))},rn=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.15 3.55L20.54 5.23C20.83 5.57 21 6.02 21 6.5V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V6.5C3 6.02 3.17 5.57 3.46 5.23L4.84 3.55C5.12 3.21 5.53 3 6 3H18C18.47 3 18.88 3.21 19.15 3.55ZM5.93 4L5.12 5H18.87L17.93 4H5.93ZM16.7071 9.29289C17.0976 9.68342 17.0976 10.3166 16.7071 10.7071L11 16.4142L7.79289 13.2071C7.40237 12.8166 7.40237 12.1834 7.79289 11.7929C8.18342 11.4024 8.81658 11.4024 9.20711 11.7929L11 13.5858L15.2929 9.29289C15.6834 8.90237 16.3166 8.90237 16.7071 9.29289Z",fill:"#666666"})))},on=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M9.3 11.775C8.679 11.775 8.175 12.279 8.175 12.9C8.175 13.521 8.679 14.025 9.3 14.025C9.921 14.025 10.425 13.521 10.425 12.9C10.425 12.279 9.921 11.775 9.3 11.775ZM14.7 11.775C14.079 11.775 13.575 12.279 13.575 12.9C13.575 13.521 14.079 14.025 14.7 14.025C15.321 14.025 15.825 13.521 15.825 12.9C15.825 12.279 15.321 11.775 14.7 11.775ZM12 3C7.032 3 3 7.032 3 12C3 16.968 7.032 21 12 21C16.968 21 21 16.968 21 12C21 7.032 16.968 3 12 3ZM12 19.2C8.031 19.2 4.8 15.969 4.8 12C4.8 11.739 4.818 11.478 4.845 11.226C6.969 10.281 8.652 8.544 9.534 6.393C11.163 8.697 13.845 10.2 16.878 10.2C17.58 10.2 18.255 10.119 18.903 9.966C19.092 10.605 19.2 11.289 19.2 12C19.2 15.969 15.969 19.2 12 19.2Z",fill:"#848484"}),o.a.createElement("rect",{x:"13",y:"15",width:"10",height:"7",rx:"0.5",fill:"#666666"}),o.a.createElement("path",{d:"M22 16V17.3781L18.36 19.8863C18.1467 20.0379 17.8533 20.0379 17.6267 19.8863L14 17.3781V16L18 18.7562L22 16Z",fill:"white"})))},an=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 0.5C10.1716 0.5 9.5 1.17157 9.5 2C9.5 2.82843 10.1716 3.5 11 3.5C15.1421 3.5 18.5 6.85786 18.5 11C18.5 15.1421 15.1421 18.5 11 18.5C6.85786 18.5 3.5 15.1421 3.5 11C3.5 10.1716 2.82843 9.5 2 9.5C1.17157 9.5 0.5 10.1716 0.5 11C0.5 16.799 5.20101 21.5 11 21.5C16.799 21.5 21.5 16.799 21.5 11C21.5 5.20101 16.799 0.5 11 0.5ZM11 16C13.7614 16 16 13.7614 16 11C16 8.23858 13.7614 6 11 6C8.23858 6 6 8.23858 6 11C6 13.7614 8.23858 16 11 16Z",fill:"#63BF13"})))},sn=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.5C11.1716 1.5 10.5 2.17157 10.5 3C10.5 3.82843 11.1716 4.5 12 4.5C16.1421 4.5 19.5 7.85786 19.5 12C19.5 16.1421 16.1421 19.5 12 19.5C7.85786 19.5 4.5 16.1421 4.5 12C4.5 11.1716 3.82843 10.5 3 10.5C2.17157 10.5 1.5 11.1716 1.5 12C1.5 17.799 6.20101 22.5 12 22.5C17.799 22.5 22.5 17.799 22.5 12C22.5 6.20101 17.799 1.5 12 1.5Z",fill:"#63BF13"}),o.a.createElement("path",{d:"M12 14.672L14.1824 16.0532C14.5821 16.3063 15.0712 15.9321 14.966 15.4589L14.3875 12.8616L16.3175 11.1118C16.6699 10.7926 16.4806 10.1874 16.0178 10.1488L13.4777 9.92322L12.4838 7.46905C12.305 7.02334 11.695 7.02334 11.5162 7.46905L10.5223 9.91772L7.98222 10.1433C7.51944 10.1818 7.33012 10.7871 7.68246 11.1063L9.61247 12.8561L9.03399 15.4534C8.92882 15.9266 9.41789 16.3008 9.81757 16.0477L12 14.672Z",fill:"#63BF13"})))},ln=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M10 12C12.2091 12 14 10.2091 14 8C14 5.79086 12.2091 4 10 4C7.79086 4 6 5.79086 6 8C6 10.2091 7.79086 12 10 12Z",fill:"#7A7A7A"}),o.a.createElement("path",{d:"M10.35 14.01C7.62 13.91 2 15.27 2 18V19C2 19.55 2.45 20 3 20H10.35C10.35 16.5 10.35 16 10.35 14.01Z",fill:"#7A7A7A"}),o.a.createElement("path",{d:"M14.4258 16.5508V21.1738C14.4258 21.4941 14.3496 21.7363 14.1973 21.9004C14.0449 22.0645 13.8516 22.1465 13.6172 22.1465C13.3828 22.1465 13.1914 22.0625 13.043 21.8945C12.8984 21.7266 12.8262 21.4863 12.8262 21.1738V16.5977C12.8262 16.2812 12.8984 16.043 13.043 15.8828C13.1914 15.7227 13.3828 15.6426 13.6172 15.6426C13.8516 15.6426 14.0449 15.7227 14.1973 15.8828C14.3496 16.043 14.4258 16.2656 14.4258 16.5508ZM13.6348 14.8984C13.4121 14.8984 13.2207 14.8301 13.0605 14.6934C12.9043 14.5566 12.8262 14.3633 12.8262 14.1133C12.8262 13.8867 12.9062 13.7012 13.0664 13.5566C13.2305 13.4082 13.4199 13.334 13.6348 13.334C13.8418 13.334 14.0254 13.4004 14.1855 13.5332C14.3457 13.666 14.4258 13.8594 14.4258 14.1133C14.4258 14.3594 14.3477 14.5527 14.1914 14.6934C14.0352 14.8301 13.8496 14.8984 13.6348 14.8984Z",fill:"#7A7A7A"}),o.a.createElement("path",{d:"M20.4668 21.2324V21.0742C20.252 21.3203 20.0391 21.5215 19.8281 21.6777C19.6211 21.8301 19.3945 21.9453 19.1484 22.0234C18.9062 22.1055 18.6406 22.1465 18.3516 22.1465C17.9688 22.1465 17.6133 22.0664 17.2852 21.9062C16.9609 21.7422 16.6797 21.5098 16.4414 21.209C16.2031 20.9082 16.0215 20.5547 15.8965 20.1484C15.7754 19.7422 15.7148 19.3027 15.7148 18.8301C15.7148 17.8301 15.959 17.0508 16.4473 16.4922C16.9355 15.9336 17.5781 15.6543 18.375 15.6543C18.8359 15.6543 19.2246 15.7344 19.541 15.8945C19.8574 16.0508 20.166 16.293 20.4668 16.6211V14.2598C20.4668 13.9316 20.5312 13.6836 20.6602 13.5156C20.793 13.3477 20.9805 13.2637 21.2227 13.2637C21.4648 13.2637 21.6504 13.3418 21.7793 13.498C21.9121 13.6504 21.9785 13.877 21.9785 14.1777V21.2324C21.9785 21.5371 21.9082 21.7656 21.7676 21.918C21.627 22.0703 21.4453 22.1465 21.2227 22.1465C21.0039 22.1465 20.8223 22.0684 20.6777 21.9121C20.5371 21.752 20.4668 21.5254 20.4668 21.2324ZM17.3203 18.8828C17.3203 19.3164 17.3867 19.6855 17.5195 19.9902C17.6562 20.2949 17.8418 20.5254 18.0762 20.6816C18.3105 20.834 18.5664 20.9102 18.8438 20.9102C19.125 20.9102 19.3809 20.8379 19.6113 20.6934C19.8457 20.5449 20.0312 20.3203 20.168 20.0195C20.3086 19.7148 20.3789 19.3359 20.3789 18.8828C20.3789 18.457 20.3086 18.0918 20.168 17.7871C20.0312 17.4785 19.8438 17.2441 19.6055 17.084C19.3711 16.9199 19.1133 16.8379 18.832 16.8379C18.5391 16.8379 18.2773 16.9219 18.0469 17.0898C17.8164 17.2539 17.6367 17.4922 17.5078 17.8047C17.3828 18.1133 17.3203 18.4727 17.3203 18.8828Z",fill:"#7A7A7A"})))},cn=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("rect",{x:"3",y:"7",width:"18",height:"4",rx:"1",fill:"#C4C4C4"}),o.a.createElement("rect",{x:"3",y:"13",width:"18",height:"4",rx:"1",fill:"#C4C4C4"})))},un=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("rect",{x:"3",y:"9",width:"8",height:"2",rx:"1",fill:"#C4C4C4"}),o.a.createElement("rect",{x:"3",y:"5",width:"18",height:"2",rx:"1",fill:"#C4C4C4"}),o.a.createElement("rect",{x:"3",y:"13",width:"8",height:"2",rx:"1",fill:"#C4C4C4"}),o.a.createElement("rect",{x:"3",y:"17",width:"18",height:"2",rx:"1",fill:"#C4C4C4"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 10H14V14H20V10ZM14 9C13.4477 9 13 9.44772 13 10V14C13 14.5523 13.4477 15 14 15H20C20.5523 15 21 14.5523 21 14V10C21 9.44772 20.5523 9 20 9H14Z",fill:"#C4C4C4"}),o.a.createElement("rect",{x:"15",y:"11",width:"1",height:"2",fill:"#C4C4C4"})))},fn=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M16 11C17.66 11 18.99 9.66 18.99 8C18.99 6.34 17.66 5 16 5C14.34 5 13 6.34 13 8C13 9.66 14.34 11 16 11ZM8 11C9.66 11 10.99 9.66 10.99 8C10.99 6.34 9.66 5 8 5C6.34 5 5 6.34 5 8C5 9.66 6.34 11 8 11ZM8 13C5.67 13 1 14.17 1 16.5V18C1 18.55 1.45 19 2 19H14C14.55 19 15 18.55 15 18V16.5C15 14.17 10.33 13 8 13ZM16 13C15.71 13 15.38 13.02 15.03 13.05C15.05 13.06 15.06 13.08 15.07 13.09C16.21 13.92 17 15.03 17 16.5V18C17 18.35 16.93 18.69 16.82 19H22C22.55 19 23 18.55 23 18V16.5C23 14.17 18.33 13 16 13Z",fill:"#909090"})))},pn=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M19 13V18C19 18.55 18.55 19 18 19H6C5.45 19 5 18.55 5 18V13C5 12.45 4.55 12 4 12C3.45 12 3 12.45 3 13V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V13C21 12.45 20.55 12 20 12C19.45 12 19 12.45 19 13ZM13 12.67L14.88 10.79C15.27 10.4 15.9 10.4 16.29 10.79C16.68 11.18 16.68 11.81 16.29 12.2L12.7 15.79C12.31 16.18 11.68 16.18 11.29 15.79L7.7 12.2C7.31 11.81 7.31 11.18 7.7 10.79C8.09 10.4 8.72 10.4 9.11 10.79L11 12.67V4C11 3.45 11.45 3 12 3C12.55 3 13 3.45 13 4V12.67Z",fill:"#909090"})))},dn=function(e){var t=e.className;return o.a.createElement(Vt.a,{className:t},o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M18 12C17.45 12 17 12.45 17 13V18.22C17 18.77 16.55 19.22 16 19.22H6C5.45 19.22 5 18.77 5 18.22V8C5 7.45 5.45 7 6 7H11C11.55 7 12 6.55 12 6C12 5.45 11.55 5 11 5H5C3.9 5 3 5.9 3 7V19C3 20.1 3.9 21 5 21H17C18.1 21 19 20.1 19 19V13C19 12.45 18.55 12 18 12Z",fill:"#909090"}),o.a.createElement("path",{d:"M19.4309 3.15645L18.0026 4.58481L16.5742 3.15645C16.1924 2.77462 15.5701 2.77462 15.1883 3.15645L15.1671 3.17767C14.7782 3.56658 14.7782 4.18883 15.16 4.57067L16.5883 5.99902L15.1671 7.42031C14.7852 7.80215 14.7852 8.4244 15.16 8.81331C15.1671 8.82038 15.1741 8.82745 15.1812 8.83452C15.5701 9.22343 16.1924 9.22343 16.5813 8.83452L18.0026 7.41324L19.4238 8.83452C19.8057 9.21636 20.435 9.22343 20.8168 8.82745C20.8239 8.82038 20.831 8.81331 20.8381 8.80624C21.2199 8.4244 21.2199 7.80215 20.8381 7.42031L19.4168 5.99902L20.8451 4.57067C21.227 4.18883 21.227 3.56658 20.8451 3.18474L20.8168 3.15645C20.435 2.77462 19.8128 2.77462 19.4309 3.15645Z",fill:"#909090"}),o.a.createElement("path",{d:"M14 9H8C7.45 9 7 9.45 7 10C7 10.55 7.45 11 8 11H14C14.55 11 15 10.55 15 10C15 9.45 14.55 9 14 9Z",fill:"#909090"}),o.a.createElement("path",{d:"M14 12H8C7.45 12 7 12.45 7 13C7 13.55 7.45 14 8 14H14C14.55 14 15 13.55 15 13C15 12.45 14.55 12 14 12Z",fill:"#909090"}),o.a.createElement("path",{d:"M14 15H8C7.45 15 7 15.45 7 16C7 16.55 7.45 17 8 17H14C14.55 17 15 16.55 15 16C15 15.45 14.55 15 14 15Z",fill:"#909090"})))};function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){return(yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_n(e);if(t){var o=_n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gn(this,n)}}function gn(e,t){if(t&&("object"===mn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wn(e)}function wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yn(e,t)}(a,e);var t,n,r,o=bn(a);function a(){var e;vn(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return En(wn(e=o.call.apply(o,[this].concat(n))),"key",void 0),En(wn(e),"type",void 0),e}return t=a,n&&hn(t.prototype,n),r&&hn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(o.a.Component);En(On,"defaultProps",{disabled:!1,hasErrors:!1});var kn;n(1123);function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e,t){return(Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tn(e);if(t){var o=Tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return An(this,n)}}function An(e,t){if(t&&("object"===Sn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.SM="small",e.MD="medium",e.LG="large"}(kn||(kn={}));var Rn={module:Ht,upload:Wt,downloads:pn,solution_to_show:Yt,diagnostics:zt,paste:qt,add_outline:Zt,do_not_touch:Xt,publish:Kt,move:Jt,environment:Qt,switcher_off:$t,switcher_on:en,sirius:tn,export:nn,archived:rn,invite:on,modulesAchieved:an,advancedModulesAchieved:sn,user_id:ln,ordinaryCols:cn,inline:un,group:fn,ungroup:dn},Fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nn(e,t)}(i,e);var t,n,r,a=In(i);function i(){return xn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.size,n=e.hasErrors,r=e.disabled,a=e.active,i=e.name,s=e.className,l=e.darkMode,c=new ot("icon_atom",[],s);if(c.appendStatusIf(n,"has-errors"),c.appendStatusIf(r,"disabled"),c.appendStatusIf(a,"active"),c.appendStatusIf(l,"dark-mode"),c.appendStatusIf(!!t,"size-".concat(t)),Rn[i]){c.appendAdditionalClasses("material-icons-outlined");var u=Rn[i];return o.a.createElement(u,{className:c.toString()})}return o.a.createElement(Bt.c,{icon:"".concat(i),className:c.toString()})}}])&&Pn(t.prototype,n),r&&Pn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(On);Ln(Fn,"defaultProps",jn(jn({},On.defaultProps),{},{size:kn.LG,active:!1,className:"",darkMode:!1}));var Dn,Mn,Un,Gn;n(1124);function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){Qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return(zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jn(e);if(t){var o=Jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zn(this,n)}}function Zn(e,t){if(t&&("object"===Bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kn(e)}function Kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.SM="small",e.MD="medium",e.LG="large"}(Dn||(Dn={})),function(e){e.TEXT="text",e.OUTLINED="outlined",e.CONTAINED="contained",e.LINK="link",e.FAB="fab",e.LAYOUT="layout"}(Mn||(Mn={})),function(e){e.INHERIT="inherit",e.PRIMARY="primary",e.SECONDARY="secondary",e.DEFAULT="default"}(Un||(Un={})),function(e){e.BLANK="_blank",e.SELF="_self",e.PARENT="_parent",e.TOP="_top"}(Gn||(Gn={}));var Xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zn(e,t)}(i,e);var t,n,r,a=qn(i);function i(){var e;Wn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qn(Kn(e=a.call.apply(a,[this].concat(n))),"onClick",(function(t){var n=e.props,r=n.onClick,o=n.disabled;r&&!o&&r(t)})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.pressed,r=e.children,a=e.disabled,i=e.className,s=e.startIcon,l=e.endIcon,c=e.darkMode,u=e.size,f=e.roundShaped,p=e.restrictHoverEffects,d=e.restrictFocusEffects,m=e.href,h=e.target,v=e.hasErrors,y=e.dataName,b=e.highlighted,g=this.props.variant,w=new ot("");w.appendAdditionalClassesIf(n,"pressed"),w.appendAdditionalClassesIf(c,"dark-mode"),w.appendAdditionalClassesIf(f,"round"),w.appendAdditionalClassesIf(p,"restrict-hover"),w.appendAdditionalClassesIf(d,"restrict-focus"),w.appendAdditionalClassesIf(v,"hasErrors"),w.appendAdditionalClassesIf(b,"highlighted");var _=s;_&&(_=o.a.createElement(Fn,{name:s}));var E=l;E&&(E=o.a.createElement(Fn,{name:l}));var O=new ot("button_control",null,i);O.appendStatusIf(!!u,u),O.appendStatusIf(!!E,"endIcon"),O.appendStatusIf(!!_,"startIcon"),g===Mn.LINK&&(w.appendAdditionalClasses("link"),g=Mn.TEXT),g===Mn.FAB&&(w.appendAdditionalClasses("fab"),g=Mn.TEXT),g===Mn.LAYOUT&&(w.appendAdditionalClasses("layout"),g=Mn.TEXT),b&&(g=Mn.TEXT);var k={className:w.toString(),startIcon:_,endIcon:E,color:t,disabled:a,variant:g,size:u,href:m,target:h};return o.a.createElement(ht,{className:O.toString(),size:u,onClick:this.onClick,dataName:y},o.a.createElement(Gt.a,k,r))}}])&&Yn(t.prototype,n),r&&Yn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ct);Qn(Xn,"defaultProps",Hn(Hn({},Ct.defaultProps),{},{size:at.LG,variant:Mn.TEXT,disabled:!1,darkMode:!1,pressed:!1,roundShaped:!1,color:Un.DEFAULT,className:"",target:Gn.BLANK,restrictHoverEffects:!1,restrictFocusEffects:!1,hasErrors:!1,highlighted:!1,dataName:null}));var $n=n(1338);n(1125);function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return(ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lr(e);if(t){var o=lr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sr(this,n)}}function sr(e,t){if(t&&("object"===er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ar(e,t)}(i,e);var t,n,r,a=ir(i);function i(){return rr(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e,t=this.props,n=t.iconName,r=t.onClick,a=t.pressed,i=t.disabled,s=t.className,l=t.darkMode,c=t.roundShaped,u=t.size,f=t.color,p=t.hasErrors,d=t.highlighted,m=t.restrictFocusEffects,h=t.restrictHoverEffects,v=t.inline,y=t.buttonRef,b=t.iconClassName,g=this.props.variant,w=(e=u,Object.keys(kn).find((function(t){return kn[t]===e}))?u:kn.LG),_=u===at.LG?at.MD:u,E=new ot(""),O=new ot("icon_button_control",null,s);O.appendStatusIf(!!u,u),E.appendAdditionalClassesIf(l,"dark-mode"),E.appendAdditionalClassesIf(c,"round"),E.appendAdditionalClassesIf(a,"pressed"),E.appendAdditionalClassesIf(p,"error"),E.appendAdditionalClassesIf(d,"highlighted"),d&&(g=Mn.TEXT),O.appendStatusIf(g===Mn.FAB,"fab"),O.appendStatusIf(g===Mn.LAYOUT,"layout"),g!==Mn.FAB&&g!==Mn.LAYOUT||(g=Mn.TEXT),E.appendAdditionalClassesIf(!!g,g),E.appendAdditionalClassesIf(h,"restrict-hover"),E.appendAdditionalClassesIf(m,"restrict-focus");var k="button";return v&&(k="span"),o.a.createElement(ht,{className:O.toString(),size:u,innerRef:y},o.a.createElement($n.a,{onClick:r,className:E.toString(),disabled:i,color:f,size:_,component:k},o.a.createElement(Fn,{name:n,size:w,hasErrors:p,disabled:i,active:a,className:b})))}}])&&or(t.prototype,n),r&&or(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ct);cr(ur,"defaultProps",nr(nr({},Xn.defaultProps),{},{size:at.LG,variant:Mn.TEXT,pressed:!1,className:"",disabled:!1,roundShaped:!1,darkMode:!1,hasErrors:!1,highlighted:!1,color:Un.DEFAULT,inline:!1,buttonRef:null}));var fr=n(77),pr=n.n(fr);function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"setBodyScrollEventDisabled",value:function(e){if(this.scrollY=window.pageYOffset,e){if(document.body.classList.contains("locked"))return;this.disableScrollEvents()}else this.enableScrollEvents()}},{key:"handleDisabledScroll",value:function(e){window.scrollTo(0,this.scrollY),e.preventDefault(),e.stopPropagation()}}],(n=null)&&dr(t.prototype,n),r&&dr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();mr(hr,"setBodyScrollDisabled",(function(e){if(e){var t=0;if(window.getComputedStyle){var n=window.getComputedStyle(document.body);n&&"hidden"!==n.overflow&&(t=parseInt(n.marginRight))}var r=window.innerWidth-document.body.clientWidth;if(document.body.classList.contains("locked"))return;document.body.style.setProperty("margin-right","".concat(t+r,"px")),document.body.style.setProperty("overscroll-behavior","none"),document.body.style.setProperty("overflow","hidden"),document.body.classList.add("locked")}else document.body.style.removeProperty("overscroll-behavior"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("margin-right"),document.body.classList.remove("locked")})),mr(hr,"scrollY",0),mr(hr,"disableScrollEvents",(function(){window.addEventListener("scroll",hr.handleEvents,!1),document.body.classList.add("locked")})),mr(hr,"enableScrollEvents",(function(){window.removeEventListener("scroll",hr.handleEvents,!1),document.body.classList.remove("locked")})),mr(hr,"handleEvents",(function(e){hr.handleDisabledScroll(e)}));n(1137),n(1138);var vr=function(e){var t=e.children,n=e.className,r=new ot("modal_window__footer",null,n);return o.a.createElement("div",{className:r.toString()},t)};function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){_r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t,n){return t&&gr(e.prototype,t),n&&gr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Er=wr((function e(t,n,r,o,a){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_r(this,"modalProps",void 0),_r(this,"modalState",void 0),_r(this,"setModalState",void 0),_r(this,"modalWindowWrapperRef",void 0),_r(this,"modalWindowRef",void 0),_r(this,"marginFromTarget",5),_r(this,"setActualPopoverRects",(function(){var e=i.modalProps,t=e.popoverTargetEl,n=e.popoverPosition,r=i.modalState.popoverRects;if(window.matchMedia("(max-width: 760px)").matches)r=br(br({},r),{},{bottom:"0",left:"0"});else{var o=t.getBoundingClientRect();if(r={},n===Cr.TOP_LEFT&&(r.left="".concat(o.left,"px"),r.bottom="".concat(document.documentElement.clientHeight-o.top+i.marginFromTarget,"px")),n===Cr.TOP_RIGHT&&(r.right="".concat(document.documentElement.clientWidth-o.right,"px"),r.bottom="".concat(document.documentElement.clientHeight-o.top+i.marginFromTarget,"px")),n===Cr.BOTTOM_LEFT&&(r.left="".concat(o.left,"px"),r.top="".concat(o.bottom+i.marginFromTarget,"px")),n===Cr.BOTTOM_LEFT_END&&(r.left="".concat(o.width+o.left,"px"),r.top="".concat(o.bottom+i.marginFromTarget,"px")),n===Cr.BOTTOM_RIGHT&&(r.right="".concat(document.documentElement.clientWidth-o.right,"px"),r.top="".concat(o.bottom+i.marginFromTarget,"px")),n===Cr.BOTTOM_CENTER){var a=document.documentElement.clientWidth-o.right-i.modalWindowWrapperRef.current.clientWidth/2+t.clientWidth/2;r.right="".concat(a,"px"),r.top="".concat(o.bottom+i.marginFromTarget,"px")}}r=i.fitPopoverRects(br({},r)),i.setModalState({popoverRects:r,popoverTargetRects:t.getBoundingClientRect()})})),_r(this,"fitPopoverRects",(function(e){var t=i.modalProps.popoverTargetEl,n=i.modalWindowWrapperRef.current,r=n.clientWidth,o=n.clientHeight,a=t.getBoundingClientRect(),s=null;e.top&&((s=parseInt(e.top))<0&&a.bottom>0&&(e.top="0"),s+o>window.innerHeight&&(e.top="".concat(s-(s+o-window.innerHeight),"px")),a.top>window.innerHeight&&(e.top="".concat(a.top-o-i.marginFromTarget,"px"))),e.bottom&&(a.top-o<=0&&(e.bottom="".concat(window.innerHeight-o,"px")),window.innerHeight-(a.bottom+o)+i.marginFromTarget>=window.innerHeight-o&&(e.bottom="".concat(window.innerHeight-(a.bottom+o)+i.marginFromTarget,"px")));var l=null;e.left&&(l=parseInt(e.left),document.body.clientWidth-l<r&&(e.left="".concat(document.body.clientWidth-r,"px")),a.right>document.body.clientWidth&&(e.left="".concat(a.right-r,"px")));var c=null;return e.right&&(c=parseInt(e.right),window.innerWidth-c<r&&(e.right="".concat(window.innerWidth-r,"px")),a.left<0&&(e.right="".concat(window.innerWidth-r-a.left,"px"))),e})),_r(this,"subscribePopoverRectsChange",(function(){i.setActualPopoverRects(),window.addEventListener("scroll",i.setActualPopoverRects,!0),window.addEventListener("resize",i.setActualPopoverRects);var e=i.modalProps.popoverTargetEl.getBoundingClientRect();i.setModalState({popoverTargetRects:e})})),_r(this,"unsubscribePopoverRectsChange",(function(){window.removeEventListener("scroll",i.setActualPopoverRects,!0),window.removeEventListener("resize",i.setActualPopoverRects)})),_r(this,"updateRectsOnTargetWidthChange",(function(e,t){var n=e.x,r=e.y,o=t.x,a=t.y;n===o&&r===a||i.setActualPopoverRects()})),this.modalProps=t,this.modalState=n,this.setModalState=r,this.modalWindowWrapperRef=o,this.modalWindowRef=a}));function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t,n){return t&&Or(e.prototype,t),n&&Or(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cr,jr=kr((function e(t,n,r,o){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sr(this,"modalProps",void 0),Sr(this,"modalState",void 0),Sr(this,"setModalState",void 0),Sr(this,"contentWrapper",void 0),Sr(this,"setScrollDisabled",(function(){hr.setBodyScrollDisabled(a.getIsScrollDisabled())})),Sr(this,"updateIsScrollable",(function(){var e=a.contentWrapper.current.scrollHeight>a.contentWrapper.current.clientHeight;a.setModalState({isScrollable:e})})),Sr(this,"getIsScrollDisabled",(function(){return!a.modalProps.isPopover||window.matchMedia("(max-width: 760px)").matches})),Sr(this,"subscribeScrollUpdate",(function(){window.addEventListener("resize",a.updateIsScrollable)})),Sr(this,"unsubscribeScrollUpdate",(function(){window.removeEventListener("resize",a.updateIsScrollable)})),this.modalProps=t,this.modalState=n,this.setModalState=r,this.contentWrapper=o})),xr=n(183);function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||Ar(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ar(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){s=!0,a=e})),f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Ar(e,t){if(e){if("string"==typeof e)return Tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tr(e,t):void 0}}function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rr(e,t){return(Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ur(e);if(t){var o=Ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dr(this,n)}}function Dr(e,t){if(t&&("object"===Pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mr(e)}function Mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.TOP_LEFT="TopLeft",e.TOP_RIGHT="TopRight",e.BOTTOM_LEFT="BottomLeft",e.BOTTOM_LEFT_END="BottomLeftEnd",e.BOTTOM_RIGHT="BottomRight",e.BOTTOM_CENTER="BottomCenter"}(Cr||(Cr={}));var Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rr(e,t)}(s,e);var t,n,r,a=Fr(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Gr(Mr(t=a.call(this,e)),"state",{isScrollable:!1,popoverRects:{},popoverTargetRects:{}}),Gr(Mr(t),"handleClickOutside",(function(e){var n=t.props.onClose,r=t.modalWindowRef,o=Array.from(document.querySelectorAll(".".concat(t.modalWindowClassName))),a=e.target;r&&a instanceof Node&&(o.every((function(e){return e.className.includes("popover")}))?o.some((function(e){return e.contains(a)})):r.current.contains(a))||n(e)})),Gr(Mr(t),"ModalPositionController",void 0),Gr(Mr(t),"ModalScrollController",void 0),Gr(Mr(t),"modalWindowRef",o.a.createRef()),Gr(Mr(t),"modalWindowWrapperRef",t.props.innerRef||o.a.createRef()),Gr(Mr(t),"clearAnimationTimer",void 0),Gr(Mr(t),"contentWrapper",o.a.createRef()),Gr(Mr(t),"modalWindowClassName","modal_window"),Gr(Mr(t),"overlayClick",(function(e){if(!t.modalWindowWrapperRef.current.contains(e.target)){e.stopPropagation();var n=t.props.onClose;n&&e.target===t.modalWindowRef.current&&n(e)}})),Gr(Mr(t),"renderFooter",(function(){var e,n=t.props.children,r=Ir(o.a.Children.toArray(n));try{for(r.s();!(e=r.n()).done;){var a=e.value;if(o.a.isValidElement(a)&&a.type===vr)return a}}catch(e){r.e(e)}finally{r.f()}return null})),Gr(Mr(t),"renderChildren",(function(){var e,n=t.props.children,r=o.a.Children.toArray(n),a=Ir(r.entries());try{for(a.s();!(e=a.n()).done;){var i=Nr(e.value,2),s=i[0],l=i[1];o.a.isValidElement(l)&&l.type===vr&&(r[s]=null)}}catch(e){a.e(e)}finally{a.f()}return r})),Gr(Mr(t),"closableByControlsKeysHandler",(function(e){"Escape"===e.key&&t.handleClickOutside(e),e.key})),Gr(Mr(t),"renderButton",(function(e){var t=e.variant||Mn.OUTLINED;return e.iconName?o.a.createElement(ur,{key:e.title+e.iconName,iconName:e.iconName,color:e.color,variant:t,onClick:e.onClick,disabled:e.disabled,darkMode:e.darkMode},e.title):o.a.createElement(Xn,{key:e.title,color:e.color,onClick:e.onClick,disabled:e.disabled,startIcon:e.startIcon,variant:t,endIcon:e.endIcon,darkMode:e.darkMode,href:e.href},e.title)})),t.ModalPositionController=new Er(t.props,t.state,t.setState.bind(Mr(t)),t.modalWindowWrapperRef,t.modalWindowRef),t.ModalScrollController=new jr(t.props,t.state,t.setState.bind(Mr(t)),t.contentWrapper),t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.isPopover,r=t.onClose;n&&r&&document.body.addEventListener("click",this.handleClickOutside),this.ModalScrollController.setScrollDisabled(),this.ModalScrollController.subscribeScrollUpdate(),n&&(this.clearAnimationTimer=setTimeout((function(){e.modalWindowWrapperRef.current.style.animation="none",e.modalWindowWrapperRef.current.style.removeProperty("animation")}),250),this.ModalPositionController.subscribePopoverRectsChange()),this.ModalScrollController.updateIsScrollable(),document.addEventListener("keydown",this.closableByControlsKeysHandler)}},{key:"componentDidUpdate",value:function(e){this.ModalScrollController.setScrollDisabled();var t=this.props,n=t.children,r=t.popoverTargetEl,o=t.isPopover;pr()(n,e.children)||this.ModalScrollController.updateIsScrollable(),o&&this.ModalPositionController.updateRectsOnTargetWidthChange(r.getBoundingClientRect(),this.state.popoverTargetRects)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.handleClickOutside),this.ModalScrollController.unsubscribeScrollUpdate(),this.props.isPopover&&this.ModalPositionController.unsubscribePopoverRectsChange(),clearTimeout(this.clearAnimationTimer),hr.setBodyScrollDisabled(!1),document.removeEventListener("keydown",this.closableByControlsKeysHandler)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.narrowWidth,r=e.onClose,a=e.isPopover,s=e.hideCloseButton,l=e.buttons,c=e.className,u=e.wrapperClassName,f=e.hasHint,p=e.highlighted,d=e.headerClassName,m=e.disableOverflow,h=e.hasPermanentShadow,v=this.state,y=v.isScrollable,b=v.popoverRects,g=new ot(this.modalWindowClassName);g.appendStatusIf(a,"popover"),g.appendAdditionalClassesIf(!!c,c);var w=new ot("modal_window__wrapper");w.appendAdditionalClassesIf(!!u,u),w.appendStatusIf(h||y,"scrollable"),w.appendStatusIf(!!n,"narrow"),w.appendStatusIf(a,"popover"),w.appendStatusIf(p,"highlighted");var _=new ot("modal_window__header");_.appendAdditionalClassesIf(!!d,d);var E=new ot("modal_window__content");return E.appendStatusIf(m,"disabledOverflow"),i.a.createPortal(o.a.createElement("div",{className:g.toString(),onMouseDown:a?null:this.overlayClick,ref:this.modalWindowRef},o.a.createElement("div",{className:w.toString(),style:a?b:{},ref:this.modalWindowWrapperRef},(!!r&&!s||!!t||0!==l.length)&&o.a.createElement("div",{className:_.toString()},!!t&&o.a.createElement("div",{className:"modal_window__header_title"},o.a.createElement(Dt,{primary:!0},t),f&&o.a.createElement(ur,{iconName:"help_outline",size:at.MD})),(0!==l.length||!!r&&!s)&&o.a.createElement("div",{className:"modal_window__controls"},0!==l.length&&o.a.createElement("div",{className:"modal_window__buttons"},l.map(this.renderButton)),!!r&&!s&&o.a.createElement(ur,{iconName:"close",onClick:r}))),o.a.createElement("div",{className:E.toString(),ref:this.contentWrapper},this.renderChildren()),this.renderFooter())),document.querySelector(".".concat(xr.b)))}}])&&Lr(t.prototype,n),r&&Lr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);Gr(Br,"defaultProps",{popoverPosition:Cr.TOP_LEFT,hideCloseButton:!1,buttons:[],hasHint:!1,highlighted:!1,disableOverflow:!1,hasPermanentShadow:!1});n(1139);function Vr(e){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t){return(Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zr(e);if(t){var o=Zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qr(this,n)}}function qr(e,t){if(t&&("object"===Vr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yr(e,t)}(i,e);var t,n,r,a=zr(i);function i(){return Hr(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.darkMode,a=new ot("aspect_elements_group");return a.appendAdditionalClassesIf(!!n,n),a.appendStatusIf(r,"darkMode"),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:a.toString()},t))}}])&&Wr(t.prototype,n),r&&Wr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e,t){return($r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=no(e);if(t){var o=no(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return to(this,n)}}function to(e,t){if(t&&("object"===Jr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function no(e){return(no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ro=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$r(e,t)}(s,e);var t,n,a,i=eo(s);function s(){return Qr(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.contentTitle,n=e.content,a=e.onClose;return o.a.createElement(Br,{title:t,onClose:a},o.a.createElement(Kr,null,n.map((function(e,t){return o.a.createElement(r.Fragment,{key:t},"caption"===e.style&&o.a.createElement(Dt,{caption:!0},e.text),"text"===e.style&&o.a.createElement(Dt,{wrap:!0},e.text))}))))}}])&&Xr(t.prototype,n),a&&Xr(t,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);function oo(){return(oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ro,"showPopup",(function(e){var t=e.contentTitle,n=e.content,r=document.createElement("div");Object(a.render)(o.a.createElement(Br,{title:t,onClose:function(){Object(a.unmountComponentAtNode)(r)}},o.a.createElement(Kr,null,n.map((function(e){return o.a.createElement(o.a.Fragment,null,"caption"===e.style&&o.a.createElement(Dt,{caption:!0},e.text),"text"===e.style&&o.a.createElement(Dt,{wrap:!0},e.text))})))),r)}));var lo=function(e){var t,n=function(e){var t=null;return e.type===nt.AnswersTable?"/#/contests/".concat(e.contestId,"/answers_table/").concat(e.taskId,"_").concat(e.taskVersion):e.type===nt.ContestEdit?"/#/contests/".concat(e.contestId,"/edit"):(e.contestId&&(t="/#/contests/".concat(e.contestId),e.taskId&&(t+="/task_".concat(e.taskId),e.taskVersionId&&(t+="_v".concat(e.taskVersionId)))),e.environmentId&&(t="/#/environment/".concat(e.environmentId),e.moduleId&&(t+="/".concat(e.moduleId),e.moduleVersionId&&(t+="_".concat(e.moduleVersionId)),"autoGrade"===e.moduleSection&&(t+="/auto_grade"),e.taskId&&(t+="/task_".concat(e.taskId),e.taskVersionId&&(t+="_v".concat(e.taskVersionId))),e.textId&&(t+="/text_".concat(e.textId),e.textVersionId&&(t+="_v".concat(e.textVersionId))),e.videoId&&(t+="/video_".concat(e.videoId),e.videoVersionId&&(t+="_v".concat(e.videoVersionId))))),t)}(e);return{typeText:(so(t={},nt.Contest,"В олимпиаду"),so(t,nt.ContestEdit,"В настройки"),so(t,nt.SMTContestEdit,"В настройки тестирования"),so(t,nt.ContestTask,"В задачу"),so(t,nt.Module,"В модуль"),so(t,nt.Environment,"В пространство"),so(t,nt.ContestTask,"В задачу"),so(t,nt.ModuleTask,"В задачу"),so(t,nt.ModuleTaskExtra,"В задачу"),so(t,nt.ContestText,"В текстовый модуль"),so(t,nt.ModuleText,"В текстовый модуль"),so(t,nt.ContestVideo,"В лекцию"),so(t,nt.ModuleVideo,"В лекцию"),so(t,nt.Text,""),so(t,nt.Task,""),so(t,nt.Video,""),so(t,nt.AnswersTable,"Веер по задаче"),t)[e.type],sourceLink:n}},co=function(e){var t=e.meta,n=e.asButtons,a=e.onCancel,i=ao(Object(r.useState)(!1),2),s=i[0],l=i[1];return o.a.createElement(o.a.Fragment,null,!!t&&"source"in t&&t.source.map((function(e,t){var r=lo(e),i=r.typeText,s=r.sourceLink;return s?o.a.createElement(Ut,{key:t,className:"system_notification__meta"},o.a.createElement("a",{href:s},n&&o.a.createElement(Xn,{darkMode:!0,color:"primary",onClick:a},i),!n&&o.a.createElement(Dt,null,i)),o.a.createElement(ur,{className:"system_notification__meta_link",iconName:"link",onClick:function(e){return function(e,t){e.stopPropagation(),t&&Se.copyToClipboard(window.location.origin+t)}(e,s)},restrictFocusEffects:!0,restrictHoverEffects:!0})):null})),!!t&&"popup"in t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Dt,{onClick:function(){return l(!0)},className:"system_notification__meta_popup"},t.popup.text),s&&o.a.createElement(ro,oo({},t.popup,{onClose:function(){return l(!1)}}))),!!t&&"copyMsg"in t&&o.a.createElement(Ut,{className:"system_notification__meta-copy"},o.a.createElement(Xn,{onClick:function(){return Se.copyToClipboard(t.copyMsg)}},t.copyButtonTitle),t.cancelButtonTitle&&o.a.createElement(Xn,{onClick:t.onCancel},t.cancelButtonTitle)))};co.defaultProps={asButtons:!1};var uo,fo=co;!function(e){e.info="info",e.error="error",e.warning="warning",e.result="result"}(uo||(uo={}));var po=function(e){var t=e.children,n=e.value,r=e.type,a=e.onClick,i=new ot("system_notification__item",r);i.appendStatusIf(!!a,"clickable");var s=null;return n&&(s=n.message.replace(/\n/gi,"<br/>")),o.a.createElement("div",{className:i.toString(),onClick:a},s&&o.a.createElement(Dt,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:s}})),t,!!n&&o.a.createElement(Dt,null,n)&&o.a.createElement(fo,{meta:n.meta}))};po.defaultProps={type:uo.info};var mo=po;function ho(){return(ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var go=[],wo=document.getElementById("notification_block"),_o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"renderNotification",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uo.info;if("string"==typeof e){var n={message:e};return go.push({value:n,type:t}),void Eo()}var r,o=vo(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;go.push({value:a,type:t})}}catch(e){o.e(e)}finally{o.f()}Eo()}},{key:"closeNotifications",value:function(){0!==go.length&&(go=[],Eo())}},{key:"closeNotification",value:function(e){go.splice(e,1),Eo()}}],(n=null)&&bo(t.prototype,n),r&&bo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Eo=function(){Object(a.render)(o.a.createElement(o.a.Fragment,null,go.map((function(e,t){return o.a.createElement(Ut,{key:t,singleton:!0},o.a.createElement(mo,ho({},e,{onClick:function(){return setTimeout((function(){return _o.closeNotification(t)}))}})))}))),wo)};wo&&window.addEventListener("hashchange",(function(){_o.closeNotifications()}));var Oo,ko=n(112),So=n(1382),Co=n(287),jo=n.n(Co);n(1141);function xo(e){return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach((function(t){Do(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function To(e,t){return(To=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fo(e);if(t){var o=Fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ro(this,n)}}function Ro(e,t){if(t&&("object"===xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fo(e){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.left=0]="left",e[e.top=1]="top",e[e.right=2]="right",e[e.bottom=3]="bottom"}(Oo||(Oo={}));var Mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&To(e,t)}(i,e);var t,n,r,a=Lo(i);function i(){return Io(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"getLabelPlacement",value:function(){var e,t=this.props.labelPlacement;return(Do(e={},Oo.right,"end"),Do(e,Oo.left,"start"),Do(e,Oo.bottom,"bottom"),Do(e,Oo.top,"top"),e)[t]}},{key:"render",value:function(){var e=this.props,t=e.checked,n=e.children,r=e.disabled,a=e.className,i=e.value,s=e.fullWidth,l=e.onChange,c=e.size,u=e.color,f=e.darkMode,p=e.highlightLabelOnCheck,d=new ot("radio_control",null,a);d.appendStatusIf(f,"darkMode"),d.appendStatusIf(p&&t,"highlight");var m=c===at.LG?at.MD:c;return o.a.createElement(ht,{className:d.toString(),size:c,fullWidth:s},o.a.createElement(jo.a,{value:i,control:o.a.createElement(So.a,{checked:t,disabled:r,size:m,color:u}),label:n,onChange:l,onClick:function(e){e.stopPropagation()},labelPlacement:this.getLabelPlacement()}))}}])&&Ao(t.prototype,n),r&&Ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ct);function Uo(e){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vo(e,t){return(Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yo(e);if(t){var o=Yo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wo(this,n)}}function Wo(e,t){if(t&&("object"===Uo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yo(e){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Do(Mo,"defaultProps",No(No({},Ct.defaultProps),{},{size:at.LG,checked:!1,disabled:!1,className:"",labelPlacement:Oo.right,color:"secondary",highlightLabelOnCheck:!1}));var zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vo(e,t)}(a,e);var t,n,r,o=Ho(a);function a(){return Bo(this,a),o.apply(this,arguments)}return t=a,n&&Go(t.prototype,n),r&&Go(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(o.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(zo,"defaultProps",{hasUnsavedChanges:!1});var qo=n(1383);n(1168);function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $o(e,t){return($o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na(e);if(t){var o=na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ta(this,n)}}function ta(e,t){if(t&&("object"===Zo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$o(e,t)}(i,e);var t,n,r,a=ea(i);function i(){return Qo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"getLabelPlacement",value:function(){var e,t=this.props.labelPlacement;return(ra(e={},Oo.right,"end"),ra(e,Oo.left,"start"),ra(e,Oo.bottom,"bottom"),ra(e,Oo.top,"top"),e)[t]}},{key:"render",value:function(){var e=this.props,t=e.checked,n=e.children,r=e.disabled,a=e.className,i=e.value,s=e.fullWidth,l=e.onChange,c=e.size,u=e.color,f=e.align,p=e.darkMode,d=e.labelColor,m=e.onClick,h=new ot("checkbox_control",null,a);return h.appendStatusIf(p,"darkMode"),h.appendStatusIf(!!d,"label-".concat(d)),o.a.createElement(ht,{className:h.toString(),size:c,fullWidth:s,alignItems:f},o.a.createElement(jo.a,{value:i,control:o.a.createElement(qo.a,{checked:t,disabled:r,color:u,size:"small"}),label:n,onChange:l,onClick:m,labelPlacement:this.getLabelPlacement()}))}}])&&Xo(t.prototype,n),r&&Xo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ct);function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ia(){return(ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ca(e,t){return(ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pa(e);if(t){var o=pa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fa(this,n)}}function fa(e,t){if(t&&("object"===aa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pa(e){return(pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ra(oa,"defaultProps",Jo(Jo({},Ct.defaultProps),{},{size:at.LG,checked:!1,disabled:!1,className:"",labelPlacement:Oo.right,color:"secondary"}));var da=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ca(e,t)}(i,e);var t,n,r,a=ua(i);function i(){return sa(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ut,null,o.a.createElement(oa,ia({},this.props,{fullWidth:!0})))}}])&&la(t.prototype,n),r&&la(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(zo),ma=function(e){var t=e.control,n=e.disabled,r=e.value,a=e.onChange;return o.a.createElement(da,{value:t.value,name:t.name,disabled:n,checked:r===t.value,labelPlacement:Oo.left,onChange:function(e,n){return a(t.name,n?t.value:null)},color:"primary"},t.text)};n(1169);function ha(e){return(ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(){return(va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e,t){return(ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ea(e);if(t){var o=Ea(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _a(this,n)}}function _a(e,t){if(t&&("object"===ha(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ea(e){return(Ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ga(e,t)}(i,e);var t,n,r,a=wa(i);function i(){return ya(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ut,{className:"radio_element"},o.a.createElement(Mo,va({},this.props,{fullWidth:!0,color:"primary"})))}}])&&ba(t.prototype,n),r&&ba(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(zo),ka=function(e){var t=e.control,n=e.value,r=e.onChange,a=e.disabled;return o.a.createElement(o.a.Fragment,null,t.options.map((function(e){return o.a.createElement(Oa,{key:e.value,value:e.value,name:t.name,disabled:a,checked:n===e.value,labelPlacement:Oo.left,onChange:function(){return r(t.name,e.value)},color:"primary",size:at.SM},e.text)})))},Sa=n(1384);n(1170);function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(n),!0).forEach((function(t){Ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ia(e,t){return(Ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=La(e);if(t){var o=La(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ta(this,n)}}function Ta(e,t){if(t&&("object"===Ca(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ia(e,t)}(i,e);var t,n,r,a=Aa(i);function i(){return Pa(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.iconName,n=e.size,r=e.className,a=e.active,i=e.hasErrors,s=e.darkMode,l=e.roundShaped,c=e.color,u=e.disabled,f=e.highlighted,p=e.variant,d=e.iconClassName,m=new ot("icon_control");m.appendAdditionalClassesIf(r.length>0,r),m.appendAdditionalClassesIf(i,"error"),m.appendAdditionalClassesIf(a,"active"),m.appendAdditionalClassesIf(s,"dark-mode"),m.appendAdditionalClassesIf(l,"round"),m.appendAdditionalClassesIf(u,"disabled"),m.appendAdditionalClassesIf(c===Un.PRIMARY,"colorPrimary"),m.appendAdditionalClassesIf(f,"highlighted"),m.appendAdditionalClassesIf(!!p,p),m.appendStatusIf(!!n,n);var h,v=(h=n,Object.keys(kn).find((function(e){return kn[e]===h}))?n:kn.LG);return o.a.createElement(ht,{size:n,className:m.toString()},o.a.createElement(Fn,{name:t,active:a,size:v,hasErrors:i,disabled:u,className:d}))}}])&&Na(t.prototype,n),r&&Na(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ct);Ra(Fa,"defaultProps",xa(xa({},Ct.defaultProps),{},{iconName:"",size:at.LG,color:Un.DEFAULT,variant:Mn.TEXT,className:"",active:!1,roundShaped:!1,darkMode:!1,hasErrors:!1,disabled:!1,highlighted:!1}));var Da=n(158);n(1171);function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t){return(Ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=za(e);if(t){var o=za(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ya(this,n)}}function Ya(e,t){if(t&&("object"===Ma(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ha(e,t)}(i,e);var t,n,r,a=Wa(i);function i(){return Ba(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.onCancel,n=e.onConfirm,r=e.confirmDisabled,a=e.className,i=e.variant,s=new ot("confirm_edit_buttons",null,a);return o.a.createElement(Kr,{className:s.toString()},o.a.createElement(Ut,{className:"confirm_edit_buttons__wrapper"},o.a.createElement(Xn,{onClick:n,color:Un.PRIMARY,disabled:r,className:Da.c,variant:i},"Готово"),o.a.createElement(Xn,{onClick:t,variant:Mn.OUTLINED,className:"confirm_edit_buttons__cancel ".concat(Da.b)},"Отмена")))}}])&&Va(t.prototype,n),r&&Va(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(zo);qa(Za,"defaultProps",Ga(Ga({},zo.defaultProps),{},{confirmDisabled:!1,variant:Mn.TEXT}));var Ka,Ja=n(605),Qa=n(606),Xa=n(607);function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ei,ti="string",ni="number",ri="range",oi="select",ai="select_on_image",ii="single",si="multi",li="detailed",ci="match",ui="composite",fi="list",pi="programming",di=($a(Ka={},"none","Нет ввода ответа"),$a(Ka,ti,"Текстовое поле"),$a(Ka,ni,"Ввод числа"),$a(Ka,ri,"Ввод числа (интервал)"),$a(Ka,oi,"Выпадающий список"),$a(Ka,ii,"Выбор одного из списка"),$a(Ka,si,"Выбор нескольких из списка"),$a(Ka,li,"Развёрнутый ответ"),$a(Ka,ci,"Сопоставление"),$a(Ka,ui,"Много элементов ввода"),$a(Ka,fi,"Множественный ввод"),$a(Ka,pi,"Ввод программного кода"),$a(Ka,ai,"Выбор на картинке"),Ja.a,Xa.a,Qa.a,768);n(1172);function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return(gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oi(e);if(t){var o=Oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _i(this,n)}}function _i(e,t){if(t&&("object"===mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ei(e)}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oi(e){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.Standard="standard",e.Filled="filled",e.Outlined="outlined"}(ei||(ei={}));var Si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gi(e,t)}(i,e);var t,n,r,a=wi(i);function i(){var e;yi(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ki(Ei(e=a.call.apply(a,[this].concat(n))),"state",{initValue:e.props.value,isFocused:!1,isEdited:!1}),ki(Ei(e),"onInputKeyUp",(function(t){(0,e.props.onKeyUp)(t),"Enter"===t.key&&e.props.onEnterKeyPress()})),ki(Ei(e),"onFocus",(function(){e.props.onFocus&&e.props.onFocus(),e.setState({isFocused:!0})})),ki(Ei(e),"confirmEdit",(function(){var t=e.props,n=t.onCloseMobile,r=t.onBlur;e.setState({isFocused:!1}),r&&r(),n()})),ki(Ei(e),"cancelEdit",(function(){(0,e.props.onChange)(e.state.initValue.toString()),e.setState({isEdited:!1})})),ki(Ei(e),"changeHandler",(function(t){e.props.numbersOnly?/^[0-9\n]+$/.exec(t.target.value)&&e.props.onChange(t.target.value):e.props.onChange(t.target.value),e.setState({isEdited:!0})})),ki(Ei(e),"onMobileHeaderBackClick",(function(){e.cancelEdit(),e.setState({isFocused:!1}),e.props.onBackClick()})),ki(Ei(e),"onCancel",(function(){e.cancelEdit(),e.setState({isFocused:!1}),e.props.onCloseMobile()})),ki(Ei(e),"onBlur",(function(){window.matchMedia("(max-width: ".concat(di,"px)")).matches||e.props.onBlur()})),ki(Ei(e),"renderMobileHeader",(function(){return o.a.createElement("div",{className:"text_input_control__mobile_header"},o.a.createElement(Ut,null,o.a.createElement(ur,{iconName:"arrow_back",onClick:e.onMobileHeaderBackClick,restrictHoverEffects:!0}),o.a.createElement(Dt,{primary:!0},e.props.mobileHeaderTitle),o.a.createElement(ur,{iconName:"help_outline",size:at.MD,restrictHoverEffects:!0})))})),ki(Ei(e),"setEmptyValue",(function(){e.props.onChange("")})),ki(Ei(e),"onInputKeyDown",(function(t){e.props.numbersOnly&&("ArrowUp"!==t.key&&"ArrowDown"!==t.key||t.preventDefault())})),ki(Ei(e),"onInputWheel",(function(e){return e.preventDefault()})),ki(Ei(e),"inputRef",o.a.createRef()),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.numbersOnly&&this.inputRef.current.addEventListener("wheel",this.onInputWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.props.numbersOnly&&this.inputRef.current.removeEventListener("wheel",this.onInputWheel)}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.placeholder,a=t.value,i=t.fullWidth,s=t.onCancel,l=t.className,c=t.size,u=t.clearable,f=t.autoFocus,p=t.onClickOutside,d=t.disabled,m=t.hasError,h=t.multiline,v=t.rows,y=t.inputProps,b=t.bordered,g=t.borderless,w=t.restrictHoverEffects,_=t.restrictFocusEffects,E=t.darkMode,O=t.variant,k=t.isSearchField,S=this.state.isFocused,C=new ot("text_input_control");C.appendAdditionalClasses(l),C.appendStatusIf(S,"focused"),C.appendStatusIf(d,"disabled"),C.appendStatusIf(this.state.isEdited,"edited"),C.appendStatusIf(m,"hasError"),C.appendStatusIf(i,"fullWidth"),C.appendStatusIf(b,"bordered"),C.appendStatusIf(g,"borderless"),C.appendStatusIf(E,"dark_mode"),C.appendAdditionalClassesIf(w,"restrictHoverEffects"),C.appendAdditionalClassesIf(_,"restrictFocusEffects"),C.appendStatusIf(i,"full-width");var j=new ot("text_input_control__input");j.appendStatusIf(h,"multiline"),j.appendStatusIf(i,"full-width");var x=new ot("text_input_control__confirm_edit_btns"),P="close",N=null;s&&(N=s),a&&u&&(P="cancel",N=function(){return e.setEmptyValue()});var I=c===at.LG?at.MD:c;return o.a.createElement(ht,{className:C.toString(),clickOutside:p,size:c},S&&this.renderMobileHeader(),o.a.createElement("div",{className:"text_input_control__input_container"},o.a.createElement(Sa.a,{type:n,onKeyUp:this.onInputKeyUp,className:j.toString(),placeholder:r,value:a,onChange:function(t){return e.changeHandler(t)},variant:O,size:I,onBlur:this.onBlur,onFocus:this.onFocus,autoFocus:f,inputRef:this.inputRef,disabled:d,multiline:h,rows:v,inputProps:y,onKeyDown:this.onInputKeyDown}),k&&!a&&o.a.createElement(ur,{size:at.LG,iconName:"search",onClick:function(){return e.inputRef.current.focus()},className:"text_input_control__search",restrictFocusEffects:!0,restrictHoverEffects:!0}),N&&o.a.createElement(Xn,{size:at.SM,onClick:N,className:"text_input_control__cancel",restrictFocusEffects:!0,restrictHoverEffects:!0},o.a.createElement(Fa,{iconName:P,size:at.SM}))),S&&o.a.createElement(Za,{onCancel:this.onCancel,onConfirm:this.confirmEdit,confirmDisabled:a===this.state.initValue,className:x.toString()}))}}])&&bi(t.prototype,n),r&&bi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ct);ki(Si,"defaultProps",vi(vi({},Ct.defaultProps),{},{type:"text",className:"",size:at.LG,value:"",placeholder:"",autoFocus:!1,clearable:!1,disabled:!1,hasErrors:!1,mobileHeaderTitle:"",fullWidth:!1,bordered:!1,borderless:!1,restrictFocusEffects:!1,restrictHoverEffects:!1,darkMode:!1,numbersOnly:!1,variant:ei.Outlined,onKeyUp:function(){},onChange:function(){},onEnterKeyPress:function(){},onBlur:function(){},onClickOutside:function(){},onFocus:function(){},onCloseMobile:function(){},onBackClick:function(){}}));n(1173);var Ci=function(e){var t=e.control,n=e.onChange,r=e.value;return o.a.createElement(Ut,{className:"system_notifications_dialogue__textarea_element"},o.a.createElement(Si,{value:r||"",placeholder:t.value,multiline:!0,fullWidth:!0,bordered:!0,rows:5,onChange:function(e){return n(t.name,e)},className:"system_notifications_dialogue__textarea"}))};n(1174);function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||Ni(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ni(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Ni(e,t){if(e){if("string"==typeof e)return Ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ii(e,t):void 0}}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Li(e,t){return(Li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ri(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mi(e);if(t){var o=Mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fi(this,n)}}function Fi(e,t){if(t&&("object"===ji(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Di(e)}function Di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Li(e,t)}(i,e);var t,n,r,a=Ri(i);function i(){var e;Ai(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ui(Di(e=a.call.apply(a,[this].concat(n))),"state",{answersByIndex:{}}),Ui(Di(e),"getControlAnswer",(function(t,n){var r=e.state.answersByIndex;if(!r[n])return null;var o=r[n][t];return void 0!==o?o:null})),Ui(Di(e),"setControlAnswer",(function(t,n,r){var o=e.state.answersByIndex;o[r]||(o[r]={}),o[r][t]=n,e.setState({answersByIndex:o})})),Ui(Di(e),"getAllControlsIsFilled",(function(){var t,n=e.state.answersByIndex,r=Pi(e.props.dialogue.questions.entries());try{for(r.s();!(t=r.n()).done;){var o=xi(t.value,2),a=o[0],i=o[1];if(i.control&&((!n[a]||null===n[a][i.control.name])&&"info"!==i.type))return!1}}catch(e){r.e(e)}finally{r.f()}return!0})),Ui(Di(e),"renderModalWindowFooter",(function(){var t=e.props.dialogue;return o.a.createElement(Kr,null,o.a.createElement(Ut,{justifyContent:"right"},o.a.createElement(Xn,{onClick:e.cancelDialogue,variant:Mn.OUTLINED},"Отмена"),t.enabled&&o.a.createElement(Xn,{onClick:e.sendDialogue,variant:Mn.OUTLINED,disabled:!e.getAllControlsIsFilled()||!t.enabled},"Продолжить")))})),Ui(Di(e),"cancelDialogue",(function(){var t=e.props,n=t.onReject,r=t.removeDialogue;n(),r()})),Ui(Di(e),"sendDialogue",(function(){var t=e.props,n=t.axiosParams,r=t.onReject,o=t.onResolve,a=t.removeDialogue,i=e.state.answersByIndex,s=Re()(n),l=new URL(s.url);l.searchParams.append("dialogue","true");for(var c=0,u=Object.entries(i);c<u.length;c++)for(var f=xi(u[c],2)[1],p=0,d=Object.entries(f);p<d.length;p++){var m=xi(d[p],2),h=m[0],v=m[1];l.searchParams.append(h,v)}s.url=l.href,ts.axios(s).then(o,r),a()})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dialogue,n=e.axiosParams,r=t.questions;Object(ko.c)(null==n?void 0:n.url);var o,a=Pi(r.entries());try{for(a.s();!(o=a.n()).done;){var i=xi(o.value,2),s=i[0],l=i[1];l.control&&void 0!==l.control.default&&this.setControlAnswer(l.control.name,l.control.default,s)}}catch(e){a.e(e)}finally{a.f()}window.addEventListener("hashchange",this.cancelDialogue)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.cancelDialogue)}},{key:"renderControl",value:function(e,t){var n=this,r=function(e,r){return n.setControlAnswer(e,r,t)};switch(e.type){case rt.Agreement:return o.a.createElement(ma,{control:e,onChange:r,value:this.getControlAnswer(e.name,t),disabled:!this.props.dialogue.enabled});case rt.Select:return o.a.createElement(ka,{control:e,onChange:r,value:this.getControlAnswer(e.name,t),disabled:!this.props.dialogue.enabled});case rt.TextArea:return o.a.createElement(Ci,{control:e,value:this.getControlAnswer(e.name,t),onChange:r})}throw Error("Unknown dialogue control was tried to render")}},{key:"render",value:function(){var e=this,t=this.props.dialogue,n=t.questions,r=t.title,a=t.description;return o.a.createElement(Br,{narrowWidth:!0,title:r,headerClassName:"system_notifications_dialogue__header",onClose:this.cancelDialogue},o.a.createElement(Kr,{className:"system_notifications_dialogue__notifications_block"},!!a&&o.a.createElement(Ut,null,o.a.createElement(Dt,null,a)),n.map((function(t,n){return o.a.createElement(Ut,{key:n},o.a.createElement(mo,{type:t.type},!!t.text&&o.a.createElement(Dt,null,t.text),!!t.control&&e.renderControl(t.control,n),o.a.createElement(fo,{meta:t.meta,onCancel:e.cancelDialogue})))}))),o.a.createElement(vr,null,this.renderModalWindowFooter()))}}])&&Ti(t.prototype,n),r&&Ti(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);var Bi=["headers"];function Vi(e){return function(e){if(Array.isArray(e))return Yi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||Wi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wi(e,t){if(e){if("string"==typeof e)return Yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yi(e,t):void 0}}function Yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(n),!0).forEach((function(t){Qi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ki(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xi=new Promise((function(){})),$i=function(e){return"success"in e?e.success:Xi},es=CONFIG.Instance,ts=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"request",value:function(t){var n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.headers,s=Ki(a,Bi),l={method:"GET",send_auth_token:!1,keep_errors:!1,dataHandler:null,hideErrorNotifications:!1},c=Zi(Zi({},l),s),u={"Content-Type":"application/json",Accept:"application/json"},f=null==qe||null===(n=qe.getState())||void 0===n||null===(r=n.authReducer)||void 0===r?void 0:r.auth_token,p=function(e){var t=e.send_auth_token;return f&&t?{Authorization:"Bearer ".concat(f)}:null},d=function(e){return Zi(Zi(Zi({},u),i),p(e))},m=function(e){var t=e.url,n=e.data,r=t;if("GET"===e.method&&"object"===zi(n)){var o=new URL(t);Object.entries(n).filter((function(e){return null!==Hi(e,2)[1]})).forEach((function(e){var t;return(t=o.searchParams).append.apply(t,Vi(e))})),r=o.href}return r},h=d(c),v=c.method,y=c.keep_errors,b="".concat(v).toUpperCase(),g=m({url:t,data:o,method:b}),w=Zi(Zi({},c),{},{method:b,headers:h,data:o,url:g});"GET"===b||"lab"!==es||y||_o.closeNotifications();var _=e.axios(w);return"GET"!==b&&(Object(ko.b)(g),_.finally((function(){return Object(ko.c)(g)}))),_}}],(n=null)&&Ji(t.prototype,n),r&&Ji(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Qi(ts,"get",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ts.request(e,t,Zi(Zi({},n),{},{method:"GET"}))})),Qi(ts,"post",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ts.request(e,t,Zi(Zi({},n),{},{method:"POST"}))})),Qi(ts,"delete",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ts.request(e,t,Zi(Zi({},n),{},{method:"DELETE"}))})),Qi(ts,"put",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ts.request(e,t,Zi(Zi({},n),{},{method:"PUT"}))})),Qi(ts,"patch",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ts.request(e,t,Zi(Zi({},n),{},{method:"PATCH"}))})),Qi(ts,"axios",(function(e){return new Promise((function(t,n){return l()(e).then(as(e,t),os(n))}))}));var ns,rs,os=function(e){return function(t){var n=t.response;if(n){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href;401===e.status&&e.data&&e.data.location&&Ze(t)}(n);var r=n.status;r>=500&&r<600&&Se.renderErrorPage(500),400===r&&Se.renderErrorPage(500),404===r&&Se.renderErrorPage(404),403===r&&Se.renderErrorPage(403)}e(t)}},as=function(e,t){return function(n){var r,i=n.data,s=n.headers,l=(r=s,Object.entries(r).reduce((function(e,t){var n=Hi(t,2),r=n[0],o=n[1];return"content-disposition"===r.toLowerCase()?o:e}),!1));if(l&&-1!==l.indexOf("attachment")){var c=function(e){var t=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e);if(null!=t&&t[1])return t[1].replace(/['"]/g,"")}(l);if(c){if(i instanceof Blob){var u=new FileReader;u.onloadend=function(){!function(e,t){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}(c,u.result,i.type),t()},u.readAsDataURL(i)}else Se.downloadFile(c,i),t();return}}var f=i.error,p=i.errors,d=i.warning,m=i.dialogue,h=i.data||{},v=h.error,y=h.errors,b=h.warning,g=h.dialogue,w=e.method,_=e.hideErrorNotifications,E=e.dataHandler,O=f||p||v||y,k=d||b,S=m||g;if("GET"!==w&&Se.setActualVersion(n),O&&"lab"===es&&!_&&_o.renderNotification(O,"error"),k&&"lab"===es&&_o.renderNotification(k,"warning"),function(e){for(var t in e.headers)if("x-set-bearer"===t.toLowerCase()){var n=e.headers[t];if(!n)return;qe.dispatch(Je(n))}}(n),S&&"lab"===es)return function(e,t,n,r){var i=document.createElement("div");Object(a.render)(o.a.createElement(Gi,{dialogue:e,axiosParams:t,onResolve:n,onReject:r,removeDialogue:function(){return Object(a.unmountComponentAtNode)(i)}}),i)}(S,e,t,(function(){return t({})}));"function"==typeof E?t(E(i)):l||t(i)}};function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach((function(t){ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cs,us,fs=CONFIG.Version?"/".concat(CONFIG.Version):"",ps=null!==(ns=CONFIG.Api)&&void 0!==ns&&null!==(rs=ns.noopolis)&&void 0!==rs&&rs.url?"".concat(CONFIG.Api.noopolis.url).concat(fs):"",ds={send_auth_token:!0},ms=function(e){var t=e.courseId,n=e.moduleId,r=e.taskVersionId,o=e.submissionId;return ts.get("".concat(ps,"/course/").concat(t,"/learn/").concat(n,"/").concat(r,"/report/").concat(o),{},ss({},ds))},hs=function(e){var t={url:e.urlVideo};return ts.post("".concat(ps,"/api/resolve-video"),ss({},t),ss({},ds))};function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach((function(t){bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gs=null!==(cs=CONFIG.Api)&&void 0!==cs&&null!==(us=cs.webPortal)&&void 0!==us&&us.url?"".concat(CONFIG.Api.webPortal.url):"",ws={send_auth_token:!0},_s=function(e){var t={url:e.urlVideo};return ts.post("".concat(gs,"/api/v2/resolve-video"),ys({},t),ys({},ws))};var Es,Os;function ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(n),!0).forEach((function(t){Cs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var js,xs,Ps,Ns,Is=CONFIG.Version?"/".concat(CONFIG.Version):"",As=null!==(Es=CONFIG.Api)&&void 0!==Es&&null!==(Os=Es.cheopsLaboratory)&&void 0!==Os&&Os.url?"".concat(CONFIG.Api.cheopsLaboratory.url):"",Ts={send_auth_token:!0},Ls=function(e){var t={url:e.urlVideo};return ts.post("".concat(As).concat(Is,"/api/v2/resolve-video"),Ss({},t),Ss({},Ts))};n(292);function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){Ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}CONFIG.Version&&"/".concat(CONFIG.Version),null!==(js=CONFIG.Api)&&void 0!==js&&null!==(xs=js.smtLaboratory)&&void 0!==xs&&xs.url&&"".concat(CONFIG.Api.smtLaboratory.url);var Ms,Us,Gs,Bs=null!==(Ps=CONFIG.Api)&&void 0!==Ps&&null!==(Ns=Ps.smtLaboratory)&&void 0!==Ns&&Ns.url?"".concat(CONFIG.Api.smtLaboratory.url):"",Vs={send_auth_token:!0};!function(e){e.soon="soon",e.actual="actual",e.archive="archive",e.all="all"}(Ms||(Ms={})),function(e){e.title="title",e.users="users",e.tasks="tasks",e.time="time"}(Us||(Us={})),function(e){e.ASC="asc",e.DESC="desc"}(Gs||(Gs={}));var Hs=function(e){var t={url:e.urlVideo};return ts.post("".concat(Bs,"/api/v2/resolve-video"),Fs({},t),Fs({},Vs))};function Ws(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ys(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zs=function(e){return e?Hs:Ls},qs=function(e){var t=e.instance,n=e.isSmt,o=void 0!==n&&n,a=Ws(Object(r.useState)(null),2),i=a[0],s=a[1],l=Ws(Object(r.useState)(null),2),c=l[0],u=l[1],f=Ws(Object(r.useState)(null),2),p=f[0],d=f[1],m={noo:hs,smt:_s,lab:zs(o)},h=null==t?void 0:t.toLowerCase();Object(r.useEffect)((function(){c&&m[h]({urlVideo:c}).then((function(e){var t="success"in e?e.success:e,n=t.type,r=t.url;s(p?function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},p,{type:n,url:r}):{type:n,url:r})})).catch((function(e){s({type:"unknown",url:c})}))}),[c]);return[i,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&d(t),u(e)}]};function Zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zs(Object(n),!0).forEach((function(t){Js(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $s=function(e){var t,n=e.children,a=e.instance,i=void 0===a?null===(t=CONFIG)||void 0===t?void 0:t.Instance:a,s=e.inline,l=void 0!==s&&s,c=e.youtube,u=void 0===c||c,f=e.className,p=void 0===f?"":f,d=e.onClick,m=e.isSmt,h=void 0!==m&&m,v=e.videoWrapperClassName,y=void 0===v?"":v,b=Qs(re({type:"JustifyTag"}),2),g=b[0],w=b[1],_=Qs(re({type:"InlineTag",inline:l}),2),E=_[0],O=_[1],k=Qs(re({type:"YoutubeTag",youtube:u,videoWrapperClassName:y}),2),S=k[0],C=k[1],j=Qs(qs({instance:i,isSmt:h}),2),x=j[0],P=j[1],N=Qs(Object(r.useState)({}),2),I=N[0],A=N[1],T=Qs(Object(r.useState)(null),2),L=T[0],R=T[1],D=Qs(Object(r.useState)(null),2),M=D[0],U=D[1];Object(r.useEffect)((function(){if(x){A(Ks(Ks({},I),x));var e=Qs(Object.keys(x),1)[0];R(Ks(Ks({},L),{},Js({},e,!0)))}}),[x]),Object(r.useEffect)((function(){if("string"==typeof n){var e,t={},r=null!==(e=null==n?void 0:n.match(/{youtube:[^}\n]+}/g))&&void 0!==e?e:[];r.length?(r.forEach((function(e){var n=e.replace("{youtube:","").replace(/\((start|end)=(\d?|\d+)\)/g,"").replace("}","");t[n]=!1})),Object.keys(t).forEach((function(e){setTimeout((function(){return P("https://youtu.be/".concat(e),e)}),10)}))):t.unnecessary=!0,R(t),w(n)}}),[n]),Object(r.useEffect)((function(){O(g)}),[g]),Object(r.useEffect)((function(){(L?Object.values(L).every(Boolean):!(null==L||!L.unnecessary))&&C(E,I)}),[E,L]),Object(r.useEffect)((function(){U(S)}),[S]);var G=M?F()(M):null;return M?o.a.createElement(Q,{math:G,className:p,onClick:d}):null},el={storage:{errors:{unknown_content_type:{ru:{value:"Неверный формат файла"},en:{value:"Wrong content type"}}}},latex:{errors:{too_long:{ru:{value:"Кажется, вы ошиблись. Ответ должен быть короче"},en:{value:"It seems answer must take less symbol"}},cant_parse:{ru:{value:"Мы не можем понять запись"},en:{value:"We can't recognize your input"}},convert:{ru:{value:"Ошибка при конвертации"},en:{value:"Convertation error"}}}},olympiad:{"task-page-tab":{"no-result-warning":{ru:{value:"Отправьте хотя бы одно решение,{br}чтобы стать участником рейтинга"},en:{value:"Submit at least one solution {br}to become a participant of the rating"}},"no-filtered-result":{ru:{value:"Ничего не найдено"},en:{value:"Nothing found"}},"no-result":{ru:{value:"Ещё ни один участник не отправил решение на проверку.{br}Вы можете стать первым."},en:{value:"No participant has submitted a solution for review yet. {br}You can be the first."}},refresh:{ru:{value:"Обновить"},en:{value:"Update"}},numtasklabel:{ru:{value:"Задачи"},en:{value:"Tasks"}},place:{ru:{value:"Место"},en:{value:"Place"}},amount:{ru:{value:"Сумма"},en:{value:"Amount"}},participant:{ru:{value:"Участник"},en:{value:"Participant"}},"your-position":{ru:{value:"Ваша позиция"},en:{value:"Your position"}},"all-participants":{ru:{value:"Все участники"},en:{value:"All participants"}},participants:{ru:{value:"Участники"},en:{value:"Participants"}},tasks:{ru:{value:"Задачи"},en:{value:"Tasks"}}},start_button:{took_part:{ru:{value:"Вы приняли участие в олимпиаде."},en:{value:"You took part in the olympiad."}},ended:{ru:{value:"Олимпиада завершена."},en:{value:"The olympiad is over."}},stopped:{ru:{value:"Олимпиада временно приостановлена."},en:{value:"The olympiad is temporarily suspended."}},dont_took_part:{ru:{value:"Вы не принимали в ней участие."},en:{value:"You didn't take part in it."}},not_yet_started:{ru:{value:"Олимпиада начнётся"},en:{value:"The olympiad starts"}},not_yet_started_date:{ru:{value:"Олимпиада начнётся {date}"},en:{value:"The olympiad starts on {date}"}},not_yet_started_time:{ru:{value:"в {date} на этой странице"},en:{value:"at {date} on this page"}}},user_form:{go_btn:{ru:{value:"Перейти к олимпиаде"},en:{value:"To the olympiad"}}},certificate:{back:{ru:{value:"Вернуться к олимпиаде"},en:{value:"Return to the olympiad"}},share:{ru:{value:"Поделитесь результатом, который вы показали на олимпиаде"},en:{value:"Share your olympiad result"}}},status_row:{ended:{ru:{value:"Завершилась"},en:{value:"Is over"}},not_yet_started:{ru:{value:"Будет доступна"},en:{value:"Will be available"}},not_yet_started_date:{ru:{value:"c {date}"},en:{value:"from {date}"}}},index:{copyright_CPM:{ru:{value:"© ГАОУ ДПО ЦПМ, 2018–{currentYear} {br} © Фонд «Талант и успех», 2018–{currentYear}"},en:{value:"© Center of Pedagogical Excellence, 2018–{currentYear} {br} © Educational Foundation “Talent and Success”, 2018–{currentYear}"}},copyright_SIRIUS:{ru:{value:"© Фонд «Талант и успех», 2018–{currentYear}"},en:{value:"© Educational Foundation “Talent and Success”, 2018–{currentYear}"}}}},testing:{start_button:{took_part:{ru:{value:"Вы приняли участие в тестировании."},en:{value:"You took part in the test."}},ended:{ru:{value:"Тестирование завершено."},en:{value:"The test is over."}},stopped:{ru:{value:"Тестирование временно приостановлено."},en:{value:"The test is temporarily suspended."}},dont_took_part:{ru:{value:"Вы не принимали в нём участие."},en:{value:"You didn't take part in it."}},not_yet_started:{ru:{value:"Тестирование начнётся"},en:{value:"The test starts"}},not_yet_started_date:{ru:{value:"Тестирование начнётся {date}"},en:{value:"The test starts on {date}"}},not_yet_started_time:{ru:{value:"в {date} на этой странице"},en:{value:"at {date} on this page"}}},user_form:{go_btn:{ru:{value:"Перейти к тестированию"},en:{value:"To testing"}}},certificate:{back:{ru:{value:"Вернуться к тестированию"},en:{value:"Back to testing"}},share:{ru:{value:"Поделитесь результатом, который вы показали на тестировании"},en:{value:"Share your test result"}}},status_row:{ended:{ru:{value:"Завершилось"},en:{value:"It's over"}},not_yet_started:{ru:{value:"Будет доступно"},en:{value:"Will be available"}},not_yet_started_date:{ru:{value:"c {date}"},en:{value:"from {date}"}}},index:{copyright_CPM:{ru:{value:"© ГАОУ ДПО ЦПМ, 2018–{currentYear} {br} © Фонд «Талант и успех», 2018–{currentYear}"},en:{value:"© Center of Pedagogical Excellence, 2018–{currentYear} {br} © Educational Foundation “Talent and Success”, 2018–{currentYear}"}},copyright_SIRIUS:{ru:{value:"© Фонд «Талант и успех», 2018–{currentYear}"},en:{value:"© Educational Foundation “Talent and Success”, 2018–{currentYear}"}}}},common:{index_page:{are_you_ready:{ru:{value:"Готовы начать?"},en:{value:"Are you ready?"}},final_test:{ru:{value:"Итоговое тестирование"},en:{value:"The final test"}},tasks:{ru:{value:"Заданий"},en:{value:"Tasks"}},hand_in:{ru:{value:"Сдать до"},en:{value:"Submit before"}},over:{ru:{value:"Завершится"},en:{value:"Finish time"}},time:{ru:{value:"Время"},en:{value:"Time"}},time_elapsed:{ru:{value:"Время"},en:{value:"Time elapsed"}},duration:{ru:{value:"{number} мин"},en:{value:"{number} min"}},time_left:{ru:{value:"Осталось"},en:{value:"Time left"}}},user_info:{logout:{ru:{value:"Выйти"},en:{value:"Exit"}}},pre_start_popup:{time_for_contest:{ru:{value:"Решайте задачи в любом порядке. {br} У вас будет {number}"},en:{value:"You can solve the tasks in any order. {br} You'll have {number}"}},start:{ru:{value:"Начать"},en:{value:"Start"}},not_now:{ru:{value:"Не сейчас"},en:{value:"Not now"}},duration:{ru:{value:"{number} мин"},en:{value:"{number} min"}},hand_in:{ru:{value:"Сдать до"},en:{value:"Hand in before"}},tasks:{ru:{value:"Заданий"},en:{value:"Tasks"}},time:{ru:{value:"Время"},en:{value:"Time"}}},format_plural:{minutes:{ru:{one:"минута",few:"минуты",many:"минут",other:"минут"},en:{one:"minute",other:"minutes"}},seconds:{ru:{one:"секунда",few:"секунды",many:"секунд",other:"секунд"},en:{one:"second",other:"seconds"}},points:{ru:{one:"балл",few:"балла",many:"баллов",other:"баллов"},en:{one:"point",other:"points"}}},user_form:{school_name:{ru:{value:"Название школы"},en:{value:"The name of your school"}},grade:{ru:{value:"Класс, в котором учитесь сейчас"},en:{value:"The grade you're studying at"}},phone_number:{ru:{value:"Телефон"},en:{value:"Phone number"}},title:{ru:{value:"Укажите данные о себе"},en:{value:"Personal details"}},last_name:{ru:{value:"Фамилия"},en:{value:"Last name"}},name:{ru:{value:"Имя"},en:{value:"First name"}},patronymic:{ru:{value:"Отчество"},en:{value:"Middle name"}},participation_form:{ru:{value:"Выберите формат участия"},en:{value:"Choose your form of participation"}},email:{ru:{value:"Email"},en:{value:"Email"}},vosh_login:{ru:{value:"ВОШ-логин"},en:{value:"Vosh-login"}},vosh_login_error:{ru:{value:"Неверный ВОШ-логин. Попробуйте ещё раз"},en:{value:"Vosh-login incorrect. Try again"}}},login_page:{header_CPM:{ru:{value:"Образовательный Фонд «Талант и успех» {br} Центр Педагогического Мастерства"},en:{value:"Educational Foundation “Talent and Success” {br} Center of Pedagogical Excellence"}},header_SIRIUS:{ru:{value:"Образовательный Фонд «Талант и успех»"},en:{value:"Educational Foundation “Talent and Success”"}},title:{ru:{value:"Олимпиады и тестирования"},en:{value:"Olympiads and tests"}},welcome:{ru:{value:"Добро пожаловать!"},en:{value:"Welcome!"}},participant_code_title:{ru:{value:"Код участника получите у ответственного лица"},en:{value:"Get your code of participant from the person in charge"}},participant_code:{ru:{value:"Код участника"},en:{value:"Code of participant"}},participant_code_enter:{ru:{value:"Введите код участника"},en:{value:"Insert your participant's code here"}},participant_code_error:{ru:{value:"Неверный код участника. Попробуйте ещё раз"},en:{value:"Your code of participant is incorrect. Try again"}},enter:{ru:{value:"Войти"},en:{value:"Enter"}}},start_button:{start:{ru:{value:"Начать"},en:{value:"Start"}},continue:{ru:{value:"Продолжить"},en:{value:"Continue"}},result:{ru:{value:"Результаты будут доступны на этой странице после проверки"},en:{value:"The results will be available on this page after checking"}},your_result:{ru:{value:"Ваш результат: {userScore} из {maxScore} {points}."},en:{value:"Your score is {userScore} out of {maxScore} {points}."}},total_participants:{ru:{value:"Всего участников: {number}."},en:{value:"Number of participants: {number}."}},future_results:{ru:{value:"Результаты будут доступны на этой странице после обработки ответов всех участников"},en:{value:"The results will be available here after processing of answers of all the participants"}},come_back_later:{ru:{value:"Зайдите позже, чтобы приступить к решению"},en:{value:"Come back later to start solving the problem"}},to_results:{ru:{value:"Перейти к результатам"},en:{value:"Get the results"}},document:{ru:{value:"Документ"},en:{value:"Document"}}},document:{default_title:{ru:{value:"Олимпиады и тестирования"},en:{value:"Olympiads and tests"}},noo_title:{ru:{value:"{title} — Сириус.Курсы"},en:{value:"{title} — Sirius.Courses"}},title:{ru:{value:"Олимпиады и тестирования — {title}"},en:{value:"Olympiads and tests — {title}"}}},certificate:{document_title:{ru:{value:"{text} — Олимпиады и тестирования"},en:{value:"{text} — Olympiads and tests"}},congratulations:{ru:{value:"Поздравляем! Получите {text}"},en:{value:"Congratulations! Get {text}"}},download_file:{ru:{value:"скачайте файл"},en:{value:"download the file"}},print_file:{ru:{value:"и распечатайте,"},en:{value:"and print it out,"}},copy:{ru:{value:"скопируйте"},en:{value:"copy"}},share_link:{ru:{value:"и отправьте ссылку, поделитесь в соцсетях или мессенджерах:"},en:{value:"and save the link, share in your social networks"}},permanent_link:{ru:{value:"Постоянная ссылка:"},en:{value:"Permanent link"}},download_certificate:{ru:{value:"Скачать файл"},en:{value:"Download file"}},copy_link:{ru:{value:"Копировать ссылку"},en:{value:"Copy link"}},header_title:{ru:{value:"Олимпиады и тестирования"},en:{value:"Olympiads and tests"}},verification:{ru:{value:"Подтверждение подлинности документа"},en:{value:"Verification of the document's authenticity"}}},profile_confirmation:{title:{ru:{value:"Мы заметили, что ответы сохраняются на разных вкладках браузера или нескольких устройствах"},en:{value:"We've noticed that answers are saved from different tabs of your browser or from different devices"}},caption:{ru:{value:"Обновите страницу, проверьте все ответы и продолжайте решать в одном месте"},en:{value:"Refresh the page, check up all the answers and keep solving in one place"}},refresh:{ru:{value:"Обновить страницу"},en:{value:"Refresh the page"}},is_not_me_title:{ru:{value:"Прежде, чем продолжить, убедитесь, что это вы"},en:{value:"Make sure you see your name before you continue"}},confirm:{ru:{value:"Да, всё верно"},en:{value:"Yes, everything is correct"}},typo:{ru:{value:"Вижу опечатку"},en:{value:"I see a typo"}},it_is_not_me:{ru:{value:"Это не я"},en:{value:"It's not me"}},mistake:{ru:{value:"Возможно, это ошибка"},en:{value:"It might be a mistake"}},do_not_solve:{ru:{value:"Не решайте олимпиаду. Обратитесь за помощью к ответственному лицу"},en:{value:"Don't solve the tasks and notify the person in charge"}},exit:{ru:{value:"Выйти"},en:{value:"Exit"}},check:{ru:{value:"Если вы не уверены, проверьте ещё раз"},en:{value:"Check again if you're not sure"}},back:{ru:{value:"Назад"},en:{value:"Back"}},keep_solving:{ru:{value:"Не переживайте. Продолжайте решать и сдайте работу"},en:{value:"Don't worry. Continue solving tasks and hand in your work"}},ask_for_help:{ru:{value:"После завершения обратитесь к ответственному лицу за помощью в исправлении ошибки"},en:{value:"After you finish ask the person in charge for help to correct the mistake"}},to_olympiad:{ru:{value:"В олимпиаду"},en:{value:"To olympiad"}},check_again:{ru:{value:"Если вы не уверены, проверьте ещё раз"},en:{value:"Check again if you're not sure"}}},countdown:{duration:{ru:{value:"{hours} ч {minutes} мин "},en:{value:"{hours} h {minutes} min "}}},task:{out_of:{ru:{value:"{value_1} из {value_2}. "},en:{value:"{value_1} out of {value_2}. "}},save_button_title:{ru:{value:"Ответ можно сохранять несколько раз"},en:{value:"You can still change your answer after you save it"}},save_button_title_online:{ru:{value:"Можно отвечать несколько раз"},en:{value:"You can answer multiple times"}}},save_button:{resend:{ru:{value:"Заменить ответ"},en:{value:"Replace answer"}},next_try:{ru:{value:"Попробовать ещё"},en:{value:"Try again"}},next_task:{ru:{value:"Дальше"},en:{value:"Next"}},checking:{ru:{value:"Проверяем"},en:{value:"Checking..."}},give_answer:{ru:{value:"Ответить"},en:{value:"Check"}},has_solution_ok_go_next:{ru:{value:"Отлично! Переходите к следующей задаче"},en:{value:"Brilliant! Go to the next"}},has_solution_ok:{ru:{value:" Верно"},en:{value:" Correct"}},has_solution_partly:{ru:{value:" Частично верно."},en:{value:" Partly correct."}},has_solution_wrong:{ru:{value:" Пока неверно."},en:{value:" Incorrect so far."}},has_solution_again:{ru:{value:"Попробуйте ещё"},en:{value:"Try again"}},has_solution_pe:{ru:{value:"Неверный формат ответа."},en:{value:"Invalid response format."}},has_solution_notReady:{ru:{value:"Можно отвечать несколько раз."},en:{value:"You can answer multiple times."}},has_pending:{ru:{value:"Проверка ответа..."},en:{value:"Checking..."}},save_the_answer:{ru:{value:"Сохранить ответ"},en:{value:"Save the answer"}},answer_is_saved:{ru:{value:"Ответ сохранён"},en:{value:"The answer is saved"}},is_saving:{ru:{value:"Сохраняем ответ"},en:{value:"Saving answer"}},save:{ru:{value:"Сохранить"},en:{value:"Save"}}},task_selector:{total:{ru:{value:"Всего: {number}"},en:{value:"Total: {number}"}}},result_switch_button:{right_answer_programming:{ru:{value:"Эталонное решение"},en:{value:"Reference solution"}},right_answer:{ru:{value:"Показать правильный ответ"},en:{value:"Show the correct answer"}}},result:{title_not_all:{ru:{value:"Вы сохранили ответы не для всех заданий"},en:{value:"You didn't enter the answers for all of the tasks"}},summary:{ru:{value:"После нажатия кнопки «Завершить работу» ответы {br} отправятся на проверку и внести изменения будет нельзя. {br} Результаты станут известны после обработки ответов"},en:{value:"After pressing the completing button your answers will be sent {br} to review and it will be impossible to make changes. {br} The results will be announced after answers are processed"}},title_all:{ru:{value:"Вы сохранили ответы для всех заданий"},en:{value:"You entered the answers for all of the tasks"}},send_for_examination:{ru:{value:"Завершить работу"},en:{value:"Complete the work"}},do_not_send:{ru:{value:"Вернуться к заданиям"},en:{value:"Keep working"}},duration:{ru:{value:"{number} мин"},en:{value:"{number} min"}},time:{ru:{value:"Время"},en:{value:"Time"}},answers:{ru:{value:"Ответов"},en:{value:"Answers"}},tasks:{ru:{value:"Заданий"},en:{value:"Tasks"}},time_left:{ru:{value:"{left} {number} {plural}"},en:{value:"{number} {plural} left"}},left:{ru:{one:"Осталась",other:"Осталось"},en:{one:"left",other:"left"}}},verdict_text:{ok:{ru:{value:"Верно"},en:{value:"You answer is correct"}},wrong:{ru:{value:"Неверно"},en:{value:"Answer you entered is incorrect"}},partly:{ru:{value:"Частично верно"},en:{value:"Your answer is partly correct"}},not_ready:{ru:{value:"Задача на проверке. Зайдите позже"},en:{value:"Your answer has not been checked yet. Try this page later"}},annulled:{ru:{value:"Задание признано некорректным. Решение не оценивается"},en:{value:"The task is considered to be incorrect. The solutions aren't evaluated"}},no_verdict:{ru:{value:"Вы не отвечали на задание"},en:{value:"You didn't enter your answer for this task"}}},timeout_popup:{text:{ru:{value:"Работа отправлена на проверку. {br} Результаты станут известны после обработки ответов"},en:{value:"The work has been sent for review. {br} The results will be announced after answers are processed"}},remain:{ru:{value:"Осталось 0 минут"},en:{value:"0 minutes left"}},out_of_time:{ru:{value:"Время вышло"},en:{value:"There is no time left "}},answers:{ru:{value:"Ответов"},en:{value:"Answers"}},tasks:{ru:{value:"Заданий"},en:{value:"Tasks"}},time:{ru:{value:"Время"},en:{value:"Time"}},duration:{ru:{value:"{number} мин"},en:{value:"{number} min"}},got_it:{ru:{value:"Ясно"},en:{value:"Got it"}}},oversize_popup:{title:{ru:{value:"Уменьшите длину ответа, чтобы сохранить"},en:{value:"Reduce response length to save"}},description:{ru:{value:"Длина ответа превышает допустимую величину. Мы не можем сохранить его. Постарайтесь ответить короче"},en:{value:"The length of the response exceeds the allowable value. We cannot save it. Try to be short"}},got_it:{ru:{value:"Ясно"},en:{value:"Got it"}}},section:{forward:{ru:{value:"Вперёд"},en:{value:"Forward"}},next:{ru:{value:"Далее"},en:{value:"Next"}},time_left:{ru:{value:"Осталось {number} {plural}"},en:{value:"{number} {plural} left"}}},detailed_answer:{solution:{ru:{value:"Решение"},en:{value:"Solution"}},add_file:{ru:{value:"Прикрепите файл"},en:{value:"Add your file"}},cant_load:{ru:{value:"Невозможно загрузить файл"},en:{value:"It's impossible to upload the file"}},cant_load_size:{ru:{value:"Невозможно загрузить файл, попробуйте уменьшить его размер"},en:{value:"It's impossible to upload the file, try to reduce its size"}},comment_title:{ru:{value:"Комментарий к оценке"},en:{value:"Comment on the grade"}}}},programming:{codeunit:{str:{ru:{value:"Строки:"},en:{value:"Strings:"}},sym:{ru:{value:"Символы:"},en:{value:"Symbols:"}},input:{ru:{value:"Входные данные"},en:{value:"Input data"}},output:{ru:{value:"Результат работы"},en:{value:"Output data"}},correct:{ru:{value:"Правильный ответ"},en:{value:"Correct answer"}},error:{ru:{value:"Поток ошибок"},en:{value:"Errors"}}},"tests-report-columns":{number:{ru:{value:"№"},en:{value:"#"}},result:{ru:{value:"Результаты"},en:{value:"Results"}},time_s:{ru:{value:"Время, c"},en:{value:"Time, s"}},memory_mb:{ru:{value:"Память, MB"},en:{value:"Memory, MB"}},score:{ru:{value:"Балл"},en:{value:"Score"}}},tests:{header:{ru:{value:"Результат выполнения тестов"},en:{value:"Tests run results"}},"test-label":{ru:{value:"Тест"},en:{value:"Test"}},"timeSec-label":{ru:{value:"Время, c:"},en:{value:"Time, s:"}},"memoryMb-label":{ru:{value:"Память, MB:"},en:{value:"Memory, MB:"}}},reviewResult:{internalError:{ru:{value:"Внутренняя ошибка при проверке задачи"},en:{value:"Internal error"}},runtimeError:{ru:{value:"Ошибка при выполнении программы"},en:{value:"Runtime error"}},timeLimit:{ru:{value:"Программа выполнялась слишком долго"},en:{value:"Time limit exceed"}},memoryLimit:{ru:{value:"Программа потребляла слишком много памяти"},en:{value:"Memory limit exceed"}},presentationError:{ru:{value:"Программа выдаёт ответ в неверном формате"},en:{value:"The program gives a response in the wrong format"}},wrongAnswer:{ru:{value:"Программа выдаёт неверный ответ"},en:{value:"The program gives an incorrect answer"}},compilationError:{ru:{value:"Программа не компилируется"},en:{value:"Compilation error"}},compilationTimedOut:{ru:{value:"Программа компилировалась слишком долго и была прервана"},en:{value:"The program took too long to compile and was interrupted"}},tooMuchOutputError:{ru:{value:"Программа выдаёт слишком много данных и была прервана"},en:{value:"The program outputs too much data and was interrupted"}},checkerFailed:{ru:{value:"Произошла внутренняя ошибка во время проверки ответа"},en:{value:"Internal error while checking testing the answer"}},sizeError:{ru:{value:"Программа превышает допустимое количество символов"},en:{value:"The program exceeds the allowed number of characters"}},validationError:{ru:{value:"Программа не удовлетворяет требованиям"},en:{value:"The program does not meet the requirements"}}},verdict:{ok:{ru:{value:"Ответ верный"},en:{value:"Correct"}},wrong:{ru:{value:"Ответ неверный"},en:{value:"Incorrect"}},partly:{ru:{value:"Ответ частично верный"},en:{value:"Partly correct"}},annulled:{ru:{value:"задание признано некорректным и решение не оценивалось"},en:{value:"the task is incorrect and is not being evaluated"}},notReady:{ru:{value:"задача на проверке"},en:{value:"not ready"}},unscored:{ru:{value:"задача не оценивается"},en:{value:"the task is not evaluated"}},noneUnscored:{ru:{value:"на задачу не дан ответ и она не оценивается"},en:{value:"the task has not been answered and is not being evaluated"}},none:{ru:{value:"Вы не отвечали на задание"},en:{value:"the task has not been answered"}}},onlineverdicts:{hide:{ru:{value:"Свернуть"},en:{value:"Hide"}},verdictsScoreFrom:{ru:{value:"из"},en:{value:"from"}},solutionHeader:{ru:{value:"Решение"},en:{value:"Solution"}},solutionsNum:{ru:{one:"решение",few:"решения",many:"решений",other:"решений"},en:{one:"solution",other:"solutions"}},justnow:{ru:{value:"Только что"},en:{value:"Just now"}},solutionRetryButton:{ru:{value:"Понятно"},en:{value:"OK"}},solutionError_401:{ru:{value:"Ошибка загрузки"},en:{value:"Loading error"}},solutionError_403:{ru:{value:"В данной олимпиаде нельзя получать информацию по конкретному решению"},en:{value:"The contest don't provide information about this solution"}},solutionError_404:{ru:{value:"Запрошенное решение не найдено"},en:{value:"Solution not found"}}},codeeditor:{header:{ru:{value:"Решение"},en:{value:"Solution"}},header1:{ru:{value:"Код"},en:{value:"Code"}},filebtn:{ru:{value:"Код из файла"},en:{value:"Code from file"}},reset:{ru:{value:"Начать сначала"},en:{value:"Reset"}},hiddentxt:{ru:{value:"Текст решения скрыт"},en:{value:"Code is hidden"}}},io:{input:{ru:{value:"Ввод"},en:{value:"Input"}},output:{ru:{value:"Вывод"},en:{value:"Output"}}},limits:{header:{ru:{value:"Ограничения"},en:{value:"Constraints"}},realTime:{ru:{value:"Время выполнения"},en:{value:"Execution time (CPU)"}},time:{ru:{value:"Процессорное время"},en:{value:"Execution time (Wallclock)"}},maxMem:{ru:{value:"Память"},en:{value:"Memory"}},stackMem:{ru:{value:"Размер стека"},en:{value:"Stack size"}},compilationTime:{ru:{value:"Время на компиляцию"},en:{value:"Compilation time"}},charactersCount:{ru:{value:"Количество символов в исходном коде программы"},en:{value:"Maximum symbols"}}},examples:{title:{ru:{value:"Примеры"},en:{value:"Examples"}},input:{ru:{value:"Ввод"},en:{value:"Input"}},output:{ru:{value:"Вывод"},en:{value:"Output"}}}}},tl=n(47),nl=Object(tl.a)(T.c,el),rl=Object(tl.a)(T.b,el);function ol(e){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function il(e,t){return(il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cl(e);if(t){var o=cl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ll(this,n)}}function ll(e,t){if(t&&("object"===ol(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cl(e){return(cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ul=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&il(e,t)}(i,e);var t,n,r,a=sl(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={user_name:e.user_name},t}return t=i,r=[{key:"logout",value:function(e){if(e=e||!1,Object(u.f)(),"/contest/"!==location.hash.substr(1,9))"/"!==location.pathname?location.pathname="/":""===location.search||e?location.reload():location.href=location.origin+location.pathname;else{var t=CONFIG.Auth.logoutUrl.replaceAll("{href}",encodeURIComponent(document.location.href));location.href=t}}}],(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.user_name;this.setState({user_name:t})}},{key:"render",value:function(){var e={};return this.props.text_color&&(e.color=this.props.text_color),o.a.createElement("div",{className:"user_info",style:e},this.state.user_name,o.a.createElement("div",{className:"user_info__logout",onClick:i.logout},o.a.createElement(nl,{k:"common.user_info.logout",id:"value"})))}}])&&al(t.prototype,n),r&&al(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component),fl=(n(1175),n(608)),pl=["renderer"];function dl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ml(e){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(n),!0).forEach((function(t){Sl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wl(e,t){return(wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kl(e);if(t){var o=kl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return El(this,n)}}function El(e,t){if(t&&("object"===ml(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ol(e)}function Ol(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kl(e){return(kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cl=function(e){return'<p class="marked-paragraph">'.concat(e,"</p>")},jl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wl(e,t)}(i,e);var t,n,r,a=_l(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Sl(Ol(t=a.call(this,e)),"mathJaxRef",o.a.createRef()),Sl(Ol(t),"HANDLERS",["parseInlineTag","parseYoutubeTag","parseJustifyTag"]),Sl(Ol(t),"parseJustifyTag",(function(e){return e=(e=(e=e.replace(/^:--:(.*)$/gm,'<span class="d-block text-center">$1</span>')).replace(/^:--(.*)$/gm,'<span class="d-block text-left">$1</span>')).replace(/^--:(.*)$/gm,'<span class="d-block text-right">$1</span>')})),Sl(Ol(t),"parseInlineTag",(function(e){return t.props.inline&&(e=e.replace(/\$\$([^\$\n]+)\$\$/gi,"$$$1$$")),e})),Sl(Ol(t),"renderVideoContainer",(function(e){var t=document.createElement("div");t.className="module-video-content__inner-video task-video-content__inner-video";var n=document.createElement("video");return n.src=e,n.controlsList="nodownload",n.controls=!0,t.appendChild(n),t})),Sl(Ol(t),"renderYoutubeContainer",(function(e,t,n){var r=document.createElement("iframe");return r.src="https://www.youtube.com/embed/".concat(e,"?rel=0&showinfo=0&modestbranding=1&color=white&iv_load_policy=3&cc_load_policy=1&").concat(t?"".concat(t,"&"):"").concat(n?"".concat(n,"&"):""),r.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",r.width="100%",r.setAttribute("allowFullScreen",""),r.setAttribute("frameborder","0"),r.className="iframe-youtube",r})),Sl(Ol(t),"parseYoutubeTag",(function(e){var n=t.state,r=n.videoContainers,o=n.videoTagArr,a=n.isResolve;return o.length&&a&&o.forEach((function(n,o){var a,i=n.replace("{youtube:","").replace(/\((start|end)=(\d?|\d+)\)/g,"").replace("}",""),s=n.match(/start=\d+/),l=n.match(/end=\d+/),c={type:"youtube",url:i},u=null!==(a=r[o])&&void 0!==a?a:c,f=u.type,p=u.url,d="youtube"===f?t.renderYoutubeContainer(i,s,l):t.renderVideoContainer(p),m=document.createElement("div");m.appendChild(d),e=e.replace(n,m.innerHTML),m.remove()})),e})),Sl(Ol(t),"parseCustomTags",(function(e){var n,r=yl(t.HANDLERS);try{for(r.s();!(n=r.n()).done;){var o=n.value;e=t[o](e)}}catch(e){r.e(e)}finally{r.f()}return e})),t.state={source:null,videoContainers:{},videoTagArr:[],isResolve:!0},t}return t=i,(n=[{key:"componentDidUpdate",value:function(e,t,n){var r=e.children,o=this.props.children;Object(fl.isEqual)(r,o)||this.setState(vl(vl({},this.state),{},{source:o}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.children,n=this.setState.bind(this);if("object"===ml(t))n((function(e){return vl(vl({},e),{},{source:t})}));else{var r,o=null!==(r=null==t?void 0:t.match(/{youtube:[^}\n]+}/g))&&void 0!==r?r:[];if(o&&(n((function(e){return vl(vl({},e),{},{source:t,videoTagArr:o})})),this.props.getVideoResolveContainer)){n((function(e){return vl(vl({},e),{},{isResolve:!1})}));var a=o.map((function(t){var n=t.replace("{youtube:","").replace(/\((start|end)=(\d?|\d+)\)/g,"").replace("}","");return e.props.getVideoResolveContainer({urlVideo:"https://www.youtube.com/embed/".concat(n)})}));Promise.all(a).then((function(e){e.forEach((function(e,t){return n((function(n){return vl(vl({},n),{},{videoContainers:vl(vl({},n.videoContainers),{},Sl({},t,e))})}))})),n((function(e){return vl(vl({},e),{},{isResolve:!0})}))}))}}}},{key:"render",value:function(){var e=this.state,t=e.source,n=e.isResolve;if(!t)return"";if("object"===ml(t))return t;t=this.parseCustomTags(t);var r=F.a.getDefaults(),a=r.renderer,i=dl(r,pl);Object.assign(a,{paragraph:Cl});var s=F()(t,vl({renderer:a},i));return n?o.a.createElement(Q,{math:s,className:this.props.className,onClick:this.props.onClick,ref:this.mathJaxRef}):null}}])&&gl(t.prototype,n),r&&gl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);Sl(jl,"defaultProps",{inline:!1});var xl,Pl=jl,Nl=function(e){var t=e.data,r=e.meta,a=t.title,i=t.description,s={};return r.statusBg&&(s.background=r.statusBg),r.statusColor&&(s.color=r.statusColor),o.a.createElement("div",{className:"prize_type_congrats",style:s},o.a.createElement("div",{className:"prize_type_congrats__title"},a),o.a.createElement("img",{className:"prize_type_congrats__img",src:n(1176)}),!!i&&o.a.createElement("div",{className:"prize_type_congrats__description"},o.a.createElement(Pl,null,i)))},Il=(n(1177),function(e){var t=e.data,n=t.title,r=t.description,a=t.file,i=t.link,s=t.linkText;return o.a.createElement("div",{className:"prize_type_ordinary"},o.a.createElement("div",{className:"prize_type_ordinary__title"},n),!!r&&o.a.createElement("div",{className:"prize_type_ordinary__description"},o.a.createElement(Pl,null,r)),!!i&&o.a.createElement("a",{href:i,target:"_blank",className:"prize_type_ordinary__link"},s),!!a&&o.a.createElement("a",{href:"".concat(CONFIG.Api.webPortal.url,"/test/download/").concat(a),target:"_blank",download:!0,className:"prize_type_ordinary__link"},s))});function Al(e){return(Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(e,t){return(Rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Fl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ml(e);if(t){var o=Ml(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dl(this,n)}}function Dl(e,t){if(t&&("object"===Al(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ml(e){return(Ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e.congrats="congrats",e.ordinary="ordinary"}(xl||(xl={}));var Ul=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rl(e,t)}(i,e);var t,n,r,a=Fl(i);function i(){return Tl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.metadata;return t?t.map((function(e,t){switch(e.type){case xl.congrats:return o.a.createElement(Nl,{data:e,meta:n,key:t});case xl.ordinary:return o.a.createElement(Il,{data:e,meta:n,key:t})}throw new Error("unknown prize type")})):null}}])&&Ll(t.prototype,n),r&&Ll(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component),Gl=n(275),Bl=function(e){var t=e.tpl,n=e.locale,r=e.values,o=e.defaultTitle,a=void 0===o?"":o,i=Object(T.d)({tpl:t,id:"value",locale:n,values:r});return Object(Gl.a)({title:i||a})};Bl.defaultProps={defaultTitle:""};var Vl=Object(T.e)(Bl),Hl=Object(tl.a)(Vl,el),Wl=n(1369),Yl=n(1385),zl=n(609),ql=n.n(zl),Zl=n(9),Kl=n.n(Zl),Jl=n(41),Ql=n(293),Xl=n(185),$l=n(36),ec=n(1340),tc=n(159);function nc(e){return function(e){if(Array.isArray(e))return ac(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||oc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oc(e,t){if(e){if("string"==typeof e)return ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ac(e,t):void 0}}function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(n),!0).forEach((function(t){lc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cc=function(e){try{return Object(oe.decode)(e,{json:!0}).tv.reduce((function(e,t){var n=t.i;return e||void 0!==n}),!1)}catch(e){return console.error(e),!1}},uc=function(e){try{var t=Object(oe.decode)(e,{json:!0});return"tb"in t&&!!t.tb}catch(e){return console.error(e),!1}},fc=function(e,t){try{var n=parseInt(t);return Object(oe.decode)(e,{json:!0}).tv.reduce((function(e,t,r){var o=t.i;return e||void 0!==o&&r===n}),!1)}catch(e){return console.error(e),!1}return!1},pc=function(e){try{var t=Object(oe.decode)(e,{json:!0});return null==t?void 0:t.un}catch(e){return console.error(e),!1}},dc={"cache-control":"no-cache","content-type":"application/json",Accept:"application/json"},mc=function(e){return sc(sc({},dc),{},{Authorization:"Bearer ".concat(e)})},hc=function(){return"".concat(CONFIG.Api.persistentCache.url,"/v4")},vc=function(e,t){var n=e.id,r=e.taskId;return l()({method:"POST",url:"".concat(hc(),"/solution"),data:{id:n,taskId:r},headers:mc(t)})},yc=function(e,t){var n=e.taskNo,r=e.submissionId;return l()({method:"POST",url:"".concat(CONFIG.Api.webPortal.url,"/test/results/testsReport/").concat(n,"/").concat(r),headers:{"Content-type":"application/json",Accept:"application/json"},data:'"'.concat(t,'"')})},bc=function(e,t){var n=e.taskNo,r=e.testNo,o=e.submissionId;return l()({method:"POST",url:"".concat(CONFIG.Api.webPortal.url,"/test/results/testsReport/").concat(n,"/").concat(o,"/report/").concat(r),headers:{"Content-type":"application/json",Accept:"application/json"},data:'"'.concat(t,'"')})},gc=function(e){return function(e){return l()({method:"POST",url:"".concat(hc(),"/token"),headers:mc(e)})}(e).then((function(e){return e.data}))},wc=function(e){var t=e.pending,n=e.reviews,r=e.solutions;return{pending:t,solutions:Object.entries(r).reduce((function(e,t){var r=rc(t,2),o=r[0],a=r[1],i=rc(Object.values(a),1)[0];return e.push(sc(sc({taskId:o},i),o in n?n[o]:null)),e}),[])}},_c=function(e,t){var n=t.pending,r=void 0===n?[]:n,o=t.solutions,a=void 0===o?[]:o,i=new ec.a({pending:r,solutions:a}),s=function(t){return function(){var n=i.getValue().sinceISO;(function(e,t){var n=e.sinceISO,r=e.token;return l()({method:"POST",url:"".concat(hc(),"/reviews"),data:{sinceISO:n,token:r},headers:mc(t)})})({token:t,sinceISO:n},e).then((function(e){var t=e.data,n=t.sinceISO,r=t.token,o=t.availAfterSec,a=t.solutions,s=void 0===a?[]:a,l=t.pending,u=void 0===l?[]:l,f=i.getValue(),p=f.solutions,d=f.pending,m=[].concat(nc(s),nc(u)).map((function(e){return e.id})),h={sinceISO:n,solutions:[].concat(nc(p.filter((function(e){var t=e.id;return!m.includes(t)}))),nc(s.map((function(e){return sc(sc({},p.find((function(t){return t.id===e.id}))||d.find((function(t){return t.id===e.id}))||null),e)})))),pending:nc(u.map((function(e){var t=e.id;return sc({},d.find((function(e){return e.id===t})))})))};Object(tc.a)(i,h),c({token:r,availAfterSec:o})})).catch((function(e){if(null!=e&&e.isAxiosError){var n=e.response,r=n.headers;if(429===n.status){var o=1|parseInt(r["retry-after"]);return void c({token:t,availAfterSec:o})}}return e}))}},c=function(e){var t=e.token,n=1e3*e.availAfterSec;setTimeout(s(t),n)};return gc(e).then(c),i},Ec=function(e,t){var n=t.solution,r=t.taskId,o=e.getValue().pending;Object(tc.a)(e,{pending:[].concat(nc(o),[{id:"new",solution:n,taskId:r,tmSec:Math.round((new Date).getTime()/1e3)}])})},Oc=function(e,t){var n=t.id,r=t.taskId,o=e.getValue().pending,a=o.filter((function(e){return"new"!==e.id&&e.taskId!==r})),i=o.find((function(e){return"new"===e.id&&e.taskId===r})),s=[].concat(nc(a),[sc(sc({},i),{},{id:n})]);Object(tc.a)(e,{pending:s})},kc=function(e,t){var n=t.taskId,r=e.getValue().pending.filter((function(e){return"new"!==e.id&&e.taskId!==n}));Object(tc.a)(e,{pending:nc(r)})},Sc=n(76),Cc=n(280),jc=n(187),xc=new ec.a(!1),Pc=function(e){var t,n=e.key;return null!==(t={Meta:e.shiftKey,Shift:e.metaKey,PrintScreen:!0}[n])&&void 0!==t&&t};Cc.a.subscribe((function(e){Pc(e)&&!1===xc.getValue()&&xc.next(!0)})),jc.a.subscribe((function(e){Pc(e)&&!0===xc.getValue()&&xc.next(!1)}));var Nc=new ec.a(null);Nc.subscribe((function(e){console.debug("smtTaskPageData$",e)}));var Ic=Jl.a;n(1178);function Ac(e){return(Ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Rc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var m={};s(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=d.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Ac(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,s(y,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Fc(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Dc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Fc(a,r,o,i,s,"next",e)}function s(e){Fc(a,r,o,i,s,"throw",e)}i(void 0)}))}}function Mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gc(e,t){return(Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wc(e);if(t){var o=Wc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vc(this,n)}}function Vc(e,t){if(t&&("object"===Ac(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hc(e)}function Hc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wc(e){return(Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zc,qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gc(e,t)}(l,e);var t,r,a,i,s=Bc(l);function l(){var e;Mc(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yc(Hc(e=s.call.apply(s,[this].concat(n))),"state",{uploadingFiles:[],uploadedFiles:{},isLoading:!0,errorMessage:null}),Yc(Hc(e),"getAnswerHasError",(function(){return!1})),Yc(Hc(e),"getAreFilesAllowed",(function(){var t=e.props,n=t.answersData;return!t.resultData&&!!n.areFilesAllowed})),Yc(Hc(e),"onInputFileClick",(function(t){e.props.preventFileUpload&&t.preventDefault()})),Yc(Hc(e),"onInputFileChange",function(){var t=Dc(Rc().mark((function t(n){var r,o,a,i,s,l,c,u,f,p;return Rc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.state.uploadingFiles,o=e.props,a=o.taskToken,!o.preventFileUpload){t.next=5;break}return n.preventDefault(),t.abrupt("return");case 5:return i=n.target,r.push(i.files[0].name),s=r.length-1,e.setState({uploadingFiles:r}),t.next=11,k.post("".concat(CONFIG.Api.webPortal.url,"/test/upload-token"),{},{auth_token:a});case 11:if((l=t.sent).success){t.next=14;break}return t.abrupt("return");case 14:return(c=new FormData).append("token",l.success.token),c.append("file",i.files[0]),t.prev=17,t.next=20,k.post("".concat(CONFIG.Api.storage.url,"/upload"),c,{throwExceptionOnError:!0,headers:{Accept:"application/json;charset=utf-8","Content-Type":"multipart/form-data"}});case 20:u=t.sent,e.storeImage(u.success,s),t.next=32;break;case 24:t.prev=24,t.t0=t.catch(17),f="common.detailed_answer.cant_load",t.t0.response.data.error&&(f=t.t0.response.data.error[0].key||t.t0.response.data.error[0].message),t.t0.response&&413===t.t0.response.status&&(f="common.detailed_answer.cant_load_size"),(p=Re()(r)).splice(p.indexOf(i.files[0].name),1),e.setState({uploadingFiles:p,errorMessage:f});case 32:i.value="";case 33:case"end":return t.stop()}}),t,null,[[17,24]])})));return function(e){return t.apply(this,arguments)}}()),Yc(Hc(e),"storeImage",(function(t,n){var r=e.state,o=r.uploadingFiles,a=r.uploadedFiles,i=e.props.userAnswer;o.splice(n,1),i.attachments.push(t.hash),a[t.hash]=t,e.props.onAnswer(i),e.setState({uploadingFiles:o,uploadedFiles:a})})),Yc(Hc(e),"deleteImage",(function(t){var n=e.props,r=n.userAnswer,o=n.onAnswer;r.attachments.splice(t,1),o(e.prepareUserAnswer(r))})),Yc(Hc(e),"textAreaChange",(function(t){var n=e.props,r=n.userAnswer,o=n.onAnswer;r.message=t,o(e.prepareUserAnswer(r))})),e}return t=l,(r=[{key:"UNSAFE_componentWillMount",value:(i=Dc(Rc().mark((function e(){var t,n,r,o,a,i,s,l,c,f,p,d,m;return Rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.contestId,r=t.userAnswer,o=t.customGetFileInfoAction,a=t.resultData,n||(i=Object(u.c)(),n=i.contestId),s=this.state.uploadedFiles,!r.attachments){e.next=22;break}l=Tc(r.attachments),e.prev=5,l.s();case 7:if((c=l.n()).done){e.next=14;break}return f=c.value,e.next=11,o(n,f);case 11:s[f]=e.sent.success;case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),l.e(e.t0);case 19:return e.prev=19,l.f(),e.finish(19);case 22:if(!(a&&a.answer&&a.answer.solution.attachments)){e.next=41;break}p=Tc(a.answer.solution.attachments),e.prev=24,p.s();case 26:if((d=p.n()).done){e.next=33;break}return m=d.value,e.next=30,o(n,m);case 30:s[m]=e.sent.success;case 31:e.next=26;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(24),p.e(e.t1);case 38:return e.prev=38,p.f(),e.finish(38);case 41:this.setState({uploadedFiles:s,isLoading:!1});case 42:case"end":return e.stop()}}),e,this,[[5,16,19,22],[24,35,38,41]])}))),function(){return i.apply(this,arguments)})},{key:"getIsAnswerFilled",value:function(){var e,t,n=this.props.userAnswer;return(null==n||null===(e=n.message)||void 0===e?void 0:e.length)>0||(null==n||null===(t=n.attachments)||void 0===t?void 0:t.length)>0}},{key:"prepareUserAnswer",value:function(e){var t,n;return(null===(t=e.attachments)||void 0===t?void 0:t.length)>0||(null===(n=e.message)||void 0===n?void 0:n.length)>0?e:null}},{key:"render",value:function(){var e,t=this,r=this.state,a=r.isLoading,i=r.uploadedFiles,s=r.errorMessage,l=this.props,c=l.resultData,u=l.userAnswer,f=this.getAreFilesAllowed();if(a)return o.a.createElement("div",{className:"detailed_answer__content"},o.a.createElement("form",{className:"detailed_answer__message_form"},o.a.createElement(Ic,{centerOfWindow:!0})));var p=new ot("detailed_answer");c&&(p.appendStatus("has_result"),p.appendStatus("verdict-".concat(c.verdict)));var d=u.attachments;return null!=c&&null!==(e=c.answer)&&void 0!==e&&e.solution.attachments&&(d=c.answer.solution.attachments),d||(d=[]),o.a.createElement("div",{className:p.toString()},o.a.createElement("form",{className:"detailed_answer__message_form"},!c&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"detailed_answer__message_form_header"},o.a.createElement("div",{className:"detailed_answer__message_form_title"},o.a.createElement(nl,{k:"common.detailed_answer.solution",id:"value"}))),o.a.createElement("textarea",{value:u.message||"",onChange:function(e){return t.textAreaChange(e.target.value)}})),c&&c.answer&&o.a.createElement("div",{className:"detailed_answer__result_answer"},!!c.answer.solution.message&&c.answer.solution.message),(f||d.length>0)&&o.a.createElement("div",{className:"detailed_answer__message_form_footer"},o.a.createElement("div",null,d.map((function(e,n){if(!i[e])return null;var r=t.state.uploadedFiles[e].info,a=null,s="".concat(CONFIG.Api.storage.url,"/download/").concat(r.token),l="file";return r.preview?a="".concat(CONFIG.Api.storage.url,"/download/").concat(r.preview):(l="",r.name.includes(".")&&(l=r.name.split(".").pop()).length>4&&(l="")),o.a.createElement("a",{key:n,className:"detailed_answer__message_image",href:s,download:r.name,target:"_blank"},a&&o.a.createElement("img",{alt:"",src:a}),!a&&o.a.createElement("div",{className:"detailed_answer__message_file_ext"},"...".concat(l)),!c&&o.a.createElement("div",{className:"detailed_answer__message_image_close",onClick:function(e){e.preventDefault(),t.deleteImage(n)}}))})),this.state.uploadingFiles.map((function(e,t){return o.a.createElement("div",{key:t,className:"detailed_answer__message_image "},o.a.createElement(Ic,{marginCenter:!0}))}))),!!s&&o.a.createElement("div",{className:"detailed_answer__error"},o.a.createElement(nl,{k:s,id:"value"}),o.a.createElement("div",{className:"detailed_answer__error_close",onClick:function(){return t.setState({errorMessage:null})}})),!s&&f&&o.a.createElement("label",{className:"detailed_answer__message_form_add_file",onClick:this.onInputFileClick},o.a.createElement(nl,{k:"common.detailed_answer.add_file",id:"value"}),o.a.createElement("input",{type:"file",onChange:this.onInputFileChange}),o.a.createElement("img",{src:n(1179)})))))}}])&&Uc(t.prototype,r),a&&Uc(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.a.Component);function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qc(e,t){return(Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eu(e);if(t){var o=eu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $c(this,n)}}function $c(e,t){if(t&&("object"===Zc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function eu(e){return(eu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Yc(qc,"defaultProps",{userAnswer:{message:""},onAnswer:function(){},customGetFileInfoAction:(zc=Dc(Rc().mark((function e(t,n){var r;return Rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.post("".concat(null===(r=CONFIG.Api.webPortal)||void 0===r?void 0:r.url,"/test/download-token/").concat(t,"/").concat(n)));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return zc.apply(this,arguments)})});var tu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qc(e,t)}(l,e);var t,a,i,s=Xc(l);function l(){return Kc(this,l),s.apply(this,arguments)}return t=l,(a=[{key:"render",value:function(){var e=this.props.message,t=this.props.element_learn,a="",i=new ot("detailed_answer_message__scores"),s=e.whoSet.firstName.charAt(0).toUpperCase()+e.whoSet.lastName.charAt(0).toUpperCase(),l=new ot("detailed_answer_message__avatar"),c="".concat(e.whoSet.firstName," ").concat(e.whoSet.lastName),u="";if(e.date){var f=new Date(e.date),p=new Date(e.date),d=f.setHours(0,0,0,0),m=(new Date).setHours(0,0,0,0);u=p.toLocaleString("ru",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"}),d<m&&(u=p.toLocaleString("ru",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"}))}var h=new ot("detailed_answer_message__user"),v=e.text.split("\n").map((function(e,t){return o.a.createElement(r.Fragment,{key:t},o.a.createElement(Pl,null,e),o.a.createElement("br",null))}));if("solution"===e.type){var y=void 0!==e.score;"notReady"!==t.verdict||e.comments&&y||(a=o.a.createElement("span",null,"Отправлено на проверку")),e.comments&&y&&t.max&&(a="".concat(e.score," из ").concat(t.max),i.appendStatus("graduated")),v=o.a.createElement("span",null,o.a.createElement("span",{className:"detailed_answer_message__content_text_solution"},"Решение ".concat(this.props.solution_counter,"."))," ",v)}return"answer"===e.type&&(s=o.a.createElement("img",{src:n(550)}),l.appendStatus("lecturer"),h.appendStatus("lecturer"),e.whoSet.middleName&&(c="".concat(e.whoSet.firstName," ").concat(e.whoSet.middleName," ").concat(e.whoSet.lastName))),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"detailed_answer_message__header"},o.a.createElement("div",{className:h},o.a.createElement("div",{className:l},s),o.a.createElement("div",{className:"detailed_answer_message__user_text"},o.a.createElement("div",{className:"detailed_answer_message__user_name"},c),o.a.createElement("div",{className:"detailed_answer_message__date"},u))),a&&o.a.createElement("div",{className:i},a)),o.a.createElement("div",{className:"detailed_answer_message__content"},o.a.createElement("div",{className:"detailed_answer_message__content_text"},v),e.imgs&&e.imgs.length>0&&o.a.createElement("div",{className:"detailed_answer_message__content_imgs"},e.imgs.map((function(e,t){return o.a.createElement("a",{key:t,className:"detailed_answer_message__content_image",download:e.file_name,href:e.download_url,target:"_blank"},e.preview_url&&o.a.createElement("img",{alt:"",src:e.preview_url}),!e.preview_url&&o.a.createElement("div",{className:"detailed_answer__message_file_ext"},"...",e.file_ext))})))))}}])&&Jc(t.prototype,a),i&&Jc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(tu,"defaultProps",{message:null,element_learn:{},solution_counter:1,comments_to_task:[]});var nu=n(37);var ru=CONFIG.Version?"/"+CONFIG.Version:"",ou=(CONFIG.ContentVersion&&CONFIG.ContentVersion,function(e,t,n){return ts.post(CONFIG.Api.noopolis.url+ru+"/course/"+e+"/learn/"+t+"/task/"+n+"/upload-token",{},{send_auth_token:!0})}),au=function(e,t,n,r){return ts.post(CONFIG.Api.noopolis.url+ru+"/course/"+e+"/learn/"+t+"/task/"+n+"/file-info/"+r,{},{send_auth_token:!0})},iu=function(e,t,n,r,o){return ts.post(CONFIG.Api.noopolis.url+ru+"/course/"+e+"/learn/"+t+"/"+n+"/"+r+"/thread/file-info/"+o,{},{send_auth_token:!0})};function su(e){return(su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lu(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */lu=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var m={};s(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=d.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==su(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,s(y,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function cu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return uu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fu(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function pu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){fu(a,r,o,i,s,"next",e)}function s(e){fu(a,r,o,i,s,"throw",e)}i(void 0)}))}}function du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mu(e,t){return(mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bu(e);if(t){var o=bu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vu(this,n)}}function vu(e,t){if(t&&("object"===su(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yu(e)}function yu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bu(e){return(bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mu(e,t)}(s,e);var t,r,a,i=hu(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),gu(yu(t=i.call(this,e)),"getIsAnswerFilled",(function(){return!0})),gu(yu(t),"getAnswerHasError",(function(){return!1})),gu(yu(t),"getMessages",pu(lu().mark((function e(){var n,r,o,a,i,s,l,c,u,f,p,d,m,h,v,y,b,g,w,_,E;return lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setState({is_loading:!0}),n=t.state.uploaded_files,r=[],!t.props.current_element_learn_thread||!t.props.current_element_learn_thread.comments){e.next=29;break}o=cu(t.props.current_element_learn_thread.comments),e.prev=5,o.s();case 7:if((a=o.n()).done){e.next=21;break}if(i=a.value,s="question",i.isTutor&&(s="answer"),l=[],!i.attachments){e.next=16;break}return e.next=15,t.getAttachedImages(i.attachments,!0);case 15:l=e.sent;case 16:c="",i.author.middleName&&"answer"===s&&(c=i.author.middleName),r.push({type:s,text:i.message,date:i.time,imgs:l,whoSet:{firstName:i.author.name,lastName:i.author.surname,middleName:c}});case 19:e.next=7;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(5),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:if(!t.props.element_learn.solution||!t.props.element_learn.solution.answers){e.next=66;break}u=cu(t.props.element_learn.solution.answers),e.prev=31,u.s();case 33:if((f=u.n()).done){e.next=58;break}if(p=f.value,d=p.answer.solution.message,m=null,"detailed"===t.props.answer_type&&p.answer.solution.attachments&&(m=p.answer.solution.attachments),h=[],!m){e.next=43;break}return e.next=42,t.getAttachedImages(m);case 42:h=e.sent;case 43:if(t.solution_counter++,v={type:"solution",text:d,date:p.time,imgs:h,score:p.score,whoSet:{firstName:Ke("firstName"),lastName:Ke("lastName"),middleName:""}},!p.wasReviewed){e.next=55;break}if(g=[],null===(y=p.review)||void 0===y||!y.attachments){e.next=51;break}return e.next=50,t.getAttachedImages(p.review.attachments);case 50:g=e.sent;case 51:w=null,_=null,null!==(b=p.review)&&void 0!==b&&b.message&&(w=p.review.message,E="",p.reviewAuthor.middleName&&(E=p.reviewAuthor.middleName),_={firstName:p.reviewAuthor.name,lastName:p.reviewAuthor.surname,middleName:E}),v.comments={type:"answer",text:w,imgs:g,date:p.reviewTime,whoSet:_};case 55:r.push(v);case 56:e.next=33;break;case 58:e.next=63;break;case 60:e.prev=60,e.t1=e.catch(31),u.e(e.t1);case 63:return e.prev=63,u.f(),e.finish(63);case 66:r.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),t.setState({messages_log:r,uploaded_files:n,is_loading:!1});case 68:case"end":return e.stop()}}),e,null,[[5,23,26,29],[31,60,63,66]])})))),gu(yu(t),"getAttachedImages",function(){var e=pu(lu().mark((function e(n,r){var o,a,i,s,l,c,u,f,p,d;return lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[],a=cu(n),e.prev=2,a.s();case 4:if((i=a.n()).done){e.next=29;break}if(s=i.value,l=void 0,c=null,!r){e.next=15;break}return e.next=11,iu(t.props.course_id,t.props.module_id,"task",t.props.element_learn.id,s);case 11:(l=e.sent.success)&&(c=l.info),e.next=19;break;case 15:return e.next=17,au(t.props.course_id,t.props.module_id,t.props.element_learn.id,s);case 17:(l=e.sent.success)&&(c=l.info);case 19:if(c){e.next=21;break}return e.abrupt("continue",27);case 21:u=null,f=CONFIG.Api.storage.url+"/download/"+c.token,p="file",d=c.name,c.preview?u=CONFIG.Api.storage.url+"/download/"+c.preview:(p="",d.includes(".")&&(p=c.name.split(".").pop()).length>4&&(p="")),o.push({preview_url:u,download_url:f,file_ext:p,file_name:d});case 27:e.next=4;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(2),a.e(e.t0);case 34:return e.prev=34,a.f(),e.finish(34);case 37:return e.abrupt("return",o);case 38:case"end":return e.stop()}}),e,null,[[2,31,34,37]])})));return function(t,n){return e.apply(this,arguments)}}()),gu(yu(t),"textAreaChange",(function(e){var n=t.props.answers;n.message=e,t.props.onAnswer(n)})),gu(yu(t),"addFile",function(){var e=pu(lu().mark((function e(n){var r,o,a,i,s,l,c,u,f,p,d,m;return lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.files,(o=t.state.uploading_files).push(r[0].name),t.setState({uploading_files:o}),a={},"question"!==t.state.message_form_type){e.next=9;break}return e.next=8,v=t.props.course_id,y=t.props.module_id,b="task",g=t.props.element_learn.id,ts.post(CONFIG.Api.noopolis.url+ru+"/course/"+v+"/learn/"+y+"/"+b+"/"+g+"/thread/upload-token",{},{send_auth_token:!0});case 8:a=e.sent.success;case 9:if("solution"!==t.state.message_form_type){e.next=13;break}return e.next=12,ou(t.props.course_id,t.props.module_id,t.props.element_learn.id);case 12:a=e.sent.success;case 13:return i=a.token,(s=new FormData).append("token",i),s.append("file",r[0]),e.prev=17,e.next=20,h=s,ts.post(CONFIG.Api.storage.url+"/upload",h,{headers:{Accept:"application/json;charset=utf-8","Content-Type":"multipart/form-data"}});case 20:if((l=e.sent).success&&t.storeImage(l,o.length-1),l.error){c="",u=cu(l.error);try{for(u.s();!(f=u.n()).done;)p=f.value,c+=p.message+"\n",(d=t.state.uploading_files).splice(d.indexOf(r[0].name),1),t.setState({uploading_files:d,error_message:c})}catch(e){u.e(e)}finally{u.f()}}e.next=31;break;case 25:e.prev=25,e.t0=e.catch(17),"Невозможно загрузить файл, попробуйте уменьшить его размер",(m=t.state.uploading_files).splice(m.indexOf(r[0].name),1),t.setState({uploading_files:m,error_message:"Невозможно загрузить файл, попробуйте уменьшить его размер"});case 31:n.value="";case 32:case"end":return e.stop()}var h,v,y,b,g}),e,null,[[17,25]])})));return function(t){return e.apply(this,arguments)}}()),gu(yu(t),"storeImage",(function(e,n){var r=t.state.uploading_files,o=t.state.uploaded_files,a=t.props.answers;r.splice(n,1),a.attachments.push(e.success.hash),o[e.success.hash]=e.success,t.props.onAnswer(a),t.setState({uploading_files:r,uploaded_files:o})})),gu(yu(t),"sendMessage",pu(lu().mark((function e(){var n;return lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se.isParentMode()){e.next=2;break}return e.abrupt("return");case 2:if(n={message:t.props.answers.message,attachments:t.props.answers.attachments},"question"!==t.state.message_form_type){e.next=6;break}return e.next=6,t.props.sendComment("task",n);case 6:if("solution"!==t.state.message_form_type){e.next=9;break}return e.next=9,t.props.sendAnswer();case 9:t.props.onAnswer({message:"",attachments:[]}),t.setState({message_form_type:null});case 11:case"end":return e.stop()}}),e)})))),gu(yu(t),"deleteImage",(function(e){var n=t.props.answers;n.attachments.splice(e,1),t.props.onAnswer(n)})),gu(yu(t),"openForm",(function(e){Se.isParentMode()||t.setState({message_form_type:e})})),t.state={messages_log:[],log_expanded:!1,message_form_type:null,attached_files:[],uploading_files:[],uploaded_files:[],in_pending:!1,is_loading:!0},t.messages_to_show=3,t.solution_counter=0,t}return t=s,(r=[{key:"componentWillMount",value:function(){this.getMessages()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.element_learn,r=t.current_element_learn_thread;pr()(n,e.element_learn)&&pr()(r,e.current_element_learn_thread)||this.getMessages()}},{key:"render",value:function(){var e=this;if(this.state.is_loading)return o.a.createElement("div",{className:"detailed_answer__content"},o.a.createElement(Ic,{marginCenter:!0}));var t=new ot("detailed_answer"),r=this.state.messages_log.length-this.messages_to_show;(this.props.element_learn.solutionToShow||this.props.is_locked)&&(r=this.state.messages_log.length);var a=new ot("detailed_answer__task_scores");"reviewed"===this.props.element_learn.reviewStatus&&a.appendStatus("graduated"),a.appendStatusIf("reviewed"===this.props.element_learn.reviewStatus,"graduated");var i="",s=o.a.createElement("span",null,"Отправить");"solution"===this.state.message_form_type&&(i="Запишите решение...",s=o.a.createElement("span",null,"Отправить",o.a.createElement("span",{className:"detailed_answer__message_form_submit_review"}," на проверку")),this.props.answers.message&&(i="Решение "+(this.solution_counter+1))),"question"===this.state.message_form_type&&(i="Запишите вопрос...",this.props.answers.message&&(i="Вопрос")),this.props.is_locked&&t.appendStatus("closed");var l="Запишите решение...";"question"===this.state.message_form_type&&(l="Запишите вопрос...");var c=!0;(this.props.answers.message.trim()||this.props.answers.attachments.length>0)&&!Se.isParentMode()&&(c=!1);var u=!0,f=!1;Se.isParentMode()&&(f=!0),this.props.element_learn.isClosed&&(u=!1);var p="решение ";this.solution_counter>0&&!this.props.element_learn.isClosed&&(p+=this.solution_counter+1);var d=new ot("detailed_answer__interaction");d.appendStatusIf(null!==this.state.message_form_type,"opened");var m=0,h=new ot("detailed_answer__send_solution_button");h.appendStatusIf(!this.props.element_content.hasComments,"full-width");var v=new ot("detailed_answer__ask_button");return v.appendStatusIf(this.props.is_locked,"full_width"),o.a.createElement("div",{className:"detailed_answer__content"},this.props.element_learn.solutionToShow&&o.a.createElement("div",{className:"detailed_answer__right_solution"},o.a.createElement("div",{className:"detailed_answer__solution_title"},"Решение"),o.a.createElement("div",{className:"detailed_answer__solution_text"},o.a.createElement(Pl,null,this.props.element_learn.solutionToShow.message))),this.state.messages_log.length>0&&o.a.createElement("div",{className:"detailed_answer__conversation"},(this.state.messages_log.length>this.messages_to_show||this.props.element_learn.solutionToShow||this.props.is_locked)&&!this.state.log_expanded&&o.a.createElement("div",{className:"detailed_answer__messages_expander",onClick:function(){return e.setState({log_expanded:!0})}},r," ",Se.formatPlural(r,["сообщение","сообщения","сообщений"])),this.state.messages_log.map((function(t,n){var r=new ot("detailed_answer_message");if(r.appendStatusIf("solution"===t.type&&!t.comments,"pending"),"solution"===t.type&&t.comments&&(t.score<e.props.element_learn.max&&t.score>0&&(r.appendStatus("graduated"),r.appendStatus("graduated_"+Math.ceil(t.score/(e.props.element_learn.max-1)*20))),0===t.score&&r.appendStatus("graduated_fail"),r.appendStatusIf(t.score===e.props.element_learn.max,"graduated_full")),"solution"===t.type&&m++,n>=e.state.messages_log.length-e.messages_to_show&&!e.props.element_learn.solutionToShow&&!e.props.is_locked||e.state.log_expanded)return o.a.createElement("div",{className:r,key:n},o.a.createElement(tu,{message:t,answer_type:e.props.answer_type,element_learn:e.props.element_learn,course_id:e.props.course_id,module_id:e.props.module_id,solution_counter:m}),t.comments&&t.comments.whoSet&&o.a.createElement("div",{className:"detailed_answer_message__comment"},o.a.createElement(tu,{message:t.comments,answer_type:e.props.answer_type,element_learn:e.props.element_learn,course_id:e.props.course_id,module_id:e.props.module_id,solution_counter:m})))}))),this.state.message_form_type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{className:"detailed_answer__message_form",onSubmit:this.sendMessage},o.a.createElement("div",{className:"detailed_answer__message_form_header"},o.a.createElement("div",{className:"detailed_answer__message_form_title"},i)),o.a.createElement("textarea",{onChange:function(t){return e.textAreaChange(t.target.value)},placeholder:l,value:this.props.answers.message}),this.props.allow_file_upload&&o.a.createElement("div",{className:"detailed_answer__message_form_footer"},o.a.createElement("div",null,this.props.answers.attachments.map((function(t,n){if(e.state.uploaded_files[t]){var r=e.state.uploaded_files[t].info,a=null,i=null;r&&(i=CONFIG.Api.storage.url+"/download/"+r.token);var s="file";if(r&&r.preview)a=CONFIG.Api.storage.url+"/download/"+r.preview;else{s="";var l="";r&&(l=r.name),l.includes(".")&&(s=r.name.split(".").pop()).length>4&&(s="")}var c="";return r&&(c=r.name),o.a.createElement("a",{key:n,className:"detailed_answer__message_image",download:c,href:i,target:"_blank"},a&&o.a.createElement("img",{alt:"",src:a}),!a&&o.a.createElement("div",{className:"detailed_answer__message_file_ext"},"...",s),o.a.createElement("div",{className:"detailed_answer__message_image_close",onClick:function(t){t.preventDefault(),e.deleteImage(n)}}))}})),this.state.uploading_files.map((function(e,t){return o.a.createElement("div",{key:t,className:"detailed_answer__message_image "},o.a.createElement(Ic,{marginCenter:!0}))}))),!!this.state.error_message&&o.a.createElement("div",{className:"detailed_answer__error"},this.state.error_message,o.a.createElement("div",{className:"detailed_answer__error_close",onClick:function(){return e.setState({error_message:null})}})),o.a.createElement("input",{type:"file",className:"detailed_answer__message_form_add_file",onChange:function(t){return e.addFile(t.target)}}),o.a.createElement("span",{className:"detailed_answer__message_form_add_file_label"},o.a.createElement("img",{src:n(1180)}))))),!this.props.element_learn.solutionToShow&&o.a.createElement("div",{className:d},null===this.state.message_form_type&&!this.props.element_learn.isAchieved&&o.a.createElement(o.a.Fragment,null,!this.props.is_locked&&u&&o.a.createElement("button",{className:h,disabled:f,onClick:function(){return e.openForm("solution")}},o.a.createElement("span",{className:"detailed_answer__send_solution_button_send"},"Отправить "),o.a.createElement("span",null,p)),this.props.element_content.hasComments&&"opened"===this.props.current_element_learn_thread.status&&o.a.createElement("button",{className:v,disabled:Se.isParentMode(),onClick:function(){return e.openForm("question")}},o.a.createElement("img",{src:n(1181)}),o.a.createElement("span",null," Задать вопрос"))),null===this.state.message_form_type&&this.props.element_learn.isAchieved&&"opened"===this.props.current_element_learn_thread.status&&o.a.createElement("button",{className:"detailed_answer__messages_expander",disabled:Se.isParentMode(),onClick:function(){return e.setState({message_form_type:"question"})}},"Задать вопрос"),this.state.message_form_type&&o.a.createElement("div",{className:"detailed_answer__message_form_actions"},o.a.createElement("button",{className:"detailed_answer__message_form_cancel",onClick:function(){e.setState({message_form_type:null}),e.props.onAnswer({message:"",attachments:[]})}},"Отмена"),o.a.createElement("button",{className:"detailed_answer__message_form_submit",onClick:this.sendMessage,disabled:c},s))))}}])&&du(t.prototype,r),a&&du(t,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);gu(wu,"defaultProps",{current_element_learn_thread:null,allow_file_upload:!0,answers:{message:"",attachments:[]},onAnswer:function(){},element_learn:{solution:{}}});var _u=n(294),Eu=n(295),Ou=n.n(Eu),ku=n(610),Su=n.n(ku);n(1248);function Cu(e){return function(e){if(Array.isArray(e))return Iu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||Nu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xu(e){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Nu(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Nu(e,t){if(e){if("string"==typeof e)return Iu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iu(e,t):void 0}}function Iu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lu(e,t){return(Lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ru(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mu(e);if(t){var o=Mu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fu(this,n)}}function Fu(e,t){if(t&&("object"===xu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Du(e)}function Du(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mu(e){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lu(e,t)}(s,e);var t,n,r,a=Ru(s);function s(){var e;Au(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Uu(Du(e=a.call.apply(a,[this].concat(n))),"state",{selectedElement:null,disabledColumn:null,removeCandidate:null}),Uu(Du(e),"resizeObserver",new _u.a(e.updateCurvePositions.bind(Du(e)))),Uu(Du(e),"getAnswerHasError",(function(){var t=e.props,n=t.userAnswer,r=t.answersData;if(!r.partialAnswer){if(n&&0===n.length)return!1;var o,a=Pu(r.answers);try{var i=function(){var e=o.value;if(null!==n&&!n.find((function(t){return t.includes(e.id)})))return{v:!0}};for(a.s();!(o=a.n()).done;){var s=i();if("object"===xu(s))return s.v}}catch(e){a.e(e)}finally{a.f()}}return!1})),Uu(Du(e),"updateCurvesInterval",null),Uu(Du(e),"updateCurvesStopTimeout",null),Uu(Du(e),"getCurveColor",Su()((function(e,t){var n=+Ou()();return s.CURVE_COLORS[n%s.CURVE_COLORS.length]}))),Uu(Du(e),"connect",(function(t,n){var r=e.state,o=r.removeCandidate,a=r.disabledColumn,i=r.selectedElement,s=e.props,l=s.answersData,c=s.userAnswer,u=s.onAnswer;if(e.isConnectable(t))if(o)e.setState({removeCandidate:null},e.startCurvesAnimation);else if(null!==i){if(i!==t){if(a!==n)if(!(e.findSolution(i,t)>=0)){var f=Re()(c||[]);f.push([i,t]),f.sort(),u(f),e.setState({selectedElement:null},e.startCurvesAnimation)}}else e.setState({selectedElement:null,disabledColumn:null})}else{var p,d=!1,m=n?0:1,h=Pu(l.columns[m].elements);try{for(h.s();!(p=h.n()).done;){var v=p.value;if(-1===e.findSolution(v,t)){d=!0;break}}}catch(e){h.e(e)}finally{h.f()}d&&e.setState({selectedElement:t,disabledColumn:n})}})),Uu(Du(e),"removeFromSolution",(function(t,n){var r=Re()(e.props.userAnswer||[]),o=e.findSolution(t,n);if(-1===o)throw Error("Solution wasn't found");r.splice(o,1),0===r.length&&(r=null),e.props.onAnswer(r),e.setState({removeCandidate:null})})),Uu(Du(e),"startCurvesAnimation",(function(){e.updateCurvesInterval?clearInterval(e.updateCurvesStopTimeout):e.updateCurvesInterval=setInterval((function(){return e.updateCurvePositions()}),30)})),Uu(Du(e),"stopCurvesAnimation",(function(){clearInterval(e.updateCurvesInterval),clearInterval(e.updateCurvesStopTimeout),e.updateCurvesInterval=null})),Uu(Du(e),"sortElementsWithCombineSort",(function(t){var n=e.props,r=n.ignoreSettings,o=n.answersData;!r&&o.reorderSolution&&(t[1].elements.sort((function(n,r){var o=e.getAllSolutionsForIndex(n),a=e.getAllSolutionsForIndex(r);if(!o[0]&&!a[0])return 0;if(!o[0])return 1;if(!a[0])return-1;var i=o[0][0]===n?o[0][1]:o[0][0],s=a[0][0]===r?a[0][1]:a[0][0];return t[0].elements.indexOf(i)-t[0].elements.indexOf(s)})),t[0].elements.sort((function(n,r){var o=e.getAllSolutionsForIndex(n),a=e.getAllSolutionsForIndex(r);if(!o[0]&&!a[0])return 0;if(!o[0])return 1;if(!a[0])return-1;var i=o[0][0]===n?o[0][1]:o[0][0],s=a[0][0]===r?a[0][1]:a[0][0];return t[1].elements.indexOf(i)-t[1].elements.indexOf(s)})))})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=i.a.findDOMNode(this);this.resizeObserver.observe(e),this.updateCurvePositions()}},{key:"componentDidUpdate",value:function(){this.updateCurvePositions()}},{key:"componentWillUnmount",value:function(){var e=i.a.findDOMNode(this);this.resizeObserver.unobserve(e),this.stopCurvesAnimation()}},{key:"getIsAnswerFilled",value:function(){var e=this.props,t=e.userAnswer,n=e.answersData;if(n.partialAnswer)return(t||[]).length>0;var r,o=Pu(n.answers);try{var a=function(){var e=r.value;if(!(t||[]).find((function(t){return t.includes(e.id)})))return{v:!1}};for(o.s();!(r=o.n()).done;){var i=a();if("object"===xu(i))return i.v}}catch(e){o.e(e)}finally{o.f()}return!0}},{key:"updateCurvePositions",value:function(){var e,t=i.a.findDOMNode(this),n=Pu(t.querySelectorAll(".match_answers__line"));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.getAttribute("data-from"),a=r.getAttribute("data-to"),s=t.querySelector('.match_answers__target[data-id="'.concat(o,'"][data-from="').concat(o,'"][data-to="').concat(a,'"]')),l=t.querySelector('.match_answers__target[data-id="'.concat(a,'"][data-from="').concat(o,'"][data-to="').concat(a,'"]'));if(!s.offsetParent||!l.offsetParent)return;var c=s.offsetLeft+s.offsetParent.offsetLeft+12,u=s.offsetTop+s.offsetParent.offsetTop+12,f=l.offsetLeft+l.offsetParent.offsetLeft+12,p=l.offsetTop+l.offsetParent.offsetTop+12,d=c<f?30:-30,m="M ".concat(c," ").concat(u," C ").concat(c+d," ").concat(u,",  ").concat(f-d," ").concat(p,",  ").concat(f," ").concat(p);r.setAttribute("d",m)}}catch(e){n.e(e)}finally{n.f()}}},{key:"isConnectable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props,r=n.readOnly,o=n.answersData;if(r)return!1;var a,i=null,s=null,l=Pu(o.columns.entries());try{for(l.s();!(a=l.n()).done;){var c=ju(a.value,2),u=c[0],f=c[1];f.elements.includes(e)?i=u:null===t&&(s=u),null!==t&&f.elements.includes(t)&&(s=u)}}catch(e){l.e(e)}finally{l.f()}if(null===i||null===s)throw Error("element was not found in columns");if(i===s)return!1;if(!o.columns[i].multiplicity){var p=this.getAllSolutionsForIndex(e);if(p.length>0)return!1}if(null==t){var d,m=!1,h=Pu(o.columns[s].elements);try{for(h.s();!(d=h.n()).done;){var v=d.value,y=this.findSolution(e,v);if(o.columns[s].multiplicity)-1===y&&(m=!0);else{var b=this.getAllSolutionsForIndex(v);0===b.length&&(m=!0)}}}catch(e){h.e(e)}finally{h.f()}return m}if(!o.columns[s].multiplicity){var g=this.getAllSolutionsForIndex(t);if(g.length>0)return!1}var w=this.findSolution(e,t);return-1===w}},{key:"findSolution",value:function(e,t){return(this.props.userAnswer||[]).findIndex((function(n){return n[0]===e&&n[1]===t||n[1]===e&&n[0]===t}))}},{key:"targetClick",value:function(e,t,n,r){var o=this.props.readOnly,a=this.state.removeCandidate;if(e.stopPropagation(),!o)if(this.setState({selectedElement:null,disabledColumn:null}),a&&a!==t)this.setState({removeCandidate:null},this.startCurvesAnimation);else{var i=this.getAllSolutionsForIndex(t);if(!i.length)throw Error("Solution wasn't found");if(1===i.length)return this.removeFromSolution(i[0][0],i[0][1]),void this.setState({removeCandidate:null},this.startCurvesAnimation);null!==a?(this.setState({removeCandidate:null},this.startCurvesAnimation),this.removeFromSolution(n,r)):this.setState({removeCandidate:t},this.startCurvesAnimation)}}},{key:"getAllSolutionsForIndex",value:function(e){var t=(this.props.userAnswer||[]).reduce((function(t,n){return n.includes(e)&&t.push(n),t}),[]);return t.sort((function(t,n){var r=t[0]===e?t[1]:t[0];return(n[0]===e?n[1]:n[0])-r})),t}},{key:"getExpandedSolutionsVerticalOffset",value:function(e){var t=this.props.answersData,n=t.columns[e].elements.indexOf(this.state.removeCandidate),r=t.columns[e].elements.length;if(-1===n)throw Error("Element was not found");var o=this.getAllSolutionsForIndex(this.state.removeCandidate);n++;var a=s.EL_FIELD_HEIGHT,i=s.EL_TARGET_RADIUS,l=-(n*a-a/2),c=n*a*(r-n)-a/2+a,u=o.length*i;return-u<l?l+u:u>c?-(u-c):0}},{key:"render",value:function(){var e=this,t=this.state,n=t.removeCandidate,r=t.selectedElement,a=this.props,i=a.answersData,l=a.isSmt,c=a.renderFieldsAs,u=a.readOnly,f=a.fieldsAddClass,p=Cu(this.props.userAnswer||[]);n&&(p=p.sort((function(e){return e.includes(n)?1:-1})));var d=new ot("match_answers");return d.appendStatusIf(u,"read-only"),o.a.createElement("div",{className:d.toString()},o.a.createElement("svg",{className:"match_answers__lines"},p.map((function(t){var r=new ot("match_answers__line");return n&&r.appendStatusIf(!t.includes(n),"faded"),o.a.createElement("path",{key:"".concat(t[0],"_").concat(t[1]),strokeWidth:4,"data-from":t[0],"data-to":t[1],className:r.toString(),stroke:e.getCurveColor(t[0],t[1]),fill:"transparent"})}))),o.a.createElement("div",null,i.columns.map((function(t,a){return e.sortElementsWithCombineSort(i.columns),o.a.createElement("div",{key:a,className:"match_answers__fields","data-column_index":a},t.elements.map((function(u){var p=i.answers.find((function(e){return e.id===u})),d=new ot("match_answers__field");d.appendStatusIf(r===u,"selected"),d.appendAdditionalClasses(f),r&&(t.elements.includes(r)||d.appendStatusIf(e.isConnectable(r,u),"clickable")),null===r&&d.appendStatusIf(e.isConnectable(u),"clickable");var m=e.getAllSolutionsForIndex(u),h=0;n===u&&(h=e.getExpandedSolutionsVerticalOffset(a));var v=c,y="";l?l&&(y=CONFIG.Api.smtWebPortal?"".concat(CONFIG.Api.smtWebPortal.url,"/content/_image/"):"".concat(CONFIG.Api.webPortal.url,"/content/_image/")):y="".concat(CONFIG.Api.noopolis.url,"/content/_image/");var b=p.value;return p.image&&(b=o.a.createElement("img",{src:y+p.image,onLoad:e.updateCurvePositions.bind(e)})),o.a.createElement("div",{className:d.toString(),"data-column_index":a,onClick:function(){return e.connect(u,a)},key:u},o.a.createElement("div",{className:"match_answers__text"},o.a.createElement(v,{element_id:u,column_index:a},b)),o.a.createElement("div",{className:"match_answers__targets"},m.map((function(t,n){n++;var r=e.findSolution(t[0],t[1]),i=new ot("match_answers__target"),l={background:e.getCurveColor(t[0],t[1])};if(i.appendStatusIf(e.state.removeCandidate===u,"expanded"),null!==e.state.removeCandidate&&i.appendStatusIf(!t.includes(e.state.removeCandidate),"faded"),e.state.removeCandidate===u){var c=2*s.EL_TARGET_RADIUS;l.marginTop=h-c*n+c*m.length/2}return o.a.createElement("div",{className:i.toString(),"data-id":u,"data-from":t[0],"data-to":t[1],"data-column_index":a,key:r,style:l,onClick:function(n){return e.targetClick(n,u,t[0],t[1])},onTransitionEnd:e.stopCurvesAnimation})})),0===m.length&&e.state.selectedElement===u&&o.a.createElement("div",{className:"match_answers__target match_answers__target--single","data-id":u})))})))}))))}}])&&Tu(t.prototype,n),r&&Tu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);Uu(Gu,"EL_TARGET_RADIUS",17),Uu(Gu,"EL_FIELD_HEIGHT",96),Uu(Gu,"CURVE_COLORS",["#C629C9","#FF299D","#7B29C9","#7949FF","#00D7E4","#00C087","#00A210","#5FD900","#CADC00","#EEC600","#FF9900","#FF5C00","#477BFF","#47BDFF"]),Uu(Gu,"defaultProps",{ignoreSettings:!1,readOnly:!1,answersData:{},renderFieldsAs:Pl,userAnswer:[],fieldsAddClass:null,onAnswer:function(){}});var Bu=n(198),Vu=n.n(Bu),Hu=n(229),Wu=n.n(Hu),Yu=(n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(1380)),zu=n(1386),qu=n(29);function Zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ku,Ju,Qu,Xu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getSolutionTextByVerdict",value:function(e){var t={notReady:"Отправлено на проверку"};return t[e]?t[e]:null}}],(n=null)&&Zu(t.prototype,n),r&&Zu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.onReview="onReview",e.reviewed="reviewed",e.read="read"}(Ju||(Ju={})),function(e){e.OK="ok",e.WRONG="wrong",e.PARTLY="partly",e.NOTREADY="notReady",e.ANNULLED="annulled",e.UNSCORED="unscored",e.NONEUNSCORED="noneUnscored",e.NONE="none"}(Qu||(Qu={}));var ef,tf,nf,rf,of=($u(Ku={},Qu.NOTREADY,8),$u(Ku,Qu.ANNULLED,7),$u(Ku,Qu.UNSCORED,6),$u(Ku,Qu.OK,5),$u(Ku,Qu.PARTLY,4),$u(Ku,Qu.WRONG,3),$u(Ku,Qu.NONEUNSCORED,2),$u(Ku,Qu.NONE,1),Ku),af=(n(1249),new Kl.a("programming-answer-examples")),sf=function(e){var t=e.examples;return o.a.createElement(A.q,{className:"".concat(af)},o.a.createElement("h3",{className:af.el("title")},"Примеры"),o.a.createElement("div",{className:af.el("header")},o.a.createElement("div",{className:af.el("header").mod("title")},"Ввод"),o.a.createElement("div",{className:af.el("header").mod("title")},"Вывод")),t.map((function(e,t){return o.a.createElement("div",{className:af.el("row"),key:t},o.a.createElement("div",{className:af.el("row-part")},o.a.createElement("div",{className:af.el("row")+af.mod("content")},e.input)),o.a.createElement("div",{className:af.el("row-part")},o.a.createElement("div",{className:af.el("row")+af.mod("content")},e.output)))})))},lf=(n(1250),new Kl.a("programming-answer-limits")),cf=function(e){var t=e.limits;return o.a.createElement("div",{className:"".concat(lf)},o.a.createElement("h4",{className:lf.el("title")},"Ограничения"),!!t.realTime&&o.a.createElement("div",null,"Время выполнения:"," ".concat(t.realTime," "),Se.formatPlural(t.realTime,["секунда","секунды","секунд"])),!!t.time&&o.a.createElement("div",null,"Процессорное время:"," ".concat(t.time," "),Se.formatPlural(t.time,["секунда","секунды","секунд"])),!!t.maxMem&&o.a.createElement("div",null,"Память:"," ".concat(t.maxMem," MB")),!!t.stackMem&&o.a.createElement("div",null,"Размер стека:"," ".concat(t.stackMem," MB")),!!t.compilationTime&&o.a.createElement("div",null,"Время на компиляцию:"," ".concat(t.compilationTime," "),Se.formatPlural(t.compilationTime,["секунда","секунды","секунд"])),!!t.charactersCount&&o.a.createElement("div",null,"Количество символов в исходном коде программы:"," ".concat(t.charactersCount)))},uf=n(39);function ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ff(Object(n),!0).forEach((function(t){df(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function df(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mf,hf,vf=CONFIG.Version?"/".concat(CONFIG.Version):"",yf=null!==(ef=CONFIG.Api)&&void 0!==ef&&null!==(tf=ef.cheopsLaboratory)&&void 0!==tf&&tf.url?"".concat(null===(nf=CONFIG.Api)||void 0===nf||null===(rf=nf.cheopsLaboratory)||void 0===rf?void 0:rf.url).concat(vf):"",bf={send_auth_token:!0};!function(e){e.D="day",e.W="week",e.M="month"}(mf||(mf={})),function(e){e.USERS="users",e.CONTESTS="contests",e.COURSE="course"}(hf||(hf={}));var gf;!function(e){e.course="course",e.quiz="quiz"}(gf||(gf={}));var wf;!function(e){e.notStarted="notStarted",e.inProgress="inProgress",e.finished="finished"}(wf||(wf={}));var _f=function(e){var t=e.courseId,n=e.moduleId,r=e.taskVersionId,o=e.submissionId,a=e.userId;return ts.get("".concat(yf,"/course/").concat(t,"/module/").concat(n,"/task/").concat(r,"/user/").concat(a,"/submission/").concat(o,"/test-report"),{},pf({},bf))},Ef=n(299);n(1253);function Of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Of(Object(n),!0).forEach((function(t){Sf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Of(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cf,jf=function(e){var t=e.summary,n=e.elementId,r=e.submissionId,a=e.extEnvironments,i=void 0===a?{}:a,s=i.courseId,l=i.moduleId,c=i.taskVersionId,u=i.userId,f=Object(uf.d)(),p=f.course_id,d=void 0===p?s:p,m=f.module_id,h=void 0===m?l:m,v=f.element_id,y={courseId:d,moduleId:h,taskVersionId:void 0===v?null!=n?n:c:v,submissionId:r,userId:u},b={noo:ms,lab:_f},g=function(e){return new Promise((function(t,n){var r=e.success;r&&function(e){var t=e.columns,n=e.rows;return!!t&&!!n}(r)?t(r):n(e)}))},w=function(){return b[Pf](y).then(g)},_=function(e){return new Promise((function(t,n){var r=e.success;r?t(r):n(e)}))},E="lab"===Pf?function(e){return function(e){var t=e.courseId,n=e.moduleId,r=e.taskVersionId,o=e.submissionId,a=e.userId,i=e.testNo;return ts.get("".concat(yf,"/course/").concat(t,"/module/").concat(n,"/task/").concat(r,"/user/").concat(a,"/submission/").concat(o,"/test-report/protocol/").concat(i),{},pf({},bf))}(kf(kf({},y),{},{testNo:e})).then(_)}:void 0;return o.a.createElement(A.q,{className:xf.el("verdicts-review")},t&&w&&o.a.createElement(Ef.c,{summary:t,TestsReportCb:w,TestDetailReportCb:E}))},xf=new Kl.a("programming-answer"),Pf="CONFIG"in window&&null!==(Cf=CONFIG)&&void 0!==Cf&&Cf.Instance?CONFIG.Instance.toLowerCase():"unknown",Nf=n(616);n(1254);function If(e){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Af(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lf(e,t){return(Lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Rf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Df(e);if(t){var o=Df(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ff(this,n)}}function Ff(e,t){if(t&&("object"===If(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Df(e){return(Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lf(e,t)}(i,e);var t,n,r,a=Rf(i);function i(){return Af(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.leftButtonText,n=e.rightButtonText;return o.a.createElement("div",{className:"message_popup"},o.a.createElement("div",null,this.props.children,o.a.createElement("div",{className:"message_popup__buttons"},t&&o.a.createElement("button",{onClick:this.props.onLeftClick},this.props.leftButtonText),n&&o.a.createElement("button",{onClick:this.props.onRightClick},this.props.rightButtonText))))}}])&&Tf(t.prototype,n),r&&Tf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Mf,"defaultProps",{leftButtonText:null,rightButtonText:null,onLeftClick:function(){},onRightClick:function(){}});n(1255);function Uf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bf,Vf,Hf=new Kl.a("code-uploader"),Wf={readAs:"Text",multiple:!1,accept:".js, .cpp, .css, .java, .md, .hs, .py, .c, .pas, .cs, .go, .rs, .php, .kum",maxFileSize:nu.d},Yf=function(e){var t=e.fillFromFile,n=Uf(Object(Nf.a)(Wf),2),a=n[0],i=n[1],s=i.filesContent,l=i.errors,c=i.clear,u=Uf(Object(r.useState)(!1),2),f=u[0],p=u[1];return Object(r.useEffect)((function(){s.length>0&&t(s[0].content)}),[s]),Object(r.useEffect)((function(){l[0]&&l[0].fileSizeToolarge&&p(!0)}),[l]),o.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},o.a.createElement("button",{type:"button",className:"".concat(Hf),onClick:function(){return a()}},o.a.createElement(nl,{k:"programming.codeeditor.filebtn"}),o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M5 5C5 5.55 5.45 6 6 6H18C18.55 6 19 5.55 19 5C19 4.45 18.55 4 18 4H6C5.45 4 5 4.45 5 5ZM7.41 14H9V19C9 19.55 9.45 20 10 20H14C14.55 20 15 19.55 15 19V14H16.59C17.48 14 17.93 12.92 17.3 12.29L12.71 7.7C12.32 7.31 11.69 7.31 11.3 7.7L6.71 12.29C6.08 12.92 6.52 14 7.41 14Z",fill:"#8C8695"}))),f&&o.a.createElement(Mf,{rightButtonText:"Хорошо",onRightClick:function(){p(!1),c()}},o.a.createElement("h2",null,"Файл слишком большой"),"Максимальный размер — ".concat(Se.getHumanReadableSize(nu.d))))};!function(e){e.javascript="js",e.cpp="cpp",e.css="css",e.java="java",e.markup="md",e.haskell="hs",e.python="py",e.python3="py",e.kotlin="kt",e.pascal="pas",e.csharp="cs",e.go="go",e.php="php",e.rust="rs",e.kumir="kum",e["cpp-no-optimization"]="cpp"}(Bf||(Bf={})),function(e){e[e.none=1]="none",e[e.noneUnscored=2]="noneUnscored",e[e.wrong=3]="wrong",e[e.partly=4]="partly",e[e.ok=5]="ok",e[e.unscored=6]="unscored",e[e.annulled=7]="annulled",e[e.notReady=8]="notReady"}(Vf||(Vf={}));n(1256),n(1257);function zf(e){return(zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qf(e){return function(e){if(Array.isArray(e))return Jf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||Kf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kf(e,t){if(e){if("string"==typeof e)return Jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jf(e,t):void 0}}function Jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(n),!0).forEach((function(t){ip(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tp(e,t){return(tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function np(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ap(e);if(t){var o=ap(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rp(this,n)}}function rp(e,t){if(t&&("object"===zf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return op(e)}function op(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ap(e){return(ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ip(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sp,lp,cp,up,fp,pp,dp,mp=new Kl.a("programming-answer-solution"),hp=new Kl.a("programming-answer"),vp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tp(e,t)}(s,e);var t,r,a,i=np(s);function s(){var e;$f(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return ip(op(e=i.call.apply(i,[this].concat(r))),"state",{fileDraggedCounter:0,allAnswersExpanded:!1,expandedAnswers:[],editorIsFocused:!1,fileIsUploading:!1,oversizePopupVisible:!1,editorCodeExportPage:{code:"",language:""}}),ip(op(e),"editorRef",o.a.createRef()),ip(op(e),"solutionsToShowCount",1),ip(op(e),"getIsAnswerFilled",(function(){return!0})),ip(op(e),"getAnswerHasError",(function(){return!1})),ip(op(e),"fillFromFile",(function(t){e.setUserAnswer(t)})),ip(op(e),"focusEditor",(function(){var t,n,r=null===(t=e.editorRef)||void 0===t||null===(n=t.current)||void 0===n?void 0:n._input;r&&r.focus()})),ip(op(e),"highlightCode",(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.getUserAnswerLanguage(),a=Object(qu.b)(Wu.a.languages),i=Wu.a.highlight(t,a[o],o);if(n){var s=r?i.split("\n").slice(0,999):i.split("\n");i=s.map((function(e,t){return'<span class="'.concat(hp.el("editor-line-number"),'">').concat(e+(998===t&&r?"\n...":""),"</span>")})).join("\n")}return i})),ip(op(e),"getUserAnswerLanguage",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.props,r=n.userAnswer,o=n.elementContent,a=r.language;return a||(a=o.answersData.languages[0]),t||"python3"===a&&(a="python"),a})),ip(op(e),"setUserAnswer",(function(t){var n=e.props.onAnswer,r=Xf({},e.props.userAnswer);r.language=e.getUserAnswerLanguage(!0),r.code=t,n(r)})),ip(op(e),"setUserAnswerLanguage",(function(t){var n=e.props.onAnswer,r=Xf({},e.props.userAnswer);r.language=t,r.code="";var o=e.getTemplate(t);o&&(r.code=o),n(r)})),ip(op(e),"setAnswerFromLastSolution",(function(){var t=e.props;(0,t.onAnswer)(t.elementLearn.solution.answers[0].answer.solution)})),ip(op(e),"editLastSolution",(function(){var t=e.props.openAnswerForm;e.setAnswerFromLastSolution(),t()})),ip(op(e),"renderSolution",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=new Date(t.time),i=e.props,s=i.elementLearn,l=i.formVisible,c=i.isSolutionToShow,u=i.forceShowRight,f=t.answer.solution,p=f.code,d=f.language,m=e.state,h=m.allAnswersExpanded,v=m.expandedAnswers;h||(r=s.solution.answers.length-e.solutionsToShowCount);var y=!1;if(s.solution.answers.length!==r+1||t.verdict===nu.a.NOTREADY||s.isClosed&&!s.extraSolutions||e.props.solutionIsNotEditable||(y=!0),y&&l)return null;c&&u&&(t.verdict=nu.a.OK);var b=v.includes(r)||s.solution.answers.length===r+1,g="code.".concat(Bf[d]),w=t.verdict!==nu.a.NOTREADY,_=null;if(t.review){var E=t.review.message.split("\n"),O=null!=t&&t.summary?null:t.submission;_={message:E[0],errors:E.slice(1),submission:O}}var k=null;y&&(k=e.editLastSolution);var S=null;b||(S=function(){return e.expandSolution(r)});var C=Object(qu.a)(d),j=e.getSourceHeader(d),x=e.getSourceFooter(d);e.props.solutionIndex&&(r=e.props.solutionIndex);var P=s.score||s.max;return o.a.createElement("div",{className:mp+mp.mod("verdict-".concat(t.verdict))+mp.bod("editable",y)+mp.bod("collapsed",!b),key:r},!c&&o.a.createElement("div",{className:mp.el("title"),onClick:S},"Решение ".concat(r+1,". ").concat(C," "),!isNaN(a.getDate())&&o.a.createElement("span",{className:mp.el("title-time")},a.toLocaleString("ru",{hour:"2-digit",minute:"2-digit"})),t.verdict===nu.a.NOTREADY&&o.a.createElement("span",{className:mp.el("verdict")},Xu.getSolutionTextByVerdict(t.verdict)),o.a.createElement("span",{className:mp.el("check")+mp.el("check").bod("double",w)}),t.verdict!==nu.a.NOTREADY&&Number.isFinite(t.score)&&Number.isFinite(P)&&o.a.createElement("span",{className:mp.el("score")},"".concat(t.score," из ").concat(P))),c&&o.a.createElement("div",{className:mp.el("title")},C),b&&o.a.createElement("div",{className:mp.el("editor-wrapper")+mp.el("tests-report")},!!j&&o.a.createElement("pre",{className:mp.el("code-header"),dangerouslySetInnerHTML:{__html:e.highlightCode(j,!1)}}),o.a.createElement(Vu.a,{onClick:k,readOnly:!0,textareaClassName:hp.el("editor-textarea"),className:hp.el("editor")+hp.el("editor").mod("solution"),value:p,highlight:function(t){return e.highlightCode(t,!0,!0)},onValueChange:null,paddingLeft:56}),!!x&&o.a.createElement("pre",{className:mp.el("code-footer"),dangerouslySetInnerHTML:{__html:e.highlightCode(x,!1)}}),!c&&o.a.createElement("span",{className:mp.el("footer")},o.a.createElement("img",{onClick:function(){return Se.copyToClipboard(p)},src:n(1258),alt:"Скопировать"}),o.a.createElement("img",{onClick:function(){return Se.downloadFile(g,p)},src:n(1259),alt:"Скачать файл"}),_&&o.a.createElement("div",{className:mp.el("error")},_.message,_.errors.map((function(e,t){return o.a.createElement("div",{className:mp.el("errors"),key:t},e)}))),_&&_.submission&&o.a.createElement("div",{className:mp.el("error-description")},o.a.createElement("div",null,"Подробная информация"),o.a.createElement("div",null,_.submission.headline),o.a.createElement("pre",null,_.submission.message)),t&&t.summary&&o.a.createElement(jf,{summary:t.summary,elementId:s.id,submissionId:t.submissionId,extEnvironments:t.extEnvironments}))))})),ip(op(e),"expandAllSolutions",(function(){e.setState({allAnswersExpanded:!0})})),ip(op(e),"onSelectChange",(function(t){e.props.onSelectProgrammingLanguage&&e.props.onSelectProgrammingLanguage(t.target.value),e.setUserAnswerLanguage(t.target.value)})),ip(op(e),"onChangeSolutionLanguage",(function(t){e.props.elementLearn.solution.answers.forEach((function(n){n.answer.solution.language===t.target.value&&e.setState({editorCodeExportPage:{language:t.target.value,code:n.answer.solution.code}})}))})),e}return t=s,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.userAnswer;if(!e.elementLearn.isClosed){var n=t.code;n||(n=this.getTemplate(this.getUserAnswerLanguage(!0))),this.setUserAnswer(n)}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.formVisible;t.isSolutionToShow||e.formVisible===n||(!1===n?this.setUserAnswer(""):this.setAnswerFromLastSolution())}},{key:"expandSolution",value:function(e){var t=this.state.expandedAnswers;t.push(e),this.setState({expandedAnswers:t})}},{key:"getTemplate",value:function(e){var t=this.props.elementContent.answersData.templates;if(t){var n=t.find((function(t){return t.language===e}));if(n)return n.code}return""}},{key:"getSourceHeader",value:function(e){var t=this.props.elementContent;if(t.answersData.sourceHeader){var n=t.answersData.sourceHeader.find((function(t){return t.language===e}));if(n)return n.code}return null}},{key:"getSourceFooter",value:function(e){var t=this.props.elementContent;if(t.answersData.sourceFooter){var n=t.answersData.sourceFooter.find((function(t){return t.language===e}));if(n)return n.code}return null}},{key:"getBestVerdictAndBestScore",value:function(e){var t,n=-1,r=0,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Kf(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.score>r&&(r=a.score),Vf[a.verdict]>n&&(n=Vf[a.verdict])}}catch(e){o.e(e)}finally{o.f()}var i=nu.a.NONE;if(-1!==n){var s=Object.entries(of).find((function(e){return Zf(e,2)[1]===n}));i=Zf(s,1)[0]}return[i,r]}},{key:"render",value:function(){var e=this,t=this.solutionsToShowCount,n=this.props,r=n.userAnswer,a=n.elementLearn,i=n.elementContent,s=n.forceShowRight,l=n.isSolutionToShow,c=n.hideExpandSolutionPanel,u=n.exportPageMode,f=n.readOnly,p=this.props.formVisible,d=this.state.fileDraggedCounter,m=this.state,h=m.allAnswersExpanded,v=m.editorIsFocused,y=m.fileIsUploading,b=m.editorCodeExportPage,g=this.getUserAnswerLanguage(!0),w=this.getSourceHeader(g),_=this.getSourceFooter(g),E=qf(a.solution.answers),O="",k=0;if(!h){p&&(t=0);var S=Zf(this.getBestVerdictAndBestScore(E.slice(t)),2);O=S[0],k=S[1],E=E.slice(0,t)}if(E.reverse(),0===a.solution.answers.length&&(p=!0),s){var C=a.solution.solutionToShow.programming;return this.renderSolution({answer:{solution:C}})}var j,x,P=b.code||E[0]&&E[0].answer.solution.code||null,N=b.language||E[0]&&E[0].answer.solution.language||null,I=!!this.props.elementContent.answersData.examples,A=!!this.props.elementContent.answersData.limits,T=u&&(l||w||_),L=!h&&!l&&a.solution.answers.length>t&&!c;return o.a.createElement("div",{className:"".concat(hp+hp.bod("file-hover",d>0))},L&&o.a.createElement("div",{className:hp.el("expand-button")+hp.el("expand-button").mod("verdict-".concat(O)),onClick:this.expandAllSolutions},"".concat(a.solution.answers.length-t," "),Se.formatPlural(a.solution.answers.length-t,["решение","решения","решений"]),o.a.createElement("span",{className:mp.el("score")},(j=k,x=Math.max(0,parseInt("".concat(a.max||0),10),parseInt("".concat(a.score||0),10)),"".concat(j," из ").concat(x)))),u?o.a.createElement(o.a.Fragment,null,I&&o.a.createElement(sf,{examples:this.props.elementContent.answersData.examples}),A&&o.a.createElement(cf,{limits:this.props.elementContent.answersData.limits})):E.map(this.renderSolution),p&&o.a.createElement("div",{className:hp.el("field-wrapper")+hp.bod("focused",v)+hp.bod("file-uploading",y)+hp.bod("has-parts",!!w||!!_),onDragEnter:function(){return e.setState({fileDraggedCounter:++d})},onDragLeave:function(){return e.setState({fileDraggedCounter:--d})},onDrop:function(){return e.setState({fileDraggedCounter:0})},onClick:this.focusEditor},y&&o.a.createElement(Ic,{centerOfWindow:!0}),v?o.a.createElement("div",{className:hp.el("title")},"Решение ".concat(a.solution.answers.length+1)):o.a.createElement("div",{className:hp.el("title")},"Код"),i.answersData.languages.length>1?o.a.createElement(Yu.a,{className:"".concat(hp.el("lang-select")),value:this.getUserAnswerLanguage(!0),onChange:this.onSelectChange,onClick:function(e){return e.stopPropagation()}},i.answersData.languages.map((function(e){return o.a.createElement(zu.a,{value:e,key:e},Object(qu.a)(e))}))):o.a.createElement("div",{className:"".concat(hp.el("lang-select"))},Object(qu.a)(this.getUserAnswerLanguage(!0))),!!w&&o.a.createElement("pre",{className:hp.el("editor-header"),dangerouslySetInnerHTML:{__html:this.highlightCode(w,!1)}}),o.a.createElement("div",{className:hp.el("editor-wrapper")},o.a.createElement(Vu.a,{autoFocus:a.solution.answers.length>0,textareaClassName:"".concat(hp.el("editor-textarea")),className:hp.el("editor")+hp.el("editor").mod("solution"),ref:this.editorRef,value:r.code,onValueChange:this.setUserAnswer,highlight:this.highlightCode,onFocus:function(){return e.setState({editorIsFocused:!0})},onBlur:function(){return e.setState({editorIsFocused:!1})},paddingLeft:56,disabled:f})),!!_&&o.a.createElement("pre",{className:hp.el("editor-footer"),dangerouslySetInnerHTML:{__html:this.highlightCode(_,!1)}}),!f&&o.a.createElement(Yf,{fillFromFile:this.fillFromFile})),T&&o.a.createElement("div",{className:hp.el("field-wrapper")},E.length>1?o.a.createElement(Yu.a,{className:"".concat(hp.el("lang-select")),value:N,onChange:this.onChangeSolutionLanguage,onClick:function(e){return e.stopPropagation()}},E.map((function(e){return o.a.createElement(zu.a,{value:e.answer.solution.language,key:e.answer.solution.language},Object(qu.a)(e.answer.solution.language))}))):o.a.createElement("div",{className:"".concat(hp.el("lang-select"))},Object(qu.a)(N)),o.a.createElement("div",{className:hp.el("title")},"Код"),!!w&&o.a.createElement("pre",{className:hp.el("editor-header"),dangerouslySetInnerHTML:{__html:this.highlightCode(w,!1)}}),o.a.createElement("div",{className:hp.el("editor-wrapper")+hp.el("editor-wrapper").mod("export")},o.a.createElement(Vu.a,{textareaClassName:hp.el("editor-textarea"),className:hp.el("editor")+hp.el("editor").mod("solution"),value:P,onValueChange:null,highlight:function(){return e.highlightCode(P)},paddingLeft:56,disabled:!0})),!!_&&o.a.createElement("pre",{className:hp.el("editor-footer"),dangerouslySetInnerHTML:{__html:this.highlightCode(_,!1)}})))}}])&&ep(t.prototype,r),a&&ep(t,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);ip(vp,"defaultProps",{courseId:null,formVisible:!1,isSolutionToShow:!1,userAnswer:{code:""},openAnswerForm:function(){},closeAnswerForm:null,elementLearn:{},elementContent:{},forceShowRight:!1,solutionIsNotEditable:!1,hideExpandSolutionPanel:!1,exportPageMode:!1,onAnswer:function(){}}),function(e){e.NONE="none",e.MULTI="multi",e.SINGLE="single",e.NUMBER="number",e.STRING="string",e.SELECT="select",e.RANGE="range",e.DETAILED="detailed",e.MATCH="match",e.COMPOSITE="composite",e.PROGRAMMING="programming"}(sp||(sp={})),function(e){e.none="",e.multi="Выбор варианта ответа",e.single="Выбор варианта ответа",e.number="Поле ввода: число",e.string="Поле ввода: текст",e.select="Выбор варианта ответа",e.range="",e.detailed="Развёрнутый ответ",e.match="Сопоставление",e.composite="",e.programming=""}(lp||(lp={})),function(e){e.SELECT="select"}(cp||(cp={})),function(e){e.rectangle="rectangle",e.circle="circle",e.polygon="polygon"}(up||(up={})),function(e){e.AUTOMATIC="automatic",e.MANUAL="manual"}(fp||(fp={})),function(e){e.SECTION="section",e.ORDINARY="ordinary",e.ADVANCED="advanced"}(pp||(pp={})),function(e){e.full="full",e.cursor="cursor",e.nothing="nothing"}(dp||(dp={}));n(1260);var yp={options:{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0}};function bp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!0!==e)throw new Error(t)}function gp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"multipleAnswers",value:function(e){return"string"==typeof e||"number"==typeof e?[e]:e}},{key:"selectOptionAnswer",value:function(e,t){return!t&&Array.isArray(e)?(bp(e.length<=1,"Too many options in user answer"),e[0]):e}}],(n=null)&&gp(t.prototype,n),r&&gp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _p(e){return(_p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ep(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Op(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cp(e,t){return(Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Np(e);if(t){var o=Np(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xp(this,n)}}function xp(e,t){if(t&&("object"===_p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pp(e)}function Pp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Np(e){return(Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ip(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ap=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cp(e,t)}(s,e);var t,r,a,i=jp(s);function s(){var e;kp(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ip(Pp(e=i.call.apply(i,[this].concat(n))),"state",{svgViewBox:"0 0 0 0",mouseOnZoneId:null}),Ip(Pp(e),"imageRef",void 0),Ip(Pp(e),"getIsAllowMulti",(function(){return e.props.answerType===sp.MULTI})),Ip(Pp(e),"getAnswerHasError",(function(){return!1})),Ip(Pp(e),"zoneClick",(function(t){var n=e.props,r=n.onAnswer,o=n.isResult,a=e.getIsAllowMulti(),i=e.getUserAnswer();if(!o){if(!a)return i===t?void r(null):void r(t);if(!Array.isArray(i))throw Error("userAnswer must be an array");var s=i.indexOf(t);-1===s?i.push(t):i.splice(s,1),i.sort(),0!==i.length?r(i):r(null)}})),Ip(Pp(e),"updateSVGDimensions",(function(){var t=e.props.isSmt,n=nu.c;t&&(n=715);var r=e.imageRef.naturalWidth,o=e.imageRef.naturalHeight;r>n&&(o=Math.round(o/(r/n)),r=n);var a="0 0 ".concat(r," ").concat(o);e.setState({svgViewBox:a})})),Ip(Pp(e),"renderZone",(function(t){var n=e.props,r=n.answersData,a=n.isResult,i=e.getIsAllowMulti(),s=e.getUserAnswer(),l=new ot("select_on_image_answer__zone"),c=e.getZoneBoundingBox(t.figure);l.appendStatusIf(i,"like-radio"),l.appendStatusIf(!i,"like-checkbox"),l.appendStatusIf(a,"result"),l.appendStatus("display-method-".concat(r.zoneDisplayMethod));var u=null;if(t.figure.type===up.circle&&(u=o.a.createElement("circle",{className:l.toString(),cx:t.figure.coordinates[0].x,cy:t.figure.coordinates[0].y,r:t.figure.radius})),t.figure.type===up.rectangle&&(u=o.a.createElement("rect",{className:l.toString(),x:t.figure.coordinates[0].x,y:t.figure.coordinates[0].y,width:t.figure.coordinates[2].x-t.figure.coordinates[0].x,height:t.figure.coordinates[2].y-t.figure.coordinates[0].y})),t.figure.type===up.polygon){var f=t.figure.coordinates.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ");u=o.a.createElement("polygon",{className:l.toString(),points:f})}var p=!1;return r.zoneDisplayMethod===dp.full&&(p=!0),(s===t.id||Array.isArray(s)&&s.includes(t.id))&&(p=!0),o.a.createElement("g",{key:t.id,onClick:function(){return e.zoneClick(t.id)},onMouseEnter:function(){return e.setMouseOnZone(t.id)},onMouseLeave:function(){return e.setMouseOnZone(null)}},u,p&&o.a.createElement("image",{className:"select_on_image_answer__zone_dot",xlinkHref:e.getZoneImagePath(t.id),x:c.coordinates[0].x+c.width/2-14,y:c.coordinates[0].y+c.height/2-14,width:28,height:28}))})),e}return t=s,(r=[{key:"getIsAnswerFilled",value:function(){var e=this.getIsAllowMulti(),t=this.getUserAnswer();return e?(bp(Array.isArray(t)),t.length>0):(bp(!Array.isArray(t)),Number.isFinite(t))}},{key:"getUserAnswer",value:function(){var e=this.getIsAllowMulti(),t=wp.selectOptionAnswer(this.props.userAnswer,e);return e&&!Array.isArray(t)?[]:Re()(t)}},{key:"getImageUrl",value:function(){var e=this.props,t=e.isSmt,n=e.answersData,r="";return r=t?CONFIG.Api.smtWebPortal?CONFIG.Api.smtWebPortal.url:CONFIG.Api.webPortal.url:CONFIG.Api.noopolis.url,"".concat(r,"/content/_image/").concat(n.image)}},{key:"getZoneBoundingBox",value:function(e){var t,n=e.coordinates,r=n[0].x,o=n[0].y,a=n[0].x,i=n[0].y,s=Ep(n);try{for(s.s();!(t=s.n()).done;){var l=t.value;l.x>a&&(a=l.x),l.x<r&&(r=l.x),l.y>i&&(i=l.y),l.y<o&&(o=l.y)}}catch(e){s.e(e)}finally{s.f()}return e.type===up.circle&&(r-=e.radius,o-=e.radius,a+=e.radius,i+=e.radius),{coordinates:[{x:r,y:o},{x:a,y:o},{x:a,y:i},{x:r,y:i}],width:a-r,height:i-o}}},{key:"getZoneImagePath",value:function(e){var t=this.props,r=t.isResult,o=t.resultVerdict,a=this.state.mouseOnZoneId,i=this.getUserAnswer();return r?i!==e&&!Array.isArray(i)||Array.isArray(i)&&!i.includes(e)?n(578):o===Qu.OK?n(1261):o===Qu.PARTLY?n(1262):n(1263):i===e||Array.isArray(i)&&i.includes(e)?n(1264):n(a===e?1265:578)}},{key:"setMouseOnZone",value:function(e){this.setState({mouseOnZoneId:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.answersData,r=t.alignLeft,a=this.state.svgViewBox,i=new ot("select_on_image_answer__image_wrapper");return i.appendStatusIf(r,"align-left"),o.a.createElement("div",{className:"select_on_image_answer"},o.a.createElement("div",{className:i.toString()},o.a.createElement("div",null,o.a.createElement("img",{src:this.getImageUrl(),onLoad:this.updateSVGDimensions,ref:function(t){return e.imageRef=t}}),o.a.createElement("svg",{viewBox:a,xmlns:"http://www.w3.org/2000/svg"},n.answers.map((function(t){return e.renderZone(t)}))))))}}])&&Sp(t.prototype,r),a&&Sp(t,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);Ip(Ap,"defaultProps",{userAnswer:"",isSmt:!1,readOnly:!1,isResult:!1,alignLeft:!1,resultVerdict:Qu.NONE,onAnswer:function(){}});n(1266);var Tp={cheops:{solution_to_show_popup:{right_answer:{ru:{value:"Показать верный ответ"},en:{value:"Show the correct answer"}},my_answer:{ru:{value:"Показать мой ответ"},en:{value:"Show my answer"}}},multiple_answer:{placeholder_text:{ru:{value:"Ответ"},en:{value:"Answer"}},placeholder_number:{ru:{value:"Число"},en:{value:"Number"}},placeholder_ratio:{ru:{value:"Число или дробь"},en:{value:"Number or fraction"}},delete_answer:{ru:{value:"Удалить ответ"},en:{value:"Delete answer"}},hint:{ru:{value:"Ответ можно ввести в десятичном виде (3.45726), как обыкновенную дробь (1/5) и как смешанную дробь"},en:{value:"The answer can be entered in decimal form (3.45726), as an ordinary fraction (1/5) and as a mixed fraction"}},add_answer:{ru:{value:"Добавить ответ"},en:{value:"Add answer"}}},fraction_preview:{default_text:{ru:{value:"Здесь мы показываем, как видим ваш ответ"},en:{value:"You will see here how your answer is recognized by the system"}}},select_option_answer:{default_select:{ru:{placeholder:"Выбрать",no_option:"Нет вариантов"},en:{placeholder:"Select",no_option:"No variants"}},answer_select:{ru:{placeholder:"Ответ"},en:{placeholder:"Answer"}}},solutions:{placeholder_text:{ru:{value:"Ответ"},en:{value:"Answer"}},placeholder_number:{ru:{value:"Число"},en:{value:"Number"}},placeholder_ratio:{ru:{value:"Число или дробь"},en:{value:"Number or fraction"}}},copyright:{univ:{ru:{value:"© Образовательный Фонд «Талант и успех», 2019–{currentYear}"},en:{value:"© Educational Foundation “Talent and Success”, 2019–{currentYear}"}},corp:{ru:{value:"© Образовательный Фонд «Талант и успех», 2019–{currentYear}"},en:{value:"© Educational Foundation “Talent and Success”, 2019–{currentYear}"}},cpm:{ru:{value:"© ГАОУ ДПО ЦПМ, 2018–{currentYear} {br} © Фонд «Талант и успех», 2018–{currentYear}"},en:{value:"© Center of Pedagogical Excellence, 2018–{currentYear} {br} © Educational Foundation “Talent and Success”, 2018–{currentYear}"}},sirius:{ru:{value:"© Образовательный Фонд «Талант и успех»,  2019–{currentYear}"},en:{value:"© Educational Foundation “Talent and Success”, 2019–{currentYear}"}}}},latex:{errors:{too_long:{ru:{value:"Кажется, вы ошиблись. Ответ должен быть короче"},en:{value:"It seems answer must take less symbol"}},cant_parse:{ru:{value:"Мы не можем понять запись"},en:{value:"We can't recognize your input"}},convert:{ru:{value:"Ошибка при конвертации"},en:{value:"Convertation error"}}}}},Lp=n(192),Rp=["tpl","locale","inputMaxWidth","inline"];function Fp(){return(Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dp(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Mp=function(e,t,n){return n?e.length<t?e:"":e},Up=Object(T.e)((function(e){var t=e.tpl,n=e.locale,r=e.inputMaxWidth,a=e.inline,i=Dp(e,Rp),s=Object(T.d)({tpl:t,id:"placeholder",locale:n});return o.a.createElement(Lp.a,Fp({},i,{inline:a,inlineMaxWidth:r,placeholder:Mp(s,r,a)}))})),Gp=["tpl","locale","placeholder","inputMaxWidth","inline","innerRef","type"];function Bp(){return(Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vp(Object(n),!0).forEach((function(t){Wp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yp(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var zp=Object(T.e)((function(e){var t=e.tpl,n=e.locale,r=e.placeholder,a=e.inputMaxWidth,i=e.inline,s=e.innerRef,l=e.type,c=Yp(e,Gp),u="",f=Object(T.d)({tpl:t,id:"value",locale:n});f&&(u=f),(r||""===r)&&(u=r),u=function(e,t,n){return n?e.length<t?e:"":e}(u,a,i);var p=a?17*a:0,d=p>720?"100%":"".concat(p,"px"),m="number"===l&&i&&a?{width:d,maxWidth:"100%"}:{};return o.a.createElement("input",Bp({},c,{ref:s,placeholder:u,style:Hp({},m)}))})),qp=Object(tl.a)(T.c,Tp),Zp=(Object(tl.a)(T.b,Tp),Object(tl.a)(Up,Tp)),Kp=Object(tl.a)(zp,Tp),Jp=n(57);n(1267);function Qp(){return(Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xp=new Kl.a("select-dropdown-answer"),$p=function(e){var t=e.answersData,n=e.userAnswer,r=e.onAnswer,a=e.inline,i=e.inputMaxWidth,s=e.isSmt,l=e.multi,c=e.resultVerdict,u=e.readOnly,f=t.answers,p=t.answerType,d=t.inputsInRow,m=function(e){return s?"".concat(CONFIG.Imgs.smt,"/content/_image/").concat(e):"".concat(CONFIG.Imgs.noo,"/content/_image/").concat(e)},h=f.some((function(e){return!!e.image})),v=f.every((function(e){return!!e.formula})),y="simple"===p,b=d&&(h||v)?d:h?3:void 0;return o.a.createElement("div",{className:Xp+Xp.bod("inline",a)+Xp.bod("read-only",u)+Xp.bod("formulas",v)+Xp.bod("simple",y)},o.a.createElement(Zp,{k:"cheops.select_option_answer.".concat(u?"answer_select":"default_select"),classNamePrefix:"input_select",onChange:r,inputMaxWidth:i,inline:a,multiple:l,rowSize:b,readOnly:u,className:Xp.el("dropdown-block")+Xp.el("dropdown-block").mod("verdict",c)},f.map((function(e){return function(e){var t={id:e.id,caption:e.caption,formula:e.formula,image:e.image,value:e.value},r={key:e.id,value:t,selected:l?Array.isArray(n)&&n.includes(e.id):n===e.id};if(!p)return e.image?o.a.createElement(Jp.a,r,o.a.createElement("img",{className:Xp.el("option").mod("image"),src:m(e.image)})):e.formula?o.a.createElement(Jp.a,Qp({},r,{className:Xp.el("formula")}),o.a.createElement(Pl,null,"$".concat(e.formula,"$"))):o.a.createElement(Jp.a,Qp({},r,{label:e.value}));switch(p){case"simple":return o.a.createElement(Jp.a,Qp({},r,{label:e.value}));case"formula":return o.a.createElement(Jp.a,Qp({},r,{className:Xp.el("formula")}),o.a.createElement(Pl,null,"$".concat(e.formula,"$")));case"image":return o.a.createElement(Jp.a,r,o.a.createElement("img",{className:Xp.el("option").mod("image"),src:m(e.image)}));default:return o.a.createElement(Jp.a,Qp({},r,{label:e.value}))}}(e)}))))},ed=$p;function td(e){return(td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nd(){return(nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function od(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ad(e,t){return(ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function id(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cd(e);if(t){var o=cd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sd(this,n)}}function sd(e,t){if(t&&("object"===td(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ld(e)}function ld(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cd(e){return(cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$p.defaultProps={inputMaxWidth:10};var fd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ad(e,t)}(i,e);var t,n,r,a=id(i);function i(){var e;rd(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ud(ld(e=a.call.apply(a,[this].concat(n))),"shouldComponentUpdate",(function(t){return!(JSON.stringify(e.props)===JSON.stringify(t))})),ud(ld(e),"getAnswerHasError",(function(){return!1})),ud(ld(e),"getIsAllowMulti",(function(){return e.props.answerType===sp.MULTI})),ud(ld(e),"answerClick",(function(t){var n=e.props.onAnswer,r=e.getIsAllowMulti(),o=e.getUserAnswer(r);r||o===t&&n(null)})),ud(ld(e),"answerChange",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props.onAnswer,o=e.getIsAllowMulti(),a=e.getUserAnswer(o);if(o){if(!Array.isArray(a))throw Error("userAnswer must be an array");if(n)a.includes(t)||a.push(t);else{var i=a.indexOf(t);i>=0&&a.splice(i,1)}a.sort(),0!==a.length?r(a):r(null)}else r(t)})),ud(ld(e),"onSelectChange",(function(t){var n=e.props.onAnswer,r=e.getIsAllowMulti();t.length?n(r?t.map((function(e){return e.id})):t[0].id):n(null)})),e}return t=i,(n=[{key:"getIsAnswerFilled",value:function(){var e=this.getIsAllowMulti(),t=this.getUserAnswer(e);return e?(bp(Array.isArray(t)),t.length>0):(bp(!Array.isArray(t)),Number.isFinite(t))}},{key:"getUserAnswer",value:function(e){var t=wp.selectOptionAnswer(this.props.userAnswer,e);return e&&!Array.isArray(t)?[]:Re()(t)}},{key:"render",value:function(){var e=this,t=this.getIsAllowMulti(),n=this.getUserAnswer(t),r=this.props,a=r.answersData,i=r.inline,s=a.answers;return"select"===a.selectType?o.a.createElement(ed,nd({},this.props,{userAnswer:n,onAnswer:this.onSelectChange,multi:t})):s.map((function(r,a){var s=n===r.id||Array.isArray(n)&&n.includes(r.id),l=new ot("select_option_answer"),c=t?"checkbox":"radio";l.appendStatusIf(t,"type-checkbox"),l.appendStatusIf(!t,"type-radio"),l.appendStatusIf(i,"inline");var u="".concat(a+1,"_").concat(Ou()());return o.a.createElement("div",{className:l.toString(),key:"answer_".concat(r.id)},o.a.createElement("input",{id:u,type:c,checked:s,onClick:function(){e.answerClick(r.id)},onChange:function(t){return e.answerChange(r.id,t.target.checked)}}),o.a.createElement("label",{htmlFor:u},o.a.createElement(Pl,{inline:!0},r.value)))}))}}])&&od(t.prototype,n),r&&od(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);ud(fd,"defaultProps",{userAnswer:null,readOnly:!1,isResult:!1});var pd=function(e){var t=e.value,n=e.fractionPreviewText,r=e.fractionPreviewErrors,a=new ot("task__fraction_view");a.appendStatusIf(!!t&&!!r,"error");var i=n||o.a.createElement(qp,{k:"cheops.fraction_preview.default_text",id:"value"}),s=o.a.createElement(Pl,null,i);return null!=r&&r.length&&(s=o.a.createElement(o.a.Fragment,null,r.map((function(e,t){return e.key?o.a.createElement(Pl,{key:t},o.a.createElement(qp,{k:e.key,id:"value"})):o.a.createElement(Pl,{key:t},e.message)})))),o.a.createElement("div",{className:a.toString()},s)};n(1268);function dd(e){return(dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function md(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||xd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hd(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xd(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function vd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vd=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var m={};s(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=d.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==dd(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,s(y,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function yd(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function bd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){yd(a,r,o,i,s,"next",e)}function s(e){yd(a,r,o,i,s,"throw",e)}i(void 0)}))}}function gd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _d(e,t){return(_d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ed(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sd(e);if(t){var o=Sd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Od(this,n)}}function Od(e,t){if(t&&("object"===dd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kd(e)}function kd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sd(e){return(Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jd(e){return function(e){if(Array.isArray(e))return Pd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xd(e,t){if(e){if("string"==typeof e)return Pd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pd(e,t):void 0}}function Pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nd=function(e){return Array(e).fill("")},Id=function(e){var t=e.userAnswer;return wp.multipleAnswers(t)},Ad=function(e){return null===e?"":"".concat(e)},Td=function(e){var t=e.answersData,n=Id(e),r=t.inputCount,o=0===r?1:r;return Array.isArray(n)&&n.length>0?[].concat(jd(n.map(Ad)),jd(o>n.length?Array(o-n.length).fill(""):[])):-1===o?[""]:Array(o).fill("")},Ld=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_d(e,t)}(l,e);var t,r,a,s=Ed(l);function l(){var e;gd(this,l);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Cd(kd(e=s.call.apply(s,[this].concat(r))),"state",{rawUserAnswer:e.getInitRawUserAnswerState(),fractionPreviewText:e.getInitFractionPreviewTextState(),fractionPreviewErrors:{}}),Cd(kd(e),"onInputWheel",(function(e){return e.preventDefault()})),Cd(kd(e),"getFractionLatexTimeout",void 0),Cd(kd(e),"getIsOnlyNumbersAllowed",(function(){return e.props.answerType===sp.NUMBER})),Cd(kd(e),"getIsRatioAllowed",(function(){var t=e.props.answersData;return e.getIsOnlyNumbersAllowed()&&t.isRatioAllowed})),Cd(kd(e),"addField",(function(){var t=e.state,n=t.rawUserAnswer,r=t.fractionPreviewText;n.push(""),r.push(""),e.setUserAnswer(n,r)})),Cd(kd(e),"getFractionLatex",function(){var t=bd(vd().mark((function t(n,r){var o,a,i,s,l,c,u,f,p,d,m;return vd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.props.onAnswer,a=e.state.rawUserAnswer,n){t.next=7;break}return e.getFractionLatexTimeout=null,i=e.prepareUserAnswer(a),o(i),t.abrupt("return");case 7:if(s=e.props.getFractionLatexAction,l=e.state,c=l.fractionPreviewErrors,u=l.fractionPreviewText,f=n.replace(",","."),s){t.next=15;break}return e.getFractionLatexTimeout=null,p=e.prepareUserAnswer(a),o(p),t.abrupt("return");case 15:return t.next=17,s(f);case 17:(d=t.sent).error?c[r]=d.error:delete c[r],d.success?u[r]=d.success:delete u[r],e.getFractionLatexTimeout=null,m=e.prepareUserAnswer(a),e.setState({fractionPreviewErrors:c,fractionPreviewText:u},(function(){return o(m)}));case 23:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),Cd(kd(e),"onInputChange",(function(t,n){if(!e.props.readOnly){var r=e.state,o=r.rawUserAnswer,a=r.fractionPreviewText,i=t.target.value,s=t.target.value;e.getIsRatioAllowed()&&(clearTimeout(e.getFractionLatexTimeout),e.getFractionLatexTimeout=setTimeout((function(){return e.getFractionLatex(i,n)}),700)),o[n]=s,a[n]="",e.setUserAnswer(o,a)}})),Cd(kd(e),"onInputKeyUp",(function(e){"Enter"===e.key&&e.currentTarget.blur()})),Cd(kd(e),"onInputKeyDown",(function(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault()})),Cd(kd(e),"onInputKeypress",(function(t){var n=e.getIsRatioAllowed();if(e.getIsOnlyNumbersAllowed()&&!n){var r=void 0===t.which?t.keyCode:t.which,o=String.fromCharCode(r);/^[0-9-.,]+$/.exec(o)||t.preventDefault()}})),Cd(kd(e),"getSuitablePlaceholder",(function(t){var n=e.props,r=n.inputMaxWidth;return n.inline?t.length<r?t:"":t})),Cd(kd(e),"getPlaceholderTemplate",(function(){var t=e.getIsOnlyNumbersAllowed();return e.getIsRatioAllowed()?"cheops.multiple_answer.placeholder_ratio":t?"cheops.multiple_answer.placeholder_number":"cheops.multiple_answer.placeholder_text"})),Cd(kd(e),"onInputClick",(function(t){var n=e.props,r=n.isSmt,o=n.unlockNextTry,a=n.onlineState;r&&null!=a&&a.hasNextTryLock&&o()})),Cd(kd(e),"renderDeleteAnswerIcon",(function(t){return o.a.createElement("div",{className:"multiply_answers__icon multiply_answers__icon--remove"},o.a.createElement("svg",{onClick:function(){return e.removeField(t)}},o.a.createElement("use",{xlinkHref:"".concat(n(381),"#plus")})),o.a.createElement("div",{className:"multiply_answers__baloon multiply_answers__baloon--right"},o.a.createElement(qp,{k:"cheops.multiple_answer.delete_answer",id:"value"})))})),Cd(kd(e),"getInputWrapperClassName",(function(){var t=e.props,n=t.answersData,r=t.inline,o=new ot("multiply_answers__input_wrapper");return o.appendStatusIf(1===n.inputCount||!n.inputCount||1===n.inputsInRow,"singleton"),o.appendStatusIf(2===n.inputsInRow,"double"),o.appendStatusIf(3===n.inputsInRow,"triple"),o.appendStatusIf(r,"inline"),o})),Cd(kd(e),"inputRefs",[]),e}return t=l,a=[{key:"getDerivedStateFromProps",value:function(e){return"lab"===CONFIG.Instance?{rawUserAnswer:Td(e)}:null}}],(r=[{key:"getInitRawUserAnswerState",value:function(){return Td(this.props)}},{key:"getInitFractionPreviewTextState",value:function(){return e=this.props,t=Id(e),Array.isArray(t)?t.map((function(){return null})):[];var e,t}},{key:"componentDidMount",value:function(){var e=this;this.calculateAnswersWrapperHeight();var t=this.state.rawUserAnswer,n=this.props,r=n.onAnswer,o=n.userAnswer,a=n.getFractionLatexAction,i=this.getIsAnswerFilled();if(this.getIsRatioAllowed()&&a&&i){var s,l=hd(t.entries());try{var c=function(){var t=md(s.value,2),n=t[0],r=t[1];e.getFractionLatexTimeout=setTimeout((function(){return e.getFractionLatex(r.toString(),n)}),0)};for(l.s();!(s=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}r(o)}this.inputRefs.length&&this.inputRefs.forEach((function(t){return t.addEventListener("wheel",e.onInputWheel,{passive:!1})})),this.updateFieldCountInUserAnswer()}},{key:"componentDidUpdate",value:function(e){var t=this.props.answersData;t.inputCount!==e.answersData.inputCount&&-1!==t.inputCount&&this.updateFieldCountInUserAnswer()}},{key:"componentWillUnmount",value:function(){var e=this;this.inputRefs.length&&this.inputRefs.forEach((function(t){return t.removeEventListener("wheel",e.onInputWheel)}))}},{key:"getIsAnswerFilled",value:function(){var e,t=this.props,n=t.answersData,r=t.isSmt,o=Id(this.props),a=null!==(e=n.inputCount)&&void 0!==e?e:1;return r?Array.isArray(o)&&o.filter((function(e){return""!==e})).length>0:-1===a?Array.isArray(o)&&0===o.filter((function(e){return""===e})).length:Array.isArray(o)&&o.filter((function(e){return""!==e})).length===a}},{key:"getAnswerHasError",value:function(){var e,t=this.props,n=t.answersData,r=t.isSmt,o=Id(this.props),a=this.state.fractionPreviewErrors;if(this.getFractionLatexTimeout)return!0;var i=null!==(e=n.inputCount)&&void 0!==e?e:1;if(-1!==i&&!r){var s,l=null==o||null===(s=o.filter((function(e){return""!==e})))||void 0===s?void 0:s.length;if(l!==i&&l>0)return!0}return Object.keys(a).length>0}},{key:"updateFieldCountInUserAnswer",value:function(){var e=this.state,t=e.rawUserAnswer,n=e.fractionPreviewText,r=this.props.answersData.inputCount,o=t.length;if(-1!==r&&r!==o){var a=r-o,i=r>o;this.setState({rawUserAnswer:i?[].concat(jd(t),jd(Nd(a))):t.slice(a),fractionPreviewText:i?[].concat(jd(n),jd(Nd(a))):n.slice(a)})}}},{key:"prepareUserAnswer",value:function(e){return 0===e.filter((function(e){return""!==e&&null!==e})).length&&(e=null),e}},{key:"setUserAnswer",value:function(e,t){var n=this,r=this.props.onAnswer,o=this.state.fractionPreviewErrors,a=this.getIsOnlyNumbersAllowed(),i=this.getIsRatioAllowed();0===e.length&&(e=[""]);var s=Re()(e);a&&!i&&(s=e.map((function(e){return n.getParsedNumber(e)}))),s.forEach((function(e,n){""===e&&(delete o[n],t[n]="")})),this.setState({rawUserAnswer:e,fractionPreviewText:t,fractionPreviewErrors:o}),0===s.filter((function(e){return""!==e&&null!==e})).length&&0===Object.keys(o).length&&(clearTimeout(this.getFractionLatexTimeout),this.getFractionLatexTimeout=null),r(s=this.prepareUserAnswer(s))}},{key:"getParsedNumber",value:function(e){if("number"==typeof e)return e;e=e.replace(",",".");var t=parseFloat(e);return isNaN(t)?null:t}},{key:"removeField",value:function(e){var t=this,n=this.state,r=n.rawUserAnswer,o=n.fractionPreviewText,a=n.fractionPreviewErrors;r.splice(e,1),o.splice(e,1),delete a[e];var i,s=hd(Object.keys(a).map((function(e){return parseInt(e)})));try{for(s.s();!(i=s.n()).done;){var l=i.value;l>e&&(a[l-1]=a[l],delete a[l])}}catch(e){s.e(e)}finally{s.f()}this.setState({fractionPreviewErrors:a},(function(){return t.setUserAnswer(r,o)}))}},{key:"calculateAnswersWrapperHeight",value:function(){var e=i.a.findDOMNode(this),t=e.querySelector(".multiply_right_answers");t&&(e.querySelector(".multiply_answers").style.height="".concat(t.clientHeight,"px"))}},{key:"getInputType",value:function(){var e=this.getIsOnlyNumbersAllowed(),t=this.getIsRatioAllowed();if(!e)return"text";var n="number";return/SM-|SHV-|SPH-|SGH-|SCH-|GT-/.test(navigator.userAgent)&&(n="text"),navigator.userAgent.includes("Firefox")&&(n="text"),t&&(n="text"),n}},{key:"renderField",value:function(e){var t=this,r=this.props,a=r.answersData,i=r.autoFocus,s=r.inputMaxWidth,l=r.inline,c=r.placeholder,u=r.readOnly,f=this.state,p=f.rawUserAnswer,d=f.fractionPreviewText,m=f.fractionPreviewErrors,h=p[e],v=(this.getIsOnlyNumbersAllowed(),this.getIsRatioAllowed()),y=this.getInputWrapperClassName();y.appendStatusIf(v,"fraction-allowed"),y.appendStatusIf(!!h&&!!m[e],"error");var b=new ot("multiply_answers__input");b.appendStatusIf(l,"inline");var g=new ot("multiply_answers__icon","question");return g.appendStatusIf(l,"inline"),o.a.createElement("div",{className:y.toString(),key:"multiply_answer_field_".concat(e)},o.a.createElement(Kp,{k:this.getPlaceholderTemplate(),innerRef:function(e){return e&&t.inputRefs.push(e)},placeholder:c,inputMaxWidth:s,inline:l,value:h,autoFocus:i,className:"".concat(b),type:this.getInputType(),onKeyPress:this.onInputKeypress,onKeyUp:this.onInputKeyUp,onKeyDown:this.onInputKeyDown,onChange:function(n){return t.onInputChange(n,e)},size:l?s:null,readOnly:u,onClick:this.onInputClick}),v&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"".concat(g)},o.a.createElement("svg",null,o.a.createElement("use",{xlinkHref:"".concat(n(381),"#question")}))),o.a.createElement("div",{className:"multiply_answers__baloon multiply_answers__baloon--right"},o.a.createElement(qp,{k:"cheops.multiple_answer.hint",id:"value"}),o.a.createElement("span",{style:{whiteSpace:"nowrap"}}," (1 3/8)"))),-1===a.inputCount&&p.length>1&&this.renderDeleteAnswerIcon(e),v&&o.a.createElement(pd,{value:h,fractionPreviewText:d[e],fractionPreviewErrors:m[e]}))}},{key:"render",value:function(){var e=this,t=this.props.answersData,r=this.state.rawUserAnswer,a=this.getInputWrapperClassName(),i=!0;return""===r[r.length-1]&&(i=!1),o.a.createElement("div",{className:"multiply_answers"},r.map((function(t,n){return e.renderField(n)})),-1===t.inputCount&&o.a.createElement("div",{className:a.toString()},o.a.createElement("button",{disabled:!i,className:"multiply_answers__icon multiply_answers__icon--add",onClick:this.addField},o.a.createElement("div",{className:"multiply_answers__baloon"},o.a.createElement(qp,{k:"cheops.multiple_answer.add_answer",id:"value"})),o.a.createElement("svg",null,o.a.createElement("use",{xlinkHref:"".concat(n(381),"#plus")})))))}}])&&wd(t.prototype,r),a&&wd(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.a.Component);function Rd(e){return(Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fd(){return(Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||Md(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Md(e,t){if(e){if("string"==typeof e)return Ud(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ud(e,t):void 0}}function Ud(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gd(Object(n),!0).forEach((function(t){Kd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wd(e,t){return(Wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Yd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zd(e);if(t){var o=Zd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zd(this,n)}}function zd(e,t){if(t&&("object"===Rd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qd(e)}function qd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zd(e){return(Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Cd(Ld,"defaultProps",{inputMaxWidth:10});var Jd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wd(e,t)}(i,e);var t,n,r,a=Yd(i);function i(){var e;Vd(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kd(qd(e=a.call.apply(a,[this].concat(n))),"answerRef",o.a.createRef()),Kd(qd(e),"filledAnswerIndexes",[]),Kd(qd(e),"answerWithErrorsIndexes",[]),Kd(qd(e),"onCompositeAnswerIsFilledChange",(function(t,n,r){var o=e.props,a=o.onAnswerIsFilledChange,i=o.allMustBeFilled,s=o.answerType,l=e.filledAnswerIndexes.length,c=e.answerWithErrorsIndexes.length,u=e.filledAnswerIndexes.indexOf(t),f=e.answerWithErrorsIndexes.indexOf(t);if(u>=0&&!n&&e.filledAnswerIndexes.splice(u,1),-1===u&&n&&e.filledAnswerIndexes.push(t),f>=0&&!r&&e.answerWithErrorsIndexes.splice(f,1),-1===f&&r&&e.answerWithErrorsIndexes.push(t),l!==e.filledAnswerIndexes.length||c!==e.answerWithErrorsIndexes.length){var p=e.filledAnswerIndexes.length>0;i&&(p=e.filledAnswerIndexes.length===s.length),a(p,e.answerWithErrorsIndexes.length>0)}})),Kd(qd(e),"setCompositeAnswer",(function(t,n,r){var o=e.props,a=o.answerType,i=o.userAnswer,s=o.readOnly,l=o.onAnswer;if(!s){var c=Re()(i);Array.isArray(c)||(c=Array(a.length).fill({solution:null})),null===n&&(n=""),c[t]={solution:null},""!==n&&(c[t]={solution:n}),l(c,r)}})),Kd(qd(e),"onAnswer",(function(t){var n=e.props,r=n.onAnswer,o=n.readOnly,a=n.onAnswerIsFilledChange;o||r(t,(function(){var t,n;return a(null===(t=e.answerRef.current)||void 0===t?void 0:t.getIsAnswerFilled(),null===(n=e.answerRef.current)||void 0===n?void 0:n.getAnswerHasError())}))})),Kd(qd(e),"getElementContentForProgramming",(function(){var t=e.props,n=t.elementContent,r=void 0===n?{}:n,o=t.answersData;return Bd(Bd({},r),{},{answersData:o})})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e,t,n=this.props,r=n.answerType,o=n.onAnswerIsFilledChange;!Array.isArray(r)&&o&&o(null===(e=this.answerRef.current)||void 0===e?void 0:e.getIsAnswerFilled(),null===(t=this.answerRef.current)||void 0===t?void 0:t.getAnswerHasError())}},{key:"getCompositeSingleProgress",value:function(e){var t,n,r=Re()(this.props.elementLearn);return r?((null===(t=r.solution)||void 0===t||null===(n=t.answers)||void 0===n?void 0:n.length)>0&&(r.solution.answers=r.solution.answers.map((function(t){return t.answer=t.answer[e],t}))),r):null}},{key:"getAnswerComponent",value:function(){var e=this.props,t=e.isSmt,n=e.answersData,r=e.answerType,o=e.AnswerComponents,a=void 0===o?{}:o;if(bp(!Array.isArray(r),"answerType should not be an array"),bp(!Array.isArray(n),"answersData should not be an array"),r in a)return a[r];switch(r){case sp.NONE:return null;case sp.NUMBER:case sp.STRING:return Ld;case sp.MULTI:case sp.SINGLE:case sp.SELECT:return"image"===n.selectType?Ap:fd;case sp.MATCH:return Gu;case sp.DETAILED:return t?qc:wu;case sp.PROGRAMMING:return vp}throw new Error("Unknown answer type")}},{key:"canBeRenderedInMarkdown",value:function(e){return!0}},{key:"render",value:function(){var e,t=this,n=[],r=this.props,a=r.isSmt,s=r.readOnly,l=r.answersData,c=r.answerType,u=r.userAnswer,f=r.getFractionLatex,p=r.taskNum,d=r.inputIndex,m=r.inputMaxWidth,h=r.inline,v=r.onInlineCompositeAnswerIsFilledChange,y=r.isSavingInProgress,b=r.isHidden,g=r.allowResend;if(Array.isArray(c)){var w=function(){var e=v||t.onCompositeAnswerIsFilledChange;bp(Array.isArray(l),"answersData must be an array");var r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Md(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}(c.entries());try{var s=function(){var a=Dd(r.value,2),s=a[0],c=a[1];if(Number.isFinite(d)&&d!==s)return"continue";if(!t.canBeRenderedInMarkdown(c))return n.push("Тип ответа не поддерживается для вставки в условие"),"continue";var f,p=void 0;Array.isArray(u)&&"solution"in u[s]&&(p=null===(f=u[s])||void 0===f?void 0:f.solution),n.push(o.a.createElement("div",{className:"task__composite_input",key:"answers_".concat(t.props.taskNum,"_").concat(s,"_").concat(c)},!Number.isFinite(d)&&l[s].comment&&o.a.createElement($s,{className:"task__text"},l[s].comment),o.a.createElement(i,Fd({},t.props,{onAnswerIsFilledChange:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t,n){return e(s,t,n)})),answerType:c,taskNum:t.props.taskNum,userAnswer:p,answersData:l[s],onAnswer:function(e,n){return t.setCompositeAnswer(s,e,n)},getFractionLatex:t.props.getFractionLatex,elementLearn:t.getCompositeSingleProgress(s)}))))};for(a.s();!(r=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}return{v:n}}();if("object"===Rd(w))return w.v}bp(!Array.isArray(l),"answersData should not be an array");var _=this.getAnswerComponent();if(!_)return null;var E=Re()(this.props.userAnswer);c===sp.DETAILED&&(E&&0!==E.length||(E={message:"",attachments:[]}));var O=void 0!==s?s:!!this.props.isLocked;return o.a.createElement(_,{ref:this.answerRef,isSmt:a,key:"answer_".concat(p),unlockNextTry:this.props.unlockNextTry,readOnly:O,answersData:l,answerType:c,userAnswer:E,onAnswer:this.onAnswer,getFractionLatexAction:f,inputMaxWidth:m,inline:h||(null==l||null===(e=l.layout)||void 0===e?void 0:e.inline),isSavingInProgress:y,allowResend:g,isHidden:b,isSolutionToShow:this.props.isSolutionToShow,exportPageMode:this.props.exportPageMode,courseId:this.props.courseId,answers:E,elementLearn:this.props.elementLearn,elementContent:this.getElementContentForProgramming(),sendAnswer:this.props.sendAnswer,formVisible:this.props.formVisible,openAnswerForm:this.props.openAnswerForm,closeAnswerForm:this.props.closeAnswerForm,solutionIsNotEditable:this.props.solutionIsNotEditable,hideExpandSolutionPanel:this.props.hideExpandSolutionPanel,onSelectProgrammingLanguage:this.props.onSelectProgrammingLanguage,is_locked:this.props.isLocked,course_id:this.props.courseId,contestId:this.props.contestId,module_id:this.props.moduleId,allow_file_upload:l.areFilesAllowed,current_element_learn_thread:this.props.currentElementLearnThread,element_learn:this.props.elementLearn,element_content:this.props.elementContent,sendComment:this.props.sendComment,answer_type:this.props.answerType,taskToken:this.props.taskToken,customGetFileInfoAction:this.props.customGetFileInfoAction,onlineState:this.props.onlineState,taskNum:p})}}])&&Hd(t.prototype,n),r&&Hd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);Kd(Jd,"defaultProps",{isSmt:!1,exportPageMode:!1,onAnswerIsFilledChange:function(){},onAnswer:function(){}});var Qd,Xd=new Kl.a("programming-answer"),$d=Object(qu.b)(Wu.a.languages);!function(e){e[e.wrong=0]="wrong",e[e.partly=1]="partly"}(Qd||(Qd={}));var em,tm=n(296);function nm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.python3="py",e.cpp="cpp",e.java="java",e.kotlin="kt",e.pascal="pas",e.csharp="cs",e.go="go",e.php="php",e.rust="rs",e.kumir="kum",e["cpp-no-optimization"]="cpp"}(em||(em={}));var om=function(e){var t=e.code,r=e.language,a=e.isRound,i={filename:"code",content:t,ext:em[r]},s=nm(Object(tm.a)(i),1)[0];return o.a.createElement(A.d,{className:Xd.el("copy-panel")+Xd.el("copy-panel").bod("round",a)},o.a.createElement("img",{onClick:function(e){e.stopPropagation(),navigator.clipboard.writeText(t)},className:Xd.el("copy-panel").mod("icon"),src:n(1269),alt:"Скопировать"}),o.a.createElement("img",{onClick:function(e){e.stopPropagation(),s()},className:Xd.el("copy-panel").mod("icon"),src:n(1270),alt:"Скачать файл"}))},am=n(67),im=["pending"];function sm(e){return function(e){if(Array.isArray(e))return vm(e)}(e)||pm(e)||hm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lm(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cm(Object(n),!0).forEach((function(t){fm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pm(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function dm(e,t){return ym(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||hm(e,t)||mm()}function mm(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hm(e,t){if(e){if("string"==typeof e)return vm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vm(e,t):void 0}}function vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ym(e){if(Array.isArray(e))return e}var bm={day:"numeric",month:"long",year:"numeric"},gm={day:"numeric",month:"long"},wm={hour:"2-digit",minute:"2-digit",second:"2-digit"},_m=new Date,Em=_m.getFullYear(),Om=function(e,t){var n,r=dm(e,1)[0];return"string"==typeof r?r:null===(n=e.find((function(e){return e.language===t})))||void 0===n?void 0:n.code},km=function(e){var t,n=e.value;return o.a.createElement("span",{className:Xd.el("verdicts-tm")},n?o.a.createElement(T.a,{dateValue:n,dateOptions:(t=new Date(n),t.toDateString()===_m.toDateString()?wm:t.getFullYear()!==Em?bm:gm)}):o.a.createElement(nl,{id:"value",k:"programming.onlineverdicts.justnow"}))},Sm=function(e){var t=e.score,n=e.maxScore;return void 0!==t&&void 0!==n?o.a.createElement("span",{className:Xd.el("verdicts-score")},t," ",o.a.createElement(nl,{id:"value",k:"programming.onlineverdicts.verdictsScoreFrom"})," ",n):null},Cm=function(e){var t,n=e.message,r=e.summary,a=e.TestsReportCb,i=e.TestDetailReportCb,s=(n||"").split("\n"),l=ym(t=s)||pm(t)||hm(t)||mm(),c=l[0],u=l.slice(1);return o.a.createElement(A.q,{className:Xd.el("verdicts-review")},n&&o.a.createElement("div",{className:Xd.el("verdicts-review-result")+Xd.el("verdicts-review-panel")},c,u.length>0&&u.map((function(e,t){return o.a.createElement("div",{key:t,className:Xd.el("verdicts-review-result-sub")},e)}))),r&&a&&o.a.createElement(Ef.c,{summary:r,TestsReportCb:a,TestDetailReportCb:i}))},jm=function(e){var t=e.filter((function(e){return!!e.trim()})).join("\n");return""===t?e.join(""):t},xm=Object(am.b)($d),Pm=function(e){var t=e.isSharp,n=void 0!==t&&t;return o.a.createElement(A.d,{className:Xd.el("hidden-part")+Xd.el("hidden-part").bod("sharp",n),center:!0},o.a.createElement("p",{className:Xd.el("hidden-part").mod("text")},o.a.createElement(nl,{k:"programming.codeeditor.hiddentxt"})))},Nm=function(e){var t=e.solution,n=t.language,r=t.code,a=e.review,i=e.summary,s=e.sourceHeader,l=void 0===s?"":s,c=e.sourceFooter,u=void 0===c?"":c,f=e.clickable,p=e.TestsReportCb,d=e.TestDetailReportCb,m=e.isHidden,h=void 0!==m&&m,v=e.hideCopyPanel,y=l?l.split("\n").length+3:3;return o.a.createElement(A.q,{className:Xd.el("verdicts-solution")},o.a.createElement(o.a.Fragment,null,h?o.a.createElement(o.a.Fragment,null,l&&o.a.createElement(am.a,{clickable:f,highlight:xm(n),value:l,block:Xd}),o.a.createElement(Pm,{isSharp:!!a||!!i}),u&&o.a.createElement(am.a,{clickable:f,highlight:xm(n,y),value:u,block:Xd})):o.a.createElement(o.a.Fragment,null,o.a.createElement(am.a,{clickable:f,value:jm([l,r,u]),highlight:xm(n),block:Xd}),o.a.createElement(A.e,null),!v&&o.a.createElement(om,{code:jm([l,r,u]),language:n,isRound:!i&&!a})),(a||i)&&o.a.createElement(Cm,um(um({},a),{},{summary:i,TestsReportCb:p,TestDetailReportCb:d}))))},Im=[401,403,404],Am=function(e){var t=e.response.status;return o.a.createElement(nl,{k:"programming.onlineverdicts.solutionError_".concat(Im.includes(t)?t:401),id:"value"})},Tm=function(e){var t=e.solutionError,n=e.setSolutionError;return o.a.createElement(A.d,{className:Xd.el("verdicts-error")},null!=t&&t.response?o.a.createElement(Am,t):o.a.createElement(nl,{k:"programming.onlineverdicts.solutionError",id:"value"}),o.a.createElement(A.f,null),o.a.createElement(Bt.a,{size:"xs",onAction:function(){n(null)}},o.a.createElement(nl,{k:"programming.onlineverdicts.solutionRetryButton",id:"value"})))},Lm=function(){return""!==window.getSelection().toString()},Rm=function(e){var t=e.num,n=e.solution,r=e.pending,a=e.tmSec,i=e.verdict,s=e.score,l=e.maxScore;return o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null,o.a.createElement(nl,{k:"programming.onlineverdicts.solutionHeader"})," ",t,". "),r?o.a.createElement(o.a.Fragment,null,o.a.createElement(A.m,null),o.a.createElement(km,null),n&&". ".concat(Object(qu.a)(n.language))):"none"!==i&&"annulled"!==i?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:Xd.el("verdicts-string")},o.a.createElement(km,{value:1e3*a}),". ",n&&"".concat(Object(qu.a)(n.language),". "),o.a.createElement(nl,{k:"programming.verdict.".concat(i)})),o.a.createElement(A.c,null),o.a.createElement(Sm,{score:s,maxScore:l})):"")},Fm=function(e){var t=e.isLast,n=e.num,a=e.taskId,i=e.pending,s=e.content,l=e.taskToken,c=e.sourceFooter,u=e.sourceHeader,f=e.unlockNextTry,p=e.showDetails,d=e.toggleVerdictsShowDetails,m=e.className,h=e.showHeader,v=void 0===h?null:h,y=e.clickable,b=void 0===y||y,g=e.summary,w=e.TestsReportCb,_=e.TestDetailReportCb,E=e.isHidden,O=e.hideCopyPanel,k=void 0!==O&&O,S=s,C=S.id,j=S.tmSec,x=S.verdict,P=S.score,N=S.maxScore,I=S.review,T=S.summary,L=dm(Object(r.useState)(!1),2),R=L[0],F=L[1],D=dm(Object(r.useState)(null),2),M=D[0],U=D[1],G=dm(Object(r.useState)((null==s?void 0:s.solution)||null),2),B=G[0],V=G[1],H=dm(Object(r.useState)(!1),2),W=H[0],Y=H[1];Object(r.useEffect)((function(){B&&V(B)}),[B]),Object(r.useEffect)((function(){p&&null===B&&null===M&&!1===R&&(F(!0),vc({id:C,taskId:a},l).then((function(e){var t=e.status,n=e.data.input;if(200===t)if("solution"in n){var r=n.solution;r&&V(r)}else"hidden"in n&&(V({language:n.lang,code:""}),Y(!0))})).catch(U).finally((function(){F(!1),d(C,!0)})))}),[p,B,M]);var z=b?t?"ok"!==x?function(){return!Lm()&&(d(C,!0),f())}:void 0:function(){!Lm()&&d(C,!p)}:void 0;return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.q,{className:Xd.el("verdicts-card")+Xd.el("verdicts-card").mod("pending",i?"true":"false")+Xd.el("verdicts-card").bod("ok",!i&&"ok"===x)+Xd.el("verdicts-card").bod("notok",!i&&"ok"!==x&&"partly"!==x&&"annulled"!==x)+Xd.el("verdicts-card").bod("partly",!i&&"partly"===x)+Xd.el("verdicts-card").bod("annulled",!i&&"annulled"===x)+" ".concat(m||""),onClick:z},o.a.createElement(A.d,{className:Xd.el("verdicts-head")+Xd.el("verdicts-card").bod("clickable",!!z)},v||o.a.createElement(Rm,{num:n,solution:B,pending:i,tmSec:j,verdict:x,score:P,maxScore:N})),p&&o.a.createElement(A.q,{className:Xd.el("verdicts-code")},R&&o.a.createElement(Jl.a,{size:"xs"}),M&&o.a.createElement(Tm,{solutionError:M,setSolutionError:U}),B&&o.a.createElement(Nm,{solution:B,review:I,summary:g||T,TestsReportCb:w,TestDetailReportCb:_,clickable:!!z,sourceHeader:Om(u||[],B.language),sourceFooter:Om(c||[],B.language),isHidden:E||W,hideCopyPanel:k||"none"===x}))))},Dm=function(e){var t=e.taskId,n=e.taskToken,r=e.sourceFooter,a=e.sourceHeader,i=e.isLast,s=void 0!==i&&i,c=e.unlockNextTry,u=void 0===c?function(){}:c,f=e.verdictsShowDetails,p=e.toggleVerdictsShowDetails,d=e.isHidden;return function(e,i){var c=e.pending,m=lm(e,im);return o.a.createElement(Fm,{key:i,num:i+1,isHidden:d,unlockNextTry:u,isLast:s,taskId:t,pending:c,content:m,sourceFooter:r,sourceHeader:a,taskToken:n,showDetails:f.includes(null==m?void 0:m.id),toggleVerdictsShowDetails:p,TestsReportCb:function(){return function(e,t){var n=e.id,r=e.taskId;return l()({method:"POST",url:"".concat(hc(),"/solution/testsReport"),data:{id:n,taskId:r},headers:mc(t)})}({id:null==m?void 0:m.id,taskId:t},n).then((function(e){return new Promise((function(t,n){var r=e.status,o=e.data;200===r&&o?t(o):n(r)}))}))},TestDetailReportCb:function(e){return function(e,t){var n=e.id,r=e.taskId,o=e.testNo;return l()({method:"POST",url:"".concat(hc(),"/solution/testsReport/report/").concat(o),data:{id:n,taskId:r},headers:mc(t)})}({id:null==m?void 0:m.id,taskId:t,testNo:e},n).then((function(e){return new Promise((function(t,n){var r=e.status,o=e.data;200===r&&o?t(o):n(r)}))}))}})}},Mm=function(e){var t=e.showLast,n=e.verdictsShowDetails,r=e.toggleVerdictsShowDetails,a=e.allVerdictsCollapsed,i=e.setAllVerdictsCollapsed,s=e.taskToken,l=e.taskId,c=e.sourceFooter,u=e.sourceHeader,f=e.unlockNextTry,p=e.showVerdicts,d=e.vNum,m=e.last,h=e.isHidden,v=e.allowResend,y=(null==p?void 0:p.length)>0,b=sm(p),g=y&&b.reverse().find((function(e){return e.current})),w=g?g.verdict:"",_=(null==m?void 0:m.pending)&&v;return o.a.createElement(A.q,{className:Xd.el("verdicts")+Xd.el("verdicts").bod("collapsed",a)},d>0&&o.a.createElement(A.d,{className:Xd.el("verdicts-toggle-smt")+Xd.el("verdicts-toggle-smt").bod("collapsed",a)+Xd.el("verdicts-toggle-smt").bod("".concat(w),w&&a)+Xd.el("verdicts-card"),onClick:function(){return i(!a)}},a?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{style:{margin:"0 auto"}},"".concat(d," "),o.a.createElement(rl,{k:"programming.onlineverdicts.solutionsNum",value:d})),g&&o.a.createElement(Sm,{score:null==g?void 0:g.score,maxScore:null==g?void 0:g.maxScore})):o.a.createElement(nl,{id:"value",k:"programming.onlineverdicts.hide"})),!a&&p.map(Dm({taskId:l,taskToken:s,sourceFooter:c,sourceHeader:u,verdictsShowDetails:n,toggleVerdictsShowDetails:r,isHidden:h})),t&&!_&&Dm({taskId:l,taskToken:s,sourceFooter:c,sourceHeader:u,verdictsShowDetails:n,toggleVerdictsShowDetails:r,isLast:!0,unlockNextTry:f,isHidden:h})(m,p.length))};function Um(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bm=function(e){var t=e.verdict,n=e.num,a=e.solution,i=e.time,s=e.score,l=e.maxScore,c=e.reportRef,u=e.taskNo,f=e.review,p=Um(Object(r.useState)(!1),2),d=p[0],m=p[1],h=c?c.summary:null,v=f.message?f:f.comment;return o.a.createElement(A.q,{className:Xd.el("verdicts-card")+Xd.el("verdicts-card").bod("ok","ok"===t)+Xd.el("verdicts-card").bod("notok","ok"!==t&&"partly"!==t&&"annulled"!==t)+Xd.el("verdicts-card").bod("partly","partly"===t)+Xd.el("verdicts-card").bod("annulled","annulled"===t)},o.a.createElement(A.d,{className:Xd.el("verdicts-head")+Xd.el("verdicts-card").mod("clickable"),onClick:function(){return m(!d)}},o.a.createElement("b",null,o.a.createElement(nl,{k:"programming.onlineverdicts.solutionHeader"})," ".concat(n,", "),a&&"".concat(Object(qu.a)(a[0].solution.language),". ")),o.a.createElement("span",{className:Xd.el("verdicts-string")},o.a.createElement(km,{value:1e3*i})),o.a.createElement(A.c,null),o.a.createElement(Sm,{score:s,maxScore:l}),o.a.createElement("span",{className:Xd.el("verdicts-score")},". ",o.a.createElement(nl,{k:"common.verdict_text.".concat(t)}))),d&&o.a.createElement(A.q,{className:Xd.el("verdicts-code")},a&&o.a.createElement(Nm,{solution:a[0].solution,clickable:!1,summary:h,TestDetailReportCb:function(e){return bc({taskNo:u,submissionId:c.solutionId,testNo:e},"".concat(window.results_token)).then((function(e){return new Promise((function(t,n){var r=e.status,o=e.data;200===r&&o?t(o):n(r)}))}))},TestsReportCb:function(){return yc({taskNo:u,submissionId:c.solutionId},"".concat(window.results_token)).then((function(e){return new Promise((function(t,n){var r=e.status,o=e.data;200===r&&o?t(o):n(r)}))}))},review:v})))},Vm=function(e){var t=e.limits;return o.a.createElement(A.q,{className:Xd.el("limits")},o.a.createElement("h5",{className:Xd.el("limits-head")},o.a.createElement(nl,{k:"programming.limits.header"})),o.a.createElement("ul",{className:Xd.el("limits-list")},!!t.realTime&&o.a.createElement("li",{className:Xd.el("limits-item")},o.a.createElement(nl,{k:"programming.limits.realTime"}),":"," ".concat(t.realTime," "),o.a.createElement(rl,{k:"common.format_plural.seconds",value:t.realTime})),!!t.time&&o.a.createElement("li",{className:Xd.el("limits-item")},o.a.createElement(nl,{k:"programming.limits.time"}),":"," ".concat(t.time," "),o.a.createElement(rl,{k:"common.format_plural.seconds",value:t.time})),!!t.maxMem&&o.a.createElement("li",{className:Xd.el("limits-item")},o.a.createElement(nl,{k:"programming.limits.maxMem"}),":"," ".concat(t.maxMem," MB")),!!t.stackMem&&o.a.createElement("li",{className:Xd.el("limits-item")},o.a.createElement(nl,{k:"programming.limits.stackMem"}),":"," ".concat(t.stackMem," MB")),!!t.compilationTime&&o.a.createElement("li",{className:Xd.el("limits-item")},o.a.createElement(nl,{k:"programming.limits.compilationTime"}),":"," ".concat(t.compilationTime," "),o.a.createElement(rl,{k:"common.format_plural.seconds",value:t.compilationTime})),!!t.charactersCount&&o.a.createElement("li",{className:Xd.el("limits-item")},o.a.createElement(nl,{k:"programming.limits.charactersCount"}),":"," ".concat(t.charactersCount))))},Hm=new Kl.a("programming-answer-examples"),Wm=function(e){var t=e.examples;return o.a.createElement(A.q,{className:"".concat(Hm)},o.a.createElement("h3",{className:Hm.el("title")},o.a.createElement(nl,{k:"programming.examples.title"})),o.a.createElement(A.d,{className:Hm.el("header")},o.a.createElement("h4",{className:Hm.el("header").mod("title")},o.a.createElement(nl,{k:"programming.examples.input"})),o.a.createElement("h4",{className:Hm.el("header").mod("title")},o.a.createElement(nl,{k:"programming.examples.output"}))),t.map((function(e,t){return o.a.createElement(A.d,{className:Hm.el("row"),key:t,mobOverturn:!0},o.a.createElement(A.q,{className:Hm.el("row-part")},o.a.createElement("h4",{className:Hm.el("row-title")},o.a.createElement(nl,{k:"programming.examples.input"})),o.a.createElement("p",{className:Hm.el("row")+Hm.mod("content")},e.input)),o.a.createElement(A.q,{className:Hm.el("row-part")},o.a.createElement("h4",{className:Hm.el("row-title")},o.a.createElement(nl,{k:"programming.examples.output"})),o.a.createElement("p",{className:Hm.el("row")+Hm.mod("content")},e.output)))})))};n(1271);function Ym(){return(Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zm(e){return function(e){if(Array.isArray(e))return Km(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||Zm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zm(e,t){if(e){if("string"==typeof e)return Km(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Km(e,t):void 0}}function Km(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jm=function(e){var t,n,a,i=e.forceShowRight,s=e.isHidden,l=e.answersData,c=l.languages,u=l.sourceFooter,f=l.sourceHeader,p=l.limits,d=l.examples,m=e.resultData,h=m.history,v=m.solution,y=v.answers,b=v.solutionToShow,g=m.taskNo,w=m.maxScore,_=m.score,E=m.verdict,O=m.token,k=m.tmSec,S=m.reportRef,C=m.review,j=qm(Object(r.useState)(!0),2),x=j[0],P=j[1],N=qm(y,1)[0],I=(null==N||null===(t=N.answer)||void 0===t?void 0:t.solution)||null,T=(null==b?void 0:b.solution)||null,L=i?T:I,R=i?{solution:L,verdict:"ok"}:{solution:L,id:"".concat(g),taskId:g,tmSec:k,score:_,maxScore:w,verdict:E,review:C},F={solution:{language:c[0],code:"\n\n"},verdict:R.verdict},D=!i&&(null==d?void 0:d.length)>0,M=!i&&p,U=(null==h?void 0:h.length)>0,G=U&&(null===(n=zm(h).reverse().find((function(e){return e.review.current})))||void 0===n?void 0:n.review),B=null!==(a=null==G?void 0:G.verdict)&&void 0!==a?a:"",V=void 0!==_&&void 0!==w,H=i?o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null,o.a.createElement(nl,{k:"programming.codeeditor.header1"})),o.a.createElement(A.c,null),Object(qu.a)(T.language)):"none"===E?o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null,o.a.createElement(nl,{k:"programming.codeeditor.header1"}))):o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null,o.a.createElement(nl,{k:"programming.codeeditor.header1"}),", ",I&&"".concat(Object(qu.a)(I.language),". ")),o.a.createElement(A.m,null),o.a.createElement(km,{value:1e3*k}),"annulled"!==E&&o.a.createElement(o.a.Fragment,null,o.a.createElement(A.c,null),V?o.a.createElement(o.a.Fragment,null,o.a.createElement(Sm,{score:_,maxScore:w,viewMode:!0}),o.a.createElement("span",{className:Xd.el("verdicts-score")},". ",o.a.createElement(nl,{k:"common.verdict_text.".concat(E)}))):o.a.createElement("span",{className:Xd.el("verdicts-score")},o.a.createElement(nl,{k:"common.verdict_text.".concat(E)})))),W=i?void 0:function(){return yc({taskNo:g,submissionId:S.solutionId},"".concat(window.results_token)).then((function(e){return new Promise((function(t,n){var r=e.status,o=e.data;200===r&&o?t(o):n(r)}))}))},Y=i?void 0:function(e){return bc({taskNo:g,submissionId:S.solutionId,testNo:e},"".concat(window.results_token)).then((function(e){return new Promise((function(t,n){var r=e.status,o=e.data;200===r&&o?t(o):n(r)}))}))};return o.a.createElement(o.a.Fragment,null,D&&o.a.createElement(Wm,{examples:d}),M&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Vm,{limits:p}),o.a.createElement(A.e,null)),R.solution?o.a.createElement(o.a.Fragment,null,!i&&U&&o.a.createElement(A.d,{className:Xd.el("verdicts-toggle-smt")+Xd.el("verdicts-toggle-smt").bod("collapsed",x)+Xd.el("verdicts-toggle-smt").bod("".concat(B),B&&x)+Xd.el("verdicts-card"),onClick:function(){return P(!x)}},x?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{style:{margin:"0 auto"}},"".concat(h.length," "),o.a.createElement(rl,{k:"programming.onlineverdicts.solutionsNum",value:h.length})),G&&o.a.createElement(Sm,{score:null==G?void 0:G.score,maxScore:null==G?void 0:G.maxScore})):o.a.createElement(nl,{id:"value",k:"programming.onlineverdicts.hide"})),!x&&h.map((function(e,t){return o.a.createElement(Bm,{key:t,verdict:e.review.verdict,num:t+1,solution:e.solution,time:e.tmSec,score:e.review.score,maxScore:e.review.maxScore,reportRef:e.reportRef,taskNo:g,review:e.review})})),o.a.createElement(Fm,Ym({className:Xd.el("solution"),isLast:!0,isHidden:s,showHeader:H,showDetails:!0,pending:!1,clickable:!1,taskId:g,num:g,content:R,sourceFooter:u,sourceHeader:f,taskToken:O,toggleVerdictsShowDetails:function(){},unlockNextTry:function(){},TestsReportCb:W,TestDetailReportCb:Y,hideCopyPanel:i},S))):o.a.createElement(Fm,Ym({className:Xd.el("solution"),isLast:!0,isHidden:s,showDetails:!0,showHeader:H,pending:!1,clickable:!1,taskId:g,num:g,content:F,sourceFooter:u,sourceHeader:f,taskToken:O,toggleVerdictsShowDetails:function(){},unlockNextTry:function(){},TestsReportCb:W,TestDetailReportCb:Y,hideCopyPanel:!0},S)))};n(1272);function Qm(e){return(Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xm=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var m={};s(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=d.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Qm(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,s(y,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function $m(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function eh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){$m(a,r,o,i,s,"next",e)}function s(e){$m(a,r,o,i,s,"throw",e)}i(void 0)}))}}function th(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nh(e,t){return(nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ih(e);if(t){var o=ih(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oh(this,n)}}function oh(e,t){if(t&&("object"===Qm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ah(e)}function ah(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ih(e){return(ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nh(e,t)}(s,e);var t,n,r,a,i=rh(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),sh(ah(t=i.call(this,e)),"getFileInfo",function(){var e=eh(Xm().mark((function e(n){var r,o;return Xm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props.getFileInfo,!n){e.next=7;break}return e.next=4,iu(t.props.course_id,t.props.module_id,t.props.element_type,t.props.element_id,t.props.hash);case 4:o=e.sent.success,e.next=17;break;case 7:if(!r){e.next=13;break}return e.next=10,r(t.props.course_id,t.props.module_id,t.props.element_id,t.props.user_id,t.props.hash);case 10:e.t0=e.sent.success,e.next=16;break;case 13:return e.next=15,au(t.props.course_id,t.props.module_id,t.props.element_id,t.props.hash);case 15:e.t0=e.sent.success;case 16:o=e.t0;case 17:o&&t.setState({file_info:o.info});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.state={file_info:e.file_info},t}return t=s,(n=[{key:"componentDidMount",value:(a=eh(Xm().mark((function e(){return Xm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.file_info||this.getFileInfo();case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){if(!this.state.file_info)return o.a.createElement("div",{className:"file_preview"},o.a.createElement(Ic,{marginCenter:!0}));var e=null,t="".concat(CONFIG.Api.storage.url,"/download/").concat(this.state.file_info.token),n="file";return this.state.file_info.preview?e="".concat(CONFIG.Api.storage.url,"/download/").concat(this.state.file_info.preview):this.state.file_info.name.includes(".")&&(n=this.state.file_info.name.split(".").pop()).length>4&&(n="file"),o.a.createElement("a",{className:"file_preview",download:this.state.file_info.name,href:t,target:"_blank"},e&&o.a.createElement("img",{alt:"",src:e}),!e&&o.a.createElement("div",{className:"file_preview__file_ext"},"...",n),this.props.allow_delete&&o.a.createElement("div",{className:"file_preview__close",onClick:function(e){e.preventDefault()}}))}}])&&th(t.prototype,n),r&&th(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);sh(lh,"defaultProps",{hash:{},file_info:null,allow_delete:!1,course_id:null,module_id:null,user_id:null,element_type:null,element_id:null,getFileInfo:null});n(1273);function ch(e){return(ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fh(e,t){return(fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ph(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mh(e);if(t){var o=mh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dh(this,n)}}function dh(e,t){if(t&&("object"===ch(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mh(e){return(mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fh(e,t)}(s,e);var t,r,a,i=ph(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={},t}return t=s,(r=[{key:"render",value:function(){var e=this,t=!!this.props.firstName||!!this.props.lastName||!!this.props.middleName;return o.a.createElement("div",{className:"thread_message"},t&&o.a.createElement("div",{className:"thread_message__header"},o.a.createElement("div",{className:"thread_message__avatar"},this.props.isReview&&o.a.createElement("img",{src:n(550)})),o.a.createElement("div",{className:"thread_message__name"},"".concat(this.props.firstName," ").concat(this.props.middleName," ").concat(this.props.lastName)),o.a.createElement("div",{className:"thread_message__date"},this.props.date.toLocaleString("ru",{hour:"2-digit",minute:"2-digit",month:"long",day:"numeric"}))),o.a.createElement("div",null,o.a.createElement(Pl,null,this.props.messageObj.message),o.a.createElement("div",{className:"thread_message__attachments"},this.props.messageObj.attachments.map((function(t){return o.a.createElement(lh,{key:t,hash:t,course_id:e.props.course_id,module_id:e.props.module_id,element_id:e.props.element_id,element_type:"task",user_id:e.props.user_id,getFileInfo:e.props.getFileInfo})})))))}}])&&uh(t.prototype,r),a&&uh(t,a),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(hh,"defaultProps",{date:null,course_id:null,module_id:null,element_id:null,user_id:null,firstName:null,lastName:null,middleName:"",messageObj:{message:"",attachments:[]},avatar:null,isReview:!1,getFileInfo:null});n(1274);function vh(e){return(vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||gh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gh(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function gh(e,t){if(e){if("string"==typeof e)return wh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wh(e,t):void 0}}function wh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_h(Object(n),!0).forEach((function(t){Ph(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kh(e,t){return(kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xh(e);if(t){var o=xh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ch(this,n)}}function Ch(e,t){if(t&&("object"===vh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jh(e)}function jh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xh(e){return(xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ph(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kh(e,t)}(i,e);var t,n,r,a=Sh(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ph(jh(t=a.call(this,e)),"overrideAnswerDataProps",(function(e){var t;return e.isMixed=!1,(null===(t=e.columns)||void 0===t?void 0:t.length)>0&&e.columns.map((function(e){return e.isMixed=!1,e})),e})),Ph(jh(t),"renderSelectDropdownSolution",(function(e,n){var r=t.props,a=r.element_content.answersData,i=r.element_progress.verdict,s=r.isSmt,l=r.inline,c=r.inputMaxWidth,u=r.force_show_right;return o.a.createElement(ed,{readOnly:!0,resultVerdict:u?"ok":i,userAnswer:e,inline:l,inputMaxWidth:c,multi:"multi"===n,isSmt:s,answersData:a})})),t.state={},t}return t=i,(n=[{key:"renderMultipleEnter",value:function(e){var t=this,n=this.props.element_content.answersData,r=this.props.inline,a=[];return e&&e.map((function(i,s){var l=0;if(""===i){var c=0;i=o.a.createElement("span",{className:"task_solution__field_placeholder"},o.a.createElement(qp,{k:"cheops.solutions.placeholder_text",id:"value"})),c=75,"number"===t.props.element_content.type&&(i=o.a.createElement("span",{className:"task_solution__field_placeholder"},o.a.createElement(qp,{k:"cheops.solutions.placeholder_number",id:"value"})),c=75,n.isRatioAllowed&&(i=o.a.createElement("span",{className:"task_solution__field_placeholder"},o.a.createElement(qp,{k:"cheops.solutions.placeholder_ratio",id:"value"})),c=225)),l=c}else l=i?15*i.toString().length:0;var u=new ot("task_solution__field");u.appendStatusIf(1===e.length&&-1!==n.inputCount,"singleton"),u.appendStatusIf(1===n.inputCount||!n.inputCount||1===n.inputsInRow,"singleton"),u.appendStatusIf(2===n.inputsInRow,"double"),u.appendStatusIf(3===n.inputsInRow,"triple"),u.appendStatusIf(r,"inline");var f=r?{width:l>715?"715px":"fit-content",maxWidth:"100%",fontSize:"16px"}:{};a.push(o.a.createElement("div",{className:u.toString(),key:s,style:Eh({},f)},i))})),a}},{key:"renderSelectOnImage",value:function(e,t){null===e&&(e=[]);var n=this.state.task_num;return o.a.createElement("div",{key:"answer_".concat(n)},o.a.createElement(Ap,{isSmt:this.props.isSmt,isResult:!0,resultVerdict:t,answerType:this.props.element_content.type,userAnswer:e,answersData:this.props.element_content.answersData}))}},{key:"renderMatch",value:function(e,t){null!==e&&""!==e||(e=[]);var n=Re()(this.props.element_content.answersData);return n.reorderSolution=!1,o.a.createElement(Gu,{isSmt:this.props.isSmt,readOnly:!0,key:"answer_".concat(this.state.task_num),userAnswer:e,verdict:t,fieldsAddClass:new ot("task_solution__field","verdict-".concat(t)),answersData:n})}},{key:"renderCheckbox",value:function(e,t,n){var r=new ot("task_solution__field");return r.appendStatusIf(t,"checkbox-checked"),r.appendStatusIf(this.props.inline,"inline"),o.a.createElement("div",{className:r,key:n},o.a.createElement("div",{className:"task_solution__value_text"},o.a.createElement(Pl,null,e)))}},{key:"getConvertedSolutionToShow",value:function(){return{answer:{solution:this.props.element_progress.solution.solutionToShow.solution},verdict:nu.a.OK}}},{key:"getCompositeSingleElementContent",value:function(e){var t=Re()(this.props.element_content);return t.answersData=t.answersData[e],t.type=t.type[e],t.answersData=this.overrideAnswerDataProps(t.answersData),t}},{key:"getCompositeSingleElementProgress",value:function(e){var t,n=Re()(this.props.element_progress),r=bh(n.solution.answers.entries());try{for(r.s();!(t=r.n()).done;){var o=yh(t.value,2),a=o[0],i=o[1],s=i.answer[e];s?i.answer=s:delete n.solution.answers[a]}}catch(e){r.e(e)}finally{r.f()}return n.solution.solutionToShow&&(n.solution.solutionToShow=n.solution.solutionToShow[e]),n}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.inputIndex,a=n.isSmt,s=this.props.element_progress.solution,l=s.answers,c=s.solutionToShow,u=this.props.element_progress.verdict,f="";!1!==this.props.force_show_right&&"detailed"!==this.props.element_content.type&&(u=nu.a.OK,l=[this.getConvertedSolutionToShow()]);var p=[];l.length&&(e=l[0]);var d="",m=this.props.element_content,h=m.answersData.selectType,v=m.type;switch(v){case"none":return"";case"string":case"number":case"range":if(f="multiple",e)_=e.answer.solution;else{_=[];var y=this.props.element_content.answersData.inputCount;y&&-1!==y||(y=1);for(var b=1;b<=y;b++)_.push("")}Array.isArray(_)||(_=[_]),p=this.renderMultipleEnter(_);break;case"multi":case"single":f="checkbox",p=[];var g=[];if(e&&(g=e.answer.solution),"select"===h){var w="multi"===v?g:Array.isArray(g)?g[0]:g;p=this.renderSelectDropdownSolution(w,v);break}if("image"===h){p.push(this.renderSelectOnImage(g,u));break}this.props.element_content.answersData.answers.map((function(e,n){return p.push(t.renderCheckbox(e.value,Array.isArray(g)&&g.includes(e.id)||g===e.id,n))}));break;case"match":f="match";var _=[];e&&(_=e.answer.solution),p=this.renderMatch(_,u);break;case"detailed":if(f="text",!e){this.props.isSmt&&(p=this.renderMultipleEnter([""],this.props.element_progress.verdict));break}if(this.props.isSmt){p.push(o.a.createElement(qc,{key:"answer_".concat(this.state.task_num),taskToken:this.props.taskToken,answersData:this.props.element_content.answersData,resultData:Eh(Eh({},e),{},{verdict:u}),customGetFileInfoAction:this.props.customGetFileInfoAction,contestId:this.props.contestId}));break}var E,O=bh(l.slice().reverse().entries());try{for(O.s();!(E=O.n()).done;){var k=yh(E.value,2),S=k[0],C=k[1];d=o.a.createElement(o.a.Fragment,null,o.a.createElement(hh,{date:new Date(C.time),course_id:this.props.course_id,module_id:this.props.module_id,element_id:this.props.element_progress.id,element_type:"task",messageObj:C.answer.solution,user_id:this.props.user_id,getFileInfo:this.props.getFileInfo}),!!C.review&&o.a.createElement(hh,{date:new Date(C.reviewTime),course_id:this.props.course_id,module_id:this.props.module_id,element_id:this.props.element_progress.id,element_type:"task",isReview:!0,messageObj:C.review,firstName:C.reviewerInfo.firstName,lastName:C.reviewerInfo.lastName,user_id:this.props.user_id,getFileInfo:this.props.getFileInfo})),p.push(this.renderMultipleEnter([d],C.verdict,S))}}catch(e){O.e(e)}finally{O.f()}break;case"programming":p.push(a?o.a.createElement(Jm,{key:"answer_".concat(this.state.task_num),resultData:this.props.element_progress,answersData:this.props.element_content.answersData,contestId:this.props.contestId,forceShowRight:this.props.force_show_right,solutionToShow:c,isHidden:this.props.isHidden}):o.a.createElement(vp,{key:"answer_".concat(this.state.task_num),userAnswer:this.state.user_answer,elementLearn:this.props.element_progress,elementContent:this.props.element_content,onAnswer:this.props.onAnswer,sendAnswer:this.props.sendAnswer,formVisible:this.props.formVisible,isSolutionToShow:this.props.isSolutionToShow,forceShowRight:this.props.force_show_right,solutionIndex:this.props.solutionIndex,readOnly:!0}))}if(Array.isArray(this.props.element_content.type)){var j,x=bh(this.props.element_content.type.entries());try{for(x.s();!(j=x.n()).done;){var P=yh(j.value,2),N=P[0],I=P[1];if(!Number.isFinite(r)||r===N){var T=this.getCompositeSingleElementContent(N),L=this.getCompositeSingleElementProgress(N);p.push(o.a.createElement(o.a.Fragment,null,o.a.createElement(A.q,{key:"answer_".concat(N,"_").concat(I)},!Number.isFinite(r)&&o.a.createElement($s,{className:"task_solution__composite_text"},this.props.element_content.answersData[N].comment),o.a.createElement(i,{isSmt:this.props.isSmt,isSolutionToShow:this.props.isSolutionToShow,element_progress:L,element_content:T,course_id:this.props.course_id,module_id:this.props.module_id,force_show_right:this.props.force_show_right,customGetFileInfoAction:this.props.customGetFileInfoAction,contestId:this.props.contestId,inline:this.props.inline,inputIndex:this.props.inputIndex,inputMaxWidth:this.props.inputMaxWidth,user_id:this.props.user_id,getFileInfo:this.props.getFileInfo,isHidden:this.props.isHidden,solutionIndex:this.props.solutionIndex})),"select"===T.answersData.selectType&&o.a.createElement(o.a.Fragment,null,o.a.createElement(A.e,null),o.a.createElement(A.f,null))))}}}catch(e){x.e(e)}finally{x.f()}return o.a.createElement("div",{className:"task__composite_wrapper"},p)}var R=new ot("task_solution",["type-".concat(f),"verdict-".concat(u)]);return R.appendStatusIf(this.props.inline,"inline"),R.appendStatusIf(this.props.isSmt,"smt"),R.appendStatusIf(!1!==this.props.force_show_right&&"detailed"!==this.props.element_content.type,"force-show-right"),o.a.createElement("div",{className:R},p)}}])&&Oh(t.prototype,n),r&&Oh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);Ph(Nh,"defaultProps",{course_id:null,module_id:null,user_id:null,element_progress:{},element_content:{},force_show_right:!1,isSolutionToShow:!1,solutionIndex:null});n(1275);function Ih(e){return(Ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Th(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lh(e,t){return(Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Rh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mh(e);if(t){var o=Mh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fh(this,n)}}function Fh(e,t){if(t&&("object"===Ih(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dh(e)}function Dh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mh(e){return(Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lh(e,t)}(s,e);var t,n,r,a=Rh(s);function s(){var e;Ah(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Uh(Dh(e=a.call.apply(a,[this].concat(n))),"state",{initRendered:!1,instance:null}),Uh(Dh(e),"waitForMarked",(function(){!!e.markedRef.current&&!!e.markedRef.current.mathJaxRef.current?e.setState({initRendered:!0}):setTimeout(e.waitForMarked,100)})),Uh(Dh(e),"markedRef",o.a.createRef()),Uh(Dh(e),"filledAnswerIndexes",[]),Uh(Dh(e),"answerWithErrorsIndexes",[]),Uh(Dh(e),"getVideoResolveContainer",(function(e){var t,n=null==e?void 0:e.toLowerCase();return null!==(t={noo:hs,smt:_s}[n])&&void 0!==t?t:void 0})),Uh(Dh(e),"onInlineCompositeAnswerIsFilledChange",(function(t,n,r){var o=e.props,a=o.onAnswerIsFilledChange,i=o.allMustBeFilled,s=o.answerType,l=e.filledAnswerIndexes.length,c=e.answerWithErrorsIndexes.length,u=e.filledAnswerIndexes.indexOf(t),f=e.answerWithErrorsIndexes.indexOf(t);if(u>=0&&!n&&e.filledAnswerIndexes.splice(u,1),-1===u&&n&&e.filledAnswerIndexes.push(t),f>=0&&!r&&e.answerWithErrorsIndexes.splice(f,1),-1===f&&r&&e.answerWithErrorsIndexes.push(t),l!==e.filledAnswerIndexes.length||c!==e.answerWithErrorsIndexes.length){var p=e.filledAnswerIndexes.length>0;i&&(p=e.filledAnswerIndexes.length===s.length),a(p,e.answerWithErrorsIndexes.length>0)}})),Uh(Dh(e),"parseAnswersTag",(function(e){return e.replace(/(%%%|%%)\((\d+)\)(\((\d+)\))?/g,(function(e,t,n,r,o){return'<span class="inline_answers inline_answers--'.concat("%%"===t?"inline":"block",'" data-index=').concat(n," data-maxwidth=").concat(o,"></span>")}))})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e,t=null!==(e=CONFIG)&&void 0!==e&&e.Instance?"".concat(CONFIG.Instance):null;this.setState({instance:t},this.waitForMarked)}},{key:"renderAnswers",value:function(){var e,t,n,r,a=this.props,s=a.renderAnswers,l=(a.inline,a.showResults),c=a.isSmt,u=a.forceShowRight,f=a.isSolutionToShow,p=a.taskNum,d=a.answersData,m=a.userAnswer,h=a.answerType,v=a.onAnswer,y=a.getFractionLatex,b=a.onAnswerIsFilledChange,g=a.element_content,w=a.taskToken,_=a.element_progress,E=a.elementLearn,O=a.moduleId,k=a.courseId,S=a.allMustBeFilled,C=a.closeAnswerForm,j=a.currentElementLearnThread,x=a.formVisible,P=a.hideExpandSolutionPanel,N=a.isLocked,I=a.openAnswerForm,A=a.sendAnswer,T=a.sendComment,L=a.solutionIsNotEditable,R=a.readOnly,F=this.state.initRendered;if(!s)return null;for(var D=F?null===(e=this.markedRef)||void 0===e||null===(t=e.current)||void 0===t||null===(n=t.mathJaxRef)||void 0===n||null===(r=n.current)||void 0===r?void 0:r.preview.querySelectorAll(".inline_answers"):[],M=[],U=0,G=Array.from(D);U<G.length;U++){var B=G[U],V=B.classList.contains("inline_answers--inline");l||M.push(i.a.createPortal(o.a.createElement(Jd,{readOnly:R,inputIndex:parseInt(B.dataset.index)-1,inputMaxWidth:parseInt(B.dataset.maxwidth),isSmt:c,answerType:h,taskNum:p,answersData:d,userAnswer:m,onAnswer:v,getFractionLatex:y,onAnswerIsFilledChange:b,inline:V,elementContent:g,elementLearn:E,taskToken:w,allMustBeFilled:S,closeAnswerForm:C,courseId:k,currentElementLearnThread:j,formVisible:x,hideExpandSolutionPanel:P,isLocked:N,moduleId:O,openAnswerForm:I,sendAnswer:A,sendComment:T,solutionIsNotEditable:L,onInlineCompositeAnswerIsFilledChange:this.onInlineCompositeAnswerIsFilledChange}),B)),l&&M.push(i.a.createPortal(o.a.createElement(Nh,{inputIndex:parseInt(B.dataset.index)-1,inputMaxWidth:parseInt(B.dataset.maxwidth),inline:V,isSmt:c,answerType:h,element_content:g,taskToken:w,element_progress:_,force_show_right:u,isSolutionToShow:f,course_id:k,module_id:O}),B))}return M}},{key:"render",value:function(){var e=this.state,t=e.initRendered,n=e.instance,r=this.props.children;return r?"object"===Ih(r)?r:(r=this.parseAnswersTag(r),o.a.createElement(o.a.Fragment,null,t&&this.renderAnswers(),!!n&&o.a.createElement(Pl,{className:this.props.className,onClick:this.props.onClick,ref:this.markedRef,getVideoResolveContainer:this.getVideoResolveContainer(this.state.instance)},r))):""}}])&&Th(t.prototype,n),r&&Th(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);Uh(Gh,"defaultProps",{inline:!1,renderAnswers:!1,readOnly:!1});n(1276);function Bh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hh=function(e){var t=e.courseId,n=e.moduleId,a=e.elementProgress,i=e.elementContent,s=e.onClose,l=e.isSmt,c=e.renderInDescription,u=Bh(Object(r.useState)(!1),2),f=u[0],p=u[1];Object(r.useEffect)((function(){return hr.setBodyScrollEventDisabled(!0),function(){hr.setBodyScrollEventDisabled(!1)}}),[]);var d=Bh(i.type,1)[0],m="programming"!==d&&!!a.solution.answers.length,h=new ot("solution_to_show_popup__solutions");h.appendStatusIf(f,"show_user_answer"),h.appendStatusIf(c,"inline");var v=new ot("solution_to_show_popup");return v.appendStatusIf(l,"is-smt"),v.appendStatusIf(!!d,d),o.a.createElement("div",{className:v.toString(),onClick:s},o.a.createElement("div",{className:"solution_to_show_popup__close"}),o.a.createElement("div",{className:"solution_to_show_popup__window",onClick:function(e){return e.stopPropagation()}},o.a.createElement("div",{className:h.toString()},c&&o.a.createElement("div",{className:"solution_to_show_popup__solution_text"},o.a.createElement(Gh,{isSmt:l,renderAnswers:!0,showResults:!0,forceShowRight:!0,element_content:i,element_progress:a},i.description)),!c&&o.a.createElement(Nh,{isSmt:l,isSolutionToShow:!0,element_progress:a,element_content:i,course_id:t,module_id:n,force_show_right:!0}),c&&m&&o.a.createElement("div",{className:"solution_to_show_popup__solution_text"},o.a.createElement(Gh,{isSmt:l,renderAnswers:!0,showResults:!0,isSolutionToShow:!0,element_content:i,element_progress:a},i.description)),!c&&m&&o.a.createElement(Nh,{isSmt:l,isSolutionToShow:!0,element_progress:a,element_content:i,course_id:t,module_id:n})),m&&o.a.createElement("div",{className:"solution_to_show_popup__toggle",onClick:function(){return p(!f)}},f&&o.a.createElement(qp,{k:"cheops.solution_to_show_popup.right_answer",id:"value"}),!f&&o.a.createElement(qp,{k:"cheops.solution_to_show_popup.my_answer",id:"value"}))))};Hh.defaultProps={renderInDescription:!1};var Wh=Hh;function Yh(e){return(Yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zh(e,t){return(Zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Kh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qh(e);if(t){var o=Qh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jh(this,n)}}function Jh(e,t){if(t&&("object"===Yh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qh(e){return(Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zh(e,t)}(i,e);var t,n,r,a=Kh(i);function i(){return zh(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.answerType,n=e.verdict;if(0===t.filter((function(e){return e!==sp.NONE})).length)return null;switch(n){case Qu.OK:return o.a.createElement(nl,{k:"common.verdict_text.ok",id:"value"});case Qu.WRONG:return o.a.createElement(nl,{k:"common.verdict_text.wrong",id:"value"});case Qu.NONEUNSCORED:case Qu.UNSCORED:return"";case Qu.PARTLY:return o.a.createElement(nl,{k:"common.verdict_text.partly",id:"value"});case Qu.NOTREADY:return o.a.createElement(nl,{k:"common.verdict_text.not_ready",id:"value"});case Qu.ANNULLED:return o.a.createElement(nl,{k:"common.verdict_text.annulled",id:"value"})}return o.a.createElement(nl,{k:"common.verdict_text.no_verdict",id:"value"})}}])&&qh(t.prototype,n),r&&qh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),$h=new Kl.a("task"),ev=function(e){var t=e.answerType,n=e.isShowRightAnswer,r=e.onToggleShowRightAnswer,a=t.includes(sp.PROGRAMMING),i=a?"common.result_switch_button.right_answer_programming":"common.result_switch_button.right_answer",s=n?"right_answers":"user_answers";return o.a.createElement("button",{className:$h.el("result-switch")+$h.el("result-switch").mod("".concat(s))+$h.el("result-switch").bod("programming",a),onClick:r},o.a.createElement(nl,{k:i}))},tv=function(e){var t=e.onSave,n=e.onNext,r=e.isSavingInProgress,a=e.hasSavedAnswer,i=e.answersHasError,s=e.answersIsFilled,l=e.answersIsEqual,c=e.allowResend,u=e.resendBlocked,f=e.onResend,p=e.onlineState,d=e.unlockNextTry,m=o.a.createElement(nl,{k:"common.save_button.save_the_answer",id:"value"}),h=!1,v=!1,y=t,b=Da.d;if(p){var g=p.hasPending,w=p.hasSolutionOk,_=p.hasNextTryLock,E=p.hasSolutionLastNotOk;m=o.a.createElement(nl,{k:"common.save_button.give_answer",id:"value"}),r||g?(v=!0,h=!0,m=o.a.createElement(nl,{k:"common.save_button.checking",id:"value"}),g&&c&&(v=!1,h=!!(s&&l||!s)||u,m=o.a.createElement(nl,{k:"common.save_button.resend",id:"value"}),y=f)):w?(m=o.a.createElement(nl,{k:"common.save_button.next_task",id:"value"}),y=n):E&&_?(m=o.a.createElement(nl,{k:"common.save_button.next_try",id:"value"}),y=d):(!s||i||s&&l)&&(h=!0)}else i&&(h=!0),s&&l&&(h=!0,m=o.a.createElement(nl,{k:"common.save_button.answer_is_saved",id:"value"})),s||(a&&(m=o.a.createElement(nl,{k:"common.save_button.save",id:"value"})),a||(h=!0)),r&&(v=!0,h=!0,m=o.a.createElement(nl,{k:"common.save_button.save",id:"value"}));return o.a.createElement($l.a,{disabled:h,mode:"primary",onAction:y,loading:v,form:"soft",size:"l",className:b,style:{minWidth:"180px",color:void 0}},m)};function nv(){return(nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rv(e){return function(e){if(Array.isArray(e))return ov(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ov(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ov(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var av=new Kl.a("programming-answer"),iv=function(e){var t,n=e.verdict,r=e.score,a=e.maxScore,i=e.label,s=void 0===i?"":i,l=e.review,c=void 0===l?{}:l,u=c.message,f=c.info,p=null!==(t=null==f?void 0:f.result)&&void 0!==t?t:"",d="wrong"===n&&"custom"===p,m=d?"pe":n,h="has_solution_".concat(m)in el.common.save_button?"common.save_button.has_solution_".concat(m):"",v=!["pe","notReady"].includes(m),y=d&&!!u&&!s,b=h&&!s;return o.a.createElement(A.q,null,o.a.createElement(A.d,null,o.a.createElement("span",{className:av.el("verdicts-last-score")+av.el("verdicts-last-score").mod("".concat(m))},v&&o.a.createElement(o.a.Fragment,null,r," ",o.a.createElement(nl,{id:"value",k:"programming.onlineverdicts.verdictsScoreFrom"})," ","".concat(a)+(h?".":"")),b&&o.a.createElement(nl,{k:h})),o.a.createElement(A.m,null),s?o.a.createElement(nl,{k:s}):["wrong","partly","pe"].includes(m)?o.a.createElement(nl,{k:"common.save_button.has_solution_again"}):null),y&&o.a.createElement(A.d,{className:"text-xs"},u))},sv=function(e){var t=e.isSavingInProgress,n=e.label,r=e.hasNextTryLock,a=e.hasPending,i=e.hasSolutions,s=e.hasSolutionOk,l=e.hasSolutionLastNotOk,c=e.solutions,u=e.children,f=e.allowResend,p=i&&(rv(c).reverse().find((function(e){return e.current}))||c[c.length-1]);return o.a.createElement(A.d,{className:"task__footer-label "},a||t?f?o.a.createElement(A.d,{style:{alignItems:"center"}},o.a.createElement(ko.a,{size:"xs"}),o.a.createElement(A.f,null),u):u:r?l?o.a.createElement(iv,p):u:s?o.a.createElement(iv,p):i?o.a.createElement(iv,nv({},p,{label:n})):u)},lv=function(e){var t=e.onlineState,n=e.isSavingInProgress,r=e.label,a=e.allowResend;return o.a.createElement(sv,nv({},t,{isSavingInProgress:n,label:r,allowResend:a}),o.a.createElement(nl,{k:r}))};function cv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fv=function(e){var t=e.languages,n=e.language,r=e.onLanguageChange,a=e.disabled;return o.a.createElement(Lp.a,{inline:!0,disabled:a,className:Xd.el("templates-selector"),onChange:function(e){var t=cv(e,1)[0];return t&&r(t.lang)},cleanable:!1},t.map((function(e,t){return o.a.createElement(Jp.a,{key:t,value:{lang:e},selected:e===n,className:"".concat(Da.a,"-").concat(e," ")},Object(qu.a)(e))})))};function pv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mv=function(e){var t=e.code,n=e.language,a=e.num,i=e.status,s=e.disabled,l=void 0!==s&&s,c=e.languages,u=e.sourceFooter,f=e.sourceHeader,p=e.hasInput,d=e.onCodeChange,m=e.onLanguageChange,h=e.onRestoreCode,v=e.onClick,y=e.className,b=void 0===y?"":y,g=pv(Object(r.useState)(!1),2),w=g[0],_=g[1],E=pv(Object(r.useState)(!1),2),O=E[0],k=E[1],S=Object(r.useRef)(null),C=f?f.split("\n").length:0,j=t?t.split("\n").length:1,x=Object(am.b)($d);return o.a.createElement(A.q,{onClick:v||function(e){var t=pv(S.current.getElementsByClassName(Xd.el("editor-textarea")),2),n=t[0],r=t[1],o=f?r:n;o.disabled=!1,o.focus()},divRef:S,className:Xd.el("editor")+(w?"":Xd.el("editor-clickable"))+Xd.el("editor").bod("focus-within-textarea",w)+Xd.el("editor").mod("status",i||"none")+b,onMouseOver:function(){k(!0)},onMouseOut:function(){k(!1)}},o.a.createElement(A.d,{className:Xd.el("editor-head")},o.a.createElement("b",null,a>1?o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{k:"programming.codeeditor.header"})," ",a):o.a.createElement(nl,{k:"programming.codeeditor.header1"})),o.a.createElement(A.c,null),c.length>1?o.a.createElement(fv,{languages:c,language:n,onLanguageChange:m,disabled:l}):o.a.createElement("span",null,Object(qu.a)(n))),o.a.createElement(A.e,null),o.a.createElement(A.q,{className:Xd.el("editor-code")},f&&o.a.createElement(am.a,{clickable:!w,highlight:x(n),value:f,block:Xd}),o.a.createElement(am.a,{clickable:!w,focused:w,hover:O,highlight:x(n,C),value:t,onValueChange:d,disabled:l,onFocus:function(){_(!0)},onBlur:function(){_(!1)},block:Xd}),u&&o.a.createElement(am.a,{clickable:!w,value:u,highlight:x(n,j+C),block:Xd})),o.a.createElement(A.e,null),o.a.createElement(A.d,{className:Xd.el("file")},o.a.createElement("div",{style:{paddingLeft:"12px",alignSelf:"center"}},o.a.createElement(Yf,{fillFromFile:d})),o.a.createElement(A.c,null),p&&o.a.createElement($l.a,{iconPlace:"end",mode:"text",size:"xs",icon:"replay",disabled:l,onAction:h},o.a.createElement(nl,{k:"programming.codeeditor.reset"}))))},hv=function(e){var t=e.examples;return o.a.createElement(A.q,{className:Xd.el("io")},o.a.createElement(A.d,{className:Xd.el("io-top")},o.a.createElement(A.q,{className:Xd.el("io-box")},o.a.createElement("h5",{className:Xd.el("io-head")},o.a.createElement(nl,{id:"value",k:"programming.io.input"}))),o.a.createElement(A.q,{className:Xd.el("io-box")},o.a.createElement("h5",{className:Xd.el("io-head")},o.a.createElement(nl,{id:"value",k:"programming.io.output"})))),t.map((function(e,t){var n=e.input,r=e.output;return o.a.createElement(A.d,{className:Xd.el("io-row"),key:t,"data-num":t},o.a.createElement(A.q,{className:Xd.el("io-cell")},o.a.createElement("pre",{className:Xd.el("io-pre")},n)),o.a.createElement(A.q,{className:Xd.el("io-cell")},o.a.createElement("pre",{className:Xd.el("io-pre")},r)))})))};n(1277);function vv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||_v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yv(Object(n),!0).forEach((function(t){gv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wv(e){return function(e){if(Array.isArray(e))return Ev(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _v(e,t){if(e){if("string"==typeof e)return Ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ev(e,t):void 0}}function Ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ov=function(e){return function(t){var n=t.language;return e===n}},kv=function(e,t){return e.tmSec-t.tmSec},Sv=function(e){var t=e.solutions,n=e.pending;return[].concat(wv(t.map((function(e){return bv(bv({},e),{},{pending:!1})}))),wv(n.map((function(e){return bv(bv({},e),{},{pending:!0})})))).sort(kv)},Cv=function(e){return e.length>0?e[e.length-1]:null},jv=function(e){var t=e.readOnly,n=e.hasPending,r=e.hasSolutionOk,o=e.hasSolutionLastNotOk,a=e.hasNextTryLock;return t||n||r||o&&a},xv=function(e,t){for(var n=e.split("\n"),r=t-n.length;r>0;)n.push(""),--r;return n.join("\n")},Pv=function(e){var t,n,a=e.answersData,i=e.readOnly,s=e.onAnswer,l=e.onlineState,c=e.taskToken,u=e.taskNum,f=e.unlockNextTry,p=e.isHidden,d=e.allowResend,m=void 0!==d&&d,h=l.solutions,v=l.pending,y=l.hasPending,b=l.hasSolutionOk,g=l.hasSolutionLastNotOk,w=l.hasNextTryLock,_=l.editSolution,E=l.hasSolutions,O=a.limits,k=void 0===O?{}:O,S=a.examples,C=void 0===S?[]:S,j=a.sourceFooter,x=void 0===j?[]:j,P=a.sourceHeader,N=void 0===P?[]:P,I=a.languages,T=a.templates,L=vv(Object(r.useState)(!1),2),R=L[0],F=L[1],D=function(e){return e.map((function(e){var t=e.language,n=e.code;return{language:t,code:xv(n,3)}}))}(T&&T.length?T:I.map((function(e){return{code:"",language:e}}))),M=vv(Object(r.useState)(Sv({solutions:h,pending:v})),2),U=M[0],G=M[1];Object(r.useEffect)((function(){var e=Sv({solutions:h,pending:v});G(e)}),[JSON.stringify(h),JSON.stringify(v)]);var B=vv(Object(r.useState)(Cv(U)),2),V=B[0],H=B[1];Object(r.useEffect)((function(){H(Cv(U))}),[U]);var W=vv(Object(r.useState)(!y&&!w&&!b&&_),2),Y=W[0],z=W[1];Object(r.useEffect)((function(){z(!(y||(w||b)&&E))}),[y,E,w,b]);var q=vv(Object(r.useState)(!Y),2),Z=q[0],K=q[1];Object(r.useEffect)((function(){K(!Y)}),[Y]);var J=vv(Object(r.useState)(Z?U.slice(0,-1):U),2),Q=J[0],X=J[1];Object(r.useEffect)((function(){!y&&X(Z?U.slice(0,-1):U)}),[Z,U,y]);var $=Q.length,ee=vv(Object(r.useState)(!0),2),te=ee[0],ne=ee[1],re=vv(Object(r.useState)(Z&&V?[V.id]:[]),2),oe=re[0],ae=re[1];Object(r.useEffect)((function(){ae(Z&&V?[V.id]:[])}),[Z,null==V?void 0:V.id]);var ie,se=vv(Object(r.useState)(!1),2),le=se[0],ce=se[1],ue=vv(Object(r.useState)((ie=D,JSON.parse(JSON.stringify(ie)))),2),fe=ue[0],pe=ue[1],de=fe[0],me=de.code,he=de.language,ve=(null===(t=(x||[]).find(Ov(he)))||void 0===t?void 0:t.code)||"",ye=(null===(n=(N||[]).find(Ov(he)))||void 0===n?void 0:n.code)||"",be=Object.keys(k).length>0,ge=function(e){pe([e].concat(wv(fe.filter((function(t){return t.language!==e.language})))))},we=vv(Object(r.useState)(jv({readOnly:i,hasPending:y,hasSolutionOk:b,hasSolutionLastNotOk:g,hasNextTryLock:w})),2),_e=we[0],Ee=we[1];Object(r.useEffect)((function(){Ee(jv({readOnly:i,hasPending:y,hasSolutionOk:b,hasSolutionLastNotOk:g,hasNextTryLock:w}))}),[i,y,b,g,w]),Object(r.useEffect)((function(){!_e&&V&&"solution"in V&&ge(V.solution)}),[_e]);Object(r.useEffect)((function(){var e=D.find((function(e){return e.language===he})),t=[me.trim(),(null==e?void 0:e.code.trim())||""],n=t[0];ce(t[1]!==n&&""!==n)}),[me,he]),Object(r.useEffect)((function(){s(le?{code:me,language:he}:null)}),[me,he,le]),Object(r.useEffect)((function(){!te&&ae(Z&&V?[V.id]:[])}),[te,Z,null==V?void 0:V.id]);return Object(r.useEffect)((function(){if(y&&m&&!me.trim()&&v.length>0){F(!0);var e="string"==typeof u?parseInt(u):u,t=v.find((function(t){return t.taskId===e+1}));vc({id:t.id,taskId:t.taskId},c).then((function(e){var t=e.status,n=e.data.input;if(200===t)if("solution"in n){var r=n.solution;r&&ge(r)}else"hidden"in n&&ge({language:n.lang,code:""})})).finally((function(){F(!1)}))}}),[v]),o.a.createElement(A.q,{className:Xd+" theme-light "},C.length>0&&o.a.createElement(hv,{examples:C}),be&&o.a.createElement(A.e,null),be&&o.a.createElement(Vm,{limits:k}),U.length>0&&o.a.createElement(A.e,null),U.length>0&&o.a.createElement(Mm,{taskId:u- -1,isHidden:p,allowResend:m,showLast:Z,showVerdicts:Q,vNum:$,last:V,unlockNextTry:f,allVerdictsCollapsed:te,setAllVerdictsCollapsed:ne,verdictsShowDetails:oe,toggleVerdictsShowDetails:function(e,t){var n=!0===t?[].concat(wv(oe),[e]):oe.filter((function(t){return t!==e}));ae(Z&&V&&!n.includes(V.id)?[].concat(wv(n),[V.id]):n)},verdicts:U,taskToken:c,sourceFooter:x,sourceHeader:N}),Y&&o.a.createElement(A.e,null),(Y||y&&m)&&!R&&o.a.createElement(mv,{onClick:w&&g?f:void 0,status:w&&g?"notok":b?"ok":void 0,sourceFooter:ve,sourceHeader:ye,num:(y&&m?h:U).length+1,disabled:_e,code:me,language:he,languages:I,hasInput:le,onCodeChange:function(e){return ge({code:e,language:he})},onLanguageChange:function(e){ge({code:me,language:e})},onRestoreCode:function(){var e;ge({code:(null===(e=D.find((function(e){return e.language===he})))||void 0===e?void 0:e.code)||"",language:he})},className:"smt-code-editor"}))},Nv=o.a.forwardRef((function(e,t){return o.a.createElement(Pv,e)})),Iv=n(124);n(1278);function Av(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lv=new Kl.a("answer-comment"),Rv=function(e){var t=e.info,n=e.block;return o.a.createElement("a",{className:n.el("preview"),key:t.token,download:t.name,href:"".concat(CONFIG.Api.storage.url,"/download/").concat(t.token)},t.preview?o.a.createElement("img",{className:n.el("preview-img"),src:"".concat(CONFIG.Api.storage.url,"/download/").concat(t.preview)}):o.a.createElement("div",{className:n.el("preview-file")},"...".concat(t.name.split(".").pop())))},Fv=function(){return o.a.createElement("div",{className:Lv.el("pending-icon")},"новый")},Dv=function(e,t){var n;return k.post("".concat(null===(n=CONFIG.Api.webPortal)||void 0===n?void 0:n.url,"/test/download-token/").concat(e,"/").concat(t))},Mv=function(e){var t=e.onCommentClick,n=e.review,a=e.expandable,i=void 0!==a&&a,s=e.pending,l=void 0!==s&&s,c=e.disabled,f=void 0!==c&&c,p=e.getPreview,d=void 0===p?Dv:p,m=n||{attachments:[],message:""},h=m.attachments,v=m.message,y=(d===Dv?Object(u.c)():Object(uf.d)()).contestId,b=Av(Object(r.useState)([]),2),g=b[0],w=b[1],_=Av(Object(r.useState)(!1),2),E=_[0],O=_[1];Object(r.useEffect)((function(){h.length>0&&Promise.all(h.map((function(e){return d(y,e).then($i).then((function(e){return e.info}))}))).then((function(e){return w(e)}))}),[h]);var k=function(){O(!E),t()};return o.a.createElement(A.q,{className:Lv+Lv.bod("expandable",i)},i?o.a.createElement(A.d,{className:Lv.el("title")+Lv.el("title").mod("expandable")+Lv.el("title").bod("expanded",E),onClick:function(){O(!E)}},o.a.createElement(Iv.a,{icon:"chat_bubble_outline",size:"xs"}),o.a.createElement(A.e,null),o.a.createElement(Bt.g,{className:Lv.el("title").bod("disabled",f)},"Комментарий к оценке"),o.a.createElement(A.f,null),o.a.createElement(Iv.a,{icon:"expand_".concat(E?"less":"more")}),l&&o.a.createElement(Fv,null),f&&o.a.createElement(A.q,{onClick:function(e){return e.stopPropagation()}},o.a.createElement(A.p,{title:"Комментарий будет удалён после нажатия кнопки «Пересчитать»",className:Lv.el("tooltip")},o.a.createElement("div",null,o.a.createElement(Iv.a,{icon:"help_outline",size:"xs",className:Lv.el("tooltip-icon")}))))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Lv.el("title")},o.a.createElement(nl,{k:"common.detailed_answer.comment_title"})),o.a.createElement("div",{className:Lv.el("text"),onClick:k},o.a.createElement($s,{videoWrapperClassName:Lv.el("text").mod("inner-video"),onClick:function(e){return e.stopPropagation()}},v)),g.length>0&&o.a.createElement(A.d,{className:Lv.el("preview-wrapper")},g.map((function(e){return o.a.createElement(Rv,{info:e,block:Lv,key:e.token})})))),E&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Lv.el("text")+Lv.el("text").bod("disabled",f),onClick:k},o.a.createElement($s,{videoWrapperClassName:Lv.el("text").mod("inner-video")},v)),g.length>0&&o.a.createElement(A.d,{className:Lv.el("preview-wrapper")+Lv.el("preview-wrapper").bod("disabled",f)},g.map((function(e){return o.a.createElement(Rv,{info:e,block:Lv,key:e.token})})))))};function Uv(e){return(Uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gv(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function Bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vv(Object(n),!0).forEach((function(t){Qv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zv(e,t){return(zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jv(e);if(t){var o=Jv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zv(this,n)}}function Zv(e,t){if(t&&("object"===Uv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kv(e)}function Kv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jv(e){return(Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xv=function(e){return"ok"===e.verdict},$v=function(e){return!Xv(e)},ey=function(e,t){return e.tmSec-t.tmSec>=1?1:-1},ty=[Qu.OK,Qu.UNSCORED,Qu.NONEUNSCORED,Qu.NOTREADY,Qu.ANNULLED],ny=[sp.DETAILED,sp.NONE],ry=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zv(e,t)}(i,e);var t,n,r,a=qv(i);function i(){var e;Wv(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qv(Kv(e=a.call.apply(a,[this].concat(n))),"state",{onlineState:null,isHideContent:!1,tsContest:{},resendBlocked:null}),Qv(Kv(e),"unlockNextTry",(function(){var t=e.state.onlineState;t&&e.setState({onlineState:Hv(Hv({},t),{},{hasNextTryLock:!1,editSolution:!0})})})),Qv(Kv(e),"printScreenSubscription",void 0),Qv(Kv(e),"hideContentDelay",void 0),Qv(Kv(e),"resendDelay",null),Qv(Kv(e),"activateResendDelay",(function(){e.resendDelay=setTimeout((function(){e.setState({resendBlocked:!1})}),3e4)})),Qv(Kv(e),"handleResendMode",(function(t){var n=e.state.resendBlocked;t?n&&!e.resendDelay&&e.activateResendDelay():(!n&&e.setState({resendBlocked:!0}),e.resendDelay&&(e.resendDelay=null))})),Qv(Kv(e),"stopPrintScreen",(function(t){var n,r,o,a=(null===(n=navigator)||void 0===n||null===(r=n.userAgentData)||void 0===r?void 0:r.platform)||(null===(o=navigator)||void 0===o?void 0:o.platform)||"unknown";if(/(Mac)/i.test(a))e.setState({isHideContent:t}),t?e.hideContentDelay=setTimeout((function(){return t&&xc.next(!1)}),6e3):clearTimeout(e.hideContentDelay);else{var i,s,l=e.state.tsContest.title;t&&(null===(i=navigator)||void 0===i||null===(s=i.clipboard)||void 0===s||s.writeText("".concat(l," ... "))),t&&xc.next(!1)}})),Qv(Kv(e),"getFractionLatex",(function(t){var n=e.props.tasksToken;return k.post("".concat(CONFIG.Api.persistentCache.url,"/math/ratio/latex"),{ratio:t},{auth_token:n})})),Qv(Kv(e),"calculateMargin",(function(){var e=document.getElementsByClassName("task")[0];if(e)if(e.classList.contains("task--grouped"))e.style.margin="";else{var t=(window.innerHeight-e.offsetHeight)/2;e.style.margin="",t>120&&(e.style.margin="".concat(t,"px auto"))}})),Qv(Kv(e),"changeAnswer",(function(t,n){e.props.changeAnswer(t,e.props.taskNum,n)})),Qv(Kv(e),"getSolutionContent",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Re()(e.props.cachedTasks[e.props.taskNum]);return t&&n.type.forEach((function(e,t,r){e===sp.DETAILED&&(n.type[t]=sp.NONE,n.answersData[t]={})})),{description:n.description,type:n.type,answersData:n.answersData}})),Qv(Kv(e),"getAnswerComponents",(function(){return{programming:Nv}})),Qv(Kv(e),"handleResendAnswer",(function(t){e.resendDelay=null,e.setState({resendBlocked:!0},(function(){return e.props.resendAnswer(t)}))})),Qv(Kv(e),"getIsEqual",(function(t){var n=e.props,r=n.onlineState,o=n.allowResend,a=n.userAnswers,i=n.savedTasks;if(o&&r.pending.length>0){var s=null==r?void 0:r.pending.filter((function(e){return e.taskId===parseInt(t)+1}));return s.length>0&&"solution"in s[0]?pr()(a[t][0].solution,s[0].solution):pr()(a[t],i[t])}return pr()(a[t],i[t])})),e}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,o,a,i,s,l,c,u,f,p,d=e.onlineState;return{onlineState:d?(n=d,r=t,i=n.solutions,s=n.pending,l=r.onlineState,c=(null==s?void 0:s.length)>0,u=(null==i?void 0:i.length)>0,f=!c&&i.some($v),p=i.some(Xv),null!=l&&l.editSolution?(o=null==l?void 0:l.editSolution,a=null==l?void 0:l.hasNextTryLock):(o=!u,a=u&&f),c&&(o=!1),{solutions:i.sort(ey),pending:s.sort(ey),hasPending:c,hasSolutionLastNotOk:f,hasSolutionOk:p,hasNextTryLock:a,editSolution:o,hasSolutions:u}):null}}}],(n=[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.calculateMargin),this.calculateMargin(),setTimeout((function(){for(var t=document.querySelectorAll(".task img"),n=0,r=Array.from(t);n<r.length;n++)r[n].addEventListener("load",e.calculateMargin)}),200);var t=Nc.getValue().tsContest,n=null!=t&&t.disableScreenshot?this.stopPrintScreen:Sc.a;this.printScreenSubscription=xc.subscribe(n),this.setState({tsContest:t})}},{key:"componentDidUpdate",value:function(e){var t;this.calculateMargin(),this.props.allowResend&&this.handleResendMode((null===(t=e.onlineState)||void 0===t?void 0:t.pending.length)>0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.calculateMargin),this.printScreenSubscription.unsubscribe(),clearTimeout(this.resendDelay)}},{key:"isTaskCanBeAnswered",value:function(){var e=this.props,t=e.taskNum,n=e.cachedTasks;return!!n[t]&&n[t].type.filter((function(e){return"none"!==e})).length>0}},{key:"getAnswersIsFilled",value:function(e){return!!e&&e.filter((function(e){return null!==e.solution&&void 0!==e.solution})).length>0}},{key:"render",value:function(){var e,t,n,r,a,i,s=this,l=this.props,c=l.metadata,u=l.userAnswers,f=l.hasErrors,p=l.savedTasks,d=l.isSavingInProgress,m=l.saveTask,h=l.nextTask,v=l.taskNum,y=l.showRightAnswer,b=l.resultData,g=l.toggleShowRightAnswer,w=l.tasksToken,_=l.onAnswerIsFilledChange,E=l.grouped,O=l.cachedTasks,k=l.isHidden,S=l.allowResend,C=this.state,j=C.onlineState,x=C.isHideContent,P=C.resendBlocked,N=C.tsContest,I=N.disableTextCopy,T=void 0!==I&&I,L=N.title,R=void 0===L?"":L,F=(null!=j?j:{}).hasPending,D=void 0!==F&&F,M=j?D&&S?"common.save_button.checking":"common.task.save_button_title_online":"common.task.save_button_title",U=O[v],G=new ot("single_task",null);G.appendStatusIf(E,"grouped"),G.appendStatusIf(!!b,"has-result-data"),G.appendStatusIf(!1!==y,"show_right_answer"),G.appendStatusIf(T,"noselect"),G.appendStatusIf(x,"hide_text_content");var B=new ot("task__text");if(B.appendStatusIf(!(null==U||null===(e=U.layout)||void 0===e||!e.inline),"inline"),!U)return o.a.createElement("div",{className:G.toString(),id:"task_".concat(v)},o.a.createElement(Jl.a,{centerOfWindow:!0}));var V,H=Gv(U.type);try{for(H.s();!(V=H.n()).done;){var W=V.value;G.appendAdditionalClasses("type_".concat(W))}}catch(e){H.e(e)}finally{H.f()}var Y=(null==b||null===(t=b.solution)||void 0===t?void 0:t.solutionToShow)&&b.solution.solutionToShow.length>0,z=!ty.includes(null==b?void 0:b.verdict)&&U.type.find((function(e){return!ny.includes(e)}))&&Y,q=!(b||null!==(n=U.layout)&&void 0!==n&&n.inline),Z=b&&!(null!==(r=U.layout)&&void 0!==r&&r.inline),K=(null==b?void 0:b.review)&&!U.type.includes("programming"),J=b&&"none"!==U.type,Q=J&&"hide"!==c.scoreExplanation&&!["noneUnscored","unscored"].includes(b.verdict),X=this.isTaskCanBeAnswered()&&!J,$=d||D;return o.a.createElement(A.q,{className:"".concat(G),id:"task_".concat(v),grow:!0},o.a.createElement("div",{className:"".concat(B)},o.a.createElement(Gh,{isSmt:!0,renderAnswers:!(null===(a=U.layout)||void 0===a||!a.inline),showResults:!!b,answerType:U.type,taskNum:v,userAnswer:u[v],answersData:U.answersData,onAnswer:this.changeAnswer,getFractionLatex:this.getFractionLatex,onAnswerIsFilledChange:_,element_content:this.getSolutionContent(),element_progress:b,taskToken:w},U.description)),q&&o.a.createElement(Jd,{isSmt:!0,AnswerComponents:this.getAnswerComponents(),onlineState:j,unlockNextTry:this.unlockNextTry,answerType:U.type,taskNum:v,userAnswer:u[v],taskToken:w,answersData:U.answersData,onAnswer:this.changeAnswer,getFractionLatex:this.getFractionLatex,onAnswerIsFilledChange:_,isSavingInProgress:d,isHidden:k,isLocked:$,allowResend:S}),y&&o.a.createElement(Wh,{isSmt:!0,renderInDescription:!(null===(i=U.layout)||void 0===i||!i.inline),elementProgress:b,elementContent:this.getSolutionContent(!0),onClose:function(){return g(v)}}),Z&&o.a.createElement(Nh,{isSmt:!0,answerType:U.type,element_content:this.getSolutionContent(),taskToken:w,element_progress:b,isHidden:k}),o.a.createElement(A.c,null),o.a.createElement("div",{className:"task__footer"},J&&o.a.createElement(o.a.Fragment,null,Q&&o.a.createElement(nl,{k:"common.task.out_of",id:"value",values:{value_1:b.score,value_2:b.maxScore}}),o.a.createElement(Xh,{answerType:U.type,verdict:b.verdict}),o.a.createElement(A.c,null),o.a.createElement(A.e,null),z&&o.a.createElement(ev,{answerType:U.type,isShowRightAnswer:!1!==y,onToggleShowRightAnswer:function(){return g(v)}})),X&&o.a.createElement(o.a.Fragment,null,o.a.createElement(lv,{onlineState:j,isSavingInProgress:d,label:M,allowResend:S}),o.a.createElement(A.c,null),o.a.createElement(A.e,null),o.a.createElement(tv,{onlineState:j,hasSavedAnswer:this.getAnswersIsFilled(p[v]),answersIsFilled:this.getAnswersIsFilled(u[v]),answersHasError:f,answersIsEqual:this.getIsEqual(v),isSavingInProgress:d,onSave:function(){return m(v)},onNext:function(){return h(v)},unlockNextTry:this.unlockNextTry,allowResend:S,resendBlocked:P,onResend:function(){return s.handleResendAnswer(v)}}))),K&&o.a.createElement(Mv,{review:b.review}),x&&o.a.createElement("div",{className:"task__text--printsrn"},o.a.createElement("span",{className:"task__title"},R," ...")))}}])&&Yv(t.prototype,n),r&&Yv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);function oy(e){return(oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ay(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sy(e,t){return(sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ly(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fy(e);if(t){var o=fy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cy(this,n)}}function cy(e,t){if(t&&("object"===oy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uy(e)}function uy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fy(e){return(fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function py(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}(i,e);var t,n,r,a=ly(i);function i(){var e;ay(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return py(uy(e=a.call.apply(a,[this].concat(n))),"state",{remain:0}),py(uy(e),"timerID",void 0),py(uy(e),"tick",(function(){var t=e.props,n=t.onTimeout,r=t.issuedUntil,o=Object(u.d)(),a=(r.getTime()-o.getTime())/1e3/60;if(a<=0)return clearInterval(e.timerID),void n();e.setState({remain:Math.ceil(a)})})),py(uy(e),"render",(function(){return o.a.createElement(nl,{k:"common.countdown.duration",id:"value",values:e.getValues(e.state)})})),py(uy(e),"formatValueStr",(function(e){return 0===e?"00":e<10?"0".concat(e):"".concat(e)})),py(uy(e),"getValues",(function(t){var n=t.remain;return{number:n,minutes:e.formatValueStr(n%60),hours:e.formatValueStr((n-n%60)/60)}})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.timerID=setInterval(this.tick,1e3),this.tick()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}}])&&iy(t.prototype,n),r&&iy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);function my(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return hy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hy(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function hy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vy=function(e){var t,n=e.grouped,r=e.text,a=e.taskNum,i=e.buttonStates,s=e.selectTask,l=e.bgColor,c=e.navType,u="task_selector__task",f=!1,p=my(i);try{for(p.s();!(t=p.n()).done;){var d=t.value;"active"===d&&n||(["result_not_right","result_partial_right","result_right"].includes(d)&&(f=!0),u+=" task_selector__task--".concat(d))}}catch(e){p.e(e)}finally{p.f()}var m=function(){return null};s&&(m=s);var h={};return l&&(h.background=l),c&&("dotted"===c&&f&&(c="dotted-result"),u+=" task_selector__task--".concat(c)),o.a.createElement("div",{onClick:function(){return m(a)},style:h,className:u},i.includes("pending")&&o.a.createElement("div",{className:"task_selector__pending-progress"},o.a.createElement(Jl.a,{centerOfWindow:!0,white:!0})),r)};function yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function by(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yy(Object(n),!0).forEach((function(t){Iy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gy(e){return function(e){if(Array.isArray(e))return Ey(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||_y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _y(e,t){if(e){if("string"==typeof e)return Ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ey(e,t):void 0}}function Ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oy(e){return(Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cy(e,t){return(Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ny(e);if(t){var o=Ny(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xy(this,n)}}function xy(e,t){if(t&&("object"===Oy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Py(e)}function Py(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ny(e){return(Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ay=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}(i,e);var t,n,r,a=jy(i);function i(){var e;ky(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Iy(Py(e=a.call.apply(a,[this].concat(n))),"state",{inGroupActiveTask:null}),Iy(Py(e),"resizeObserver",new _u.a((function(){return e.updateActiveElementState()}))),Iy(Py(e),"task_num",100),Iy(Py(e),"updateActiveElementState",(function(){if(!e.props.isOnLoading){var t=null,n=window.scrollY,r=window.innerHeight,o=e.props.selectedGroup,a=e.state.inGroupActiveTask;if(o){for(var i=0,s=Object.keys(o);i<s.length;i++){var l=s[i],c=document.querySelector("#task_".concat(l));if(!c)return void e.setState({inGroupActiveTask:null});c.offsetTop<n+r/3&&(t=l)}a!==t&&e.setState({inGroupActiveTask:t})}else null!==a&&e.setState({inGroupActiveTask:null})}})),Iy(Py(e),"calculateScrollTop",(function(){for(var e=document.querySelector(".task_selector__task_selector_wrapper"),t=document.querySelectorAll(".task_selector__tasks_wrapper"),n=document.querySelector(".task_selector__task--active"),r=document.querySelector(".task_selector__group--active"),o=n?n.offsetParent:r.offsetParent,a=0,i=Array.from(t);a<i.length;a++){var s=i[a];!n&&r&&(n=r);var l=parseInt(getComputedStyle(n.offsetParent).getPropertyValue("padding-top"));s.scrollTop=n.offsetTop-l}e.scrollTop=o.offsetTop})),Iy(Py(e),"tmSecSort",(function(e,t){return e.tmSec-t.tmSec})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=document.querySelector(".task_selector__task_selector_wrapper"),t=document.querySelectorAll(".task_selector__section");window.addEventListener("scroll",this.updateActiveElementState),e.addEventListener("mouseenter",(function(){for(var n=0,r=0,o=Array.from(t);r<o.length;r++){var a=o[r],i=a.querySelector(".task_selector__tasks_wrapper");if(i){var s=i.scrollHeight;i.style.height="".concat(s,"px");var l=parseInt(getComputedStyle(a).getPropertyValue("padding-top")),c=parseInt(getComputedStyle(a).getPropertyValue("padding-top"));n+=i.scrollHeight+l+c}}e.style.height="".concat(n,"px")}),!1),e.addEventListener("mouseleave",(function(){for(var n=0,r=Array.from(t);n<r.length;n++)r[n].querySelector(".task_selector__tasks_wrapper").style.height="",e.style.height=""}),!1),this.resizeObserver.observe(document.body),this.calculateScrollTop(),this.updateActiveElementState()}},{key:"componentDidUpdate",value:function(e){this.calculateScrollTop(),e.selectedTaskNum===this.props.selectedTaskNum&&e.isOnLoading===this.props.isOnLoading||this.updateActiveElementState()}},{key:"componentWillUnmount",value:function(){this.resizeObserver.unobserve(document.body),window.removeEventListener("scroll",this.updateActiveElementState)}},{key:"handleHoverOff",value:function(){var e=window.navigator.userAgent;-1===e.indexOf("MSIE")&&-1===e.indexOf("Trident/")||this.calculateScrollTop()}},{key:"getFirstTaskNumInGroup",value:function(e){var t=this.props.tasks;if(void 0===this.props.tasks[e])for(var n=e;!(t[n]||--n<0);)if("object"===Oy(this.props.tasks[n])&&this.props.tasks[n][e]){e=n;break}return e}},{key:"renderTaskSelectorLinks",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=[];for(var i in e){for(var s=parseInt(i),l=e[s],c=r,u=0,f=Object.entries(e);u<f.length;u++){var p=wy(f[u],2),d=p[0],m=p[1];if(parseInt(d)===s)break;"object"===Oy(m)?c+=Object.keys(m).length:c+=1}if("object"!==Oy(l)||n){var h=[];s===this.props.selectedTaskNum&&h.push("active"),this.state.inGroupActiveTask===i&&h.push("active-in-group");var v=null;if(this.props.resultsData)if(n){var y=this.getFirstTaskNumInGroup(s);v=this.props.resultsData[y][s]}else this.props.resultsData[s]&&(v=this.props.resultsData[s]);var b=this.props,g=b.onlineState,w=b.jwt,_=g&&fc(w,"".concat(s))?this.getLastOnlineSolution(g,s):null;if(_){var E=_,O=E.verdict,k=E.pending;"ok"===O?h.push("result_right"):k&&h.push("pending"),h.push("saved")}else if(v){if(v.verdict)switch(v.verdict){case Qu.OK:h.push("result_right");break;case Qu.NONE:case Qu.WRONG:h.push("result_not_right");break;case Qu.PARTLY:h.push("result_partial_right");break;case Qu.ANNULLED:h.push("result_annulled");break;case Qu.UNSCORED:h.push("result_unscored")}v.answer&&h.push("saved")}else if(void 0!==this.props.savedTasks[s]&&null!==this.props.savedTasks[s]){var S=this.props.savedTasks[s].filter((function(e){return null!==e.solution&&void 0!==e.solution}));S.length>0?h.push("saved"):h.push("not_saved")}else h.push("not_saved");var C=this.props.bgColor,j=this.props.navType;t.metadata&&(t.metadata.navButtonColor&&(C=t.metadata.navButtonColor),t.metadata.navType&&(j=t.metadata.navType)),c++,a.push(o.a.createElement(vy,{selectTask:this.props.selectTask,grouped:n,taskNum:s,key:s,text:c.toString(),navType:j,bgColor:C,buttonStates:h}))}else{var x="task_selector__group";s===this.props.selectedTaskNum&&(x+=" task_selector__group--active"),a.push(o.a.createElement("span",{className:x,key:s},this.renderTaskSelectorLinks(l,t,!0,c)))}}return a}},{key:"render",value:function(){var e=this,t=this.props,n=t.tasks,r=t.bgColor,a=t.taskSelectorColor,i=t.resultsData,s=t.hideScoreExplanation,l=t.sections,c=t.selectedSection,u=t.toggleShowRightAnswer,f=t.onTimeout,p=t.selectedTaskNum,d=t.userScore,m=t.showSection,h=t.onResultClick,v=t.issuedUntil,y={},b={};r&&(y.background=r),a&&(b.color=a);var g=new ot("task_selector");return(l.length>1||1===l.length&&l[0].name)&&g.appendStatus("left_aligned"),o.a.createElement("div",{className:g.toString(),style:y},o.a.createElement("div",{className:"task_selector__answers_overlay",onClick:u}),o.a.createElement("div",{className:"task_selector__time"},!i&&o.a.createElement(dy,{issuedUntil:v,onTimeout:f})),d&&!s&&o.a.createElement("div",{className:"task_selector__score",style:b},o.a.createElement(nl,{k:"common.task_selector.total",id:"value",values:{number:d}})),o.a.createElement("div",{className:"task_selector__task_selector_wrapper",onMouseLeave:this.handleHoverOff.bind(this),onTransitionEnd:this.calculateScrollTop},l.map((function(t,a){var s=Object.keys(n).reduce((function(e,r){return r>=t.from&&r<=t.to&&(e[r]=n[r]),e}),{}),u={},f=r;t.metadata&&t.metadata.navButtonColor&&(f=t.metadata.navButtonColor,u.background=f);var d=["section"];t.at&&c===t.at-1&&d.push("active");var v="task_selector__task task_selector__task--result";return null===c&&-1===p&&(v+=" task_selector__task--active"),o.a.createElement("div",{key:a,className:"task_selector__section",style:u},o.a.createElement("div",{className:"task_selector__tasks_wrapper"},!!t.name&&o.a.createElement(vy,{selectTask:function(){return m(t.from)},text:t.name,bgColor:f,buttonStates:d}),e.renderTaskSelectorLinks(s,t),a===l.length-1&&!i&&o.a.createElement("div",{onClick:h,className:v})))}))))}},{key:"getLastOnlineSolution",value:function(e,t){var n=e.solutions,r=e.pending,o=[].concat(gy(n.map((function(e){return by(by({},e),{},{pending:!1})}))),gy(r.map((function(e){return by(by({},e),{},{pending:!0})})))).filter((function(e){return e.taskId===t+1})).sort(this.tmSecSort);return o[o.length-1]||null}}])&&Sy(t.prototype,n),r&&Sy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);function Ty(e){return(Ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ly(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ry(e,t){return(Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Fy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=My(e);if(t){var o=My(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dy(this,n)}}function Dy(e,t){if(t&&("object"===Ty(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function My(e){return(My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Uy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ry(e,t)}(i,e);var t,n,r,a=Fy(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={isLoading:!1,remain:0,issuedUntil:e.issuedUntil,task_count:e.task_count,answer_count:e.answer_count},t}return t=i,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.answer_count;this.setState({answer_count:t})}},{key:"componentDidMount",value:function(){var e=this;this.calculateMargin(),window.addEventListener("resize",this.calculateMargin),this.timerID=setInterval((function(){return e.tick()}),1e3),this.tick()}},{key:"componentDidUpdate",value:function(){this.calculateMargin()}},{key:"calculateMargin",value:function(){var e=document.getElementsByClassName("task")[0],t=(window.innerHeight-e.offsetHeight)/2;e.style.margin="",t>120&&(e.style.margin=t+"px auto")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.calculateMargin),clearInterval(this.timerID)}},{key:"tick",value:function(){var e=(this.props.issuedUntil-Object(u.d)())/1e3/60;if(e<=0)return clearInterval(this.timerID),void this.props.onTimeout();this.setState({remain:Math.ceil(e)})}},{key:"onSend",value:function(){this.setState({isLoading:!0}),this.props.onSend()}},{key:"render",value:function(){if(this.state.isLoading)return o.a.createElement("div",{className:"task task--result"},o.a.createElement(Ic,{centerOfWindow:!0}));var e=Math.floor((Object(u.d)()-this.props.issuedAt)/1e3/60);e<0&&(e=0);var t=o.a.createElement(nl,{k:"common.result.title_not_all",id:"value"});return this.state.task_count===this.state.answer_count&&(t=o.a.createElement(nl,{k:"common.result.title_all",id:"value"})),o.a.createElement("div",{className:"task task--result"},o.a.createElement("div",{className:"task__remain"},o.a.createElement(nl,{k:"common.result.time_left",id:"value",values:{number:this.state.remain,plural:o.a.createElement(rl,{k:"common.format_plural.minutes",value:this.state.remain}),left:o.a.createElement(rl,{k:"common.result.left",value:this.state.remain})}})),o.a.createElement("div",{className:"task__title task__title--result"},t),o.a.createElement("div",{className:"status_row"},o.a.createElement("div",{className:"status_row_item"},o.a.createElement("div",{className:"status_row_title"},o.a.createElement(nl,{k:"common.result.tasks",id:"value"})),o.a.createElement("div",{className:"status_row_text"},this.state.task_count)),o.a.createElement("div",{className:"status_row_item"},o.a.createElement("div",{className:"status_row_title"},o.a.createElement(nl,{k:"common.result.answers",id:"value"})),o.a.createElement("div",{className:"status_row_text"},this.state.answer_count)),o.a.createElement("div",{className:"status_row_item"},o.a.createElement("div",{className:"status_row_title"},o.a.createElement(nl,{k:"common.result.time",id:"value"})),o.a.createElement("div",{className:"status_row_text"},o.a.createElement(nl,{k:"common.result.duration",id:"value",values:{number:e}})))),o.a.createElement("div",{className:"task__summary"},o.a.createElement(nl,{k:"common.result.summary",id:"value",values:{br:o.a.createElement("br",null)}})),o.a.createElement("div",{className:"task__send_btn",onClick:this.onSend.bind(this)},o.a.createElement(nl,{k:"common.result.send_for_examination",id:"value"})),o.a.createElement("div",{className:"task__send_cancel_btn",onClick:this.props.onCancelSave},o.a.createElement(nl,{k:"common.result.do_not_send",id:"value"})))}}])&&Ly(t.prototype,n),r&&Ly(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);function Gy(e){return(Gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function By(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vy(e,t){return(Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Hy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yy(e);if(t){var o=Yy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wy(this,n)}}function Wy(e,t){if(t&&("object"===Gy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yy(e){return(Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vy(e,t)}(i,e);var t,n,r,a=Hy(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={popupState:"hidden",task_count:0,answer_count:0},t}return t=i,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.state,n=e.task_count,r=e.answer_count,o=e.issuedAt;this.setState({popupState:t,task_count:n,answer_count:r,issuedAt:o})}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.issuedAt,r=this.state,a=r.task_count,i=r.answer_count,s=r.popupState,l=Object(u.d)()-n,c=Math.floor(l/1e3/60);return o.a.createElement("div",{className:"timeout-popup timeout-popup--"+s},o.a.createElement("div",{className:"timeout-popup__overlay"}),o.a.createElement("div",{className:"timeout-popup__body"},o.a.createElement("div",{className:"timeout-popup__remain"},o.a.createElement(nl,{k:"common.timeout_popup.remain",id:"value"})),o.a.createElement("div",{className:"timeout-popup__title"},o.a.createElement(nl,{k:"common.timeout_popup.out_of_time",id:"value"})),o.a.createElement("div",{className:"status_row"},o.a.createElement("div",{className:"status_row_item"},o.a.createElement("div",{className:"status_row_title"},o.a.createElement(nl,{k:"common.timeout_popup.tasks",id:"value"})),o.a.createElement("div",{className:"status_row_text"},a)),o.a.createElement("div",{className:"status_row_item"},o.a.createElement("div",{className:"status_row_title"},o.a.createElement(nl,{k:"common.timeout_popup.answers",id:"value"})),o.a.createElement("div",{className:"status_row_text"},i)),o.a.createElement("div",{className:"status_row_item"},o.a.createElement("div",{className:"status_row_title"},o.a.createElement(nl,{k:"common.timeout_popup.time",id:"value"})),o.a.createElement("div",{className:"status_row_text"},o.a.createElement(nl,{k:"common.timeout_popup.duration",id:"value",values:{number:c}})))),o.a.createElement("div",{className:"timeout-popup__condition"},o.a.createElement(nl,{k:"common.timeout_popup.text",values:{br:o.a.createElement("br",null)},id:"value"})),o.a.createElement("div",{className:"timeout-popup__buttons"},o.a.createElement("div",{className:"timeout-popup__button",onClick:t},o.a.createElement(nl,{k:"common.timeout_popup.got_it",id:"value"})))))}}])&&By(t.prototype,n),r&&By(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);n(1279);function qy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ky=function(e){var t=e.tsUser,n=e.renderTaskPage,a=e.isExceptionAction,s=qy(Object(r.useState)(!1),2),l=s[0],c=s[1],u=qy(Object(r.useState)(!1),2),f=u[0],p=u[1];return i.a.createPortal(o.a.createElement("div",{className:"user_profile_confirmation_modal"},o.a.createElement("div",{className:"user_profile_confirmation_modal__wrapper"},a&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"user_profile_confirmation_modal__item"},o.a.createElement("div",{className:"user_profile_confirmation_modal__title"},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.title"})),o.a.createElement("div",{className:"user_profile_confirmation_modal__caption"},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.caption"}))),o.a.createElement("div",{className:"user_profile_confirmation_modal__item"},o.a.createElement("button",{className:"user_profile_confirmation_modal__button user_profile_confirmation_modal__button--main",onClick:function(){return window.location.reload()}},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.refresh"})))),!a&&o.a.createElement(o.a.Fragment,null,!l&&!f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"user_profile_confirmation_modal__item"},o.a.createElement("div",{className:"user_profile_confirmation_modal__title"},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.is_not_me_title"}))),o.a.createElement("div",{className:"user_profile_confirmation_modal__user_name"},o.a.createElement("div",{className:"user_profile_confirmation_modal__user_name_wrapper"},null==t?void 0:t.userName)),o.a.createElement("div",{className:"user_profile_confirmation_modal__item"},o.a.createElement("button",{className:"user_profile_confirmation_modal__button user_profile_confirmation_modal__button--main",onClick:n},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.confirm"})),o.a.createElement("button",{className:"user_profile_confirmation_modal__button",onClick:function(){return p(!0)}},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.typo"})),o.a.createElement("button",{className:"user_profile_confirmation_modal__button",onClick:function(){return c(!0)}},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.it_is_not_me"})))),l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"user_profile_confirmation_modal__item"},o.a.createElement("div",{className:"user_profile_confirmation_modal__title"},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.mistake"})),o.a.createElement("div",{className:"user_profile_confirmation_modal__caption"},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.do_not_solve"}))),o.a.createElement("div",{className:"user_profile_confirmation_modal__item"},o.a.createElement("button",{className:"user_profile_confirmation_modal__button user_profile_confirmation_modal__button--main",onClick:function(){return ul.logout()}},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.exit"}))),o.a.createElement("div",{className:"user_profile_confirmation_modal__item"},o.a.createElement("div",{className:"user_profile_confirmation_modal__descr"},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.check"})),o.a.createElement("button",{className:"user_profile_confirmation_modal__button user_profile_confirmation_modal__button--small",onClick:function(){return c(!1)}},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.back"})))),f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"user_profile_confirmation_modal__item"},o.a.createElement("div",{className:"user_profile_confirmation_modal__title"},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.keep_solving"})),o.a.createElement("div",{className:"user_profile_confirmation_modal__caption"},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.ask_for_help"}))),o.a.createElement("div",{className:"user_profile_confirmation_modal__item"},o.a.createElement("button",{className:"user_profile_confirmation_modal__button user_profile_confirmation_modal__button--main",onClick:n},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.to_olympiad"}))),o.a.createElement("div",{className:"user_profile_confirmation_modal__item"},o.a.createElement("div",{className:"user_profile_confirmation_modal__descr"},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.check_again"})),o.a.createElement("button",{className:"user_profile_confirmation_modal__button user_profile_confirmation_modal__button--small",onClick:function(){return p(!1)}},o.a.createElement(nl,{id:"value",k:"common.profile_confirmation.back"}))))))),document.body)};function Jy(e){return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xy(e,t){return(Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nb(e);if(t){var o=nb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eb(this,n)}}function eb(e,t){if(t&&("object"===Jy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tb(e)}function tb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nb(e){return(nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ob=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}(i,e);var t,n,r,a=$y(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),rb(tb(t=a.call(this,e)),"timerID",0),rb(tb(t),"tick",(function(){var e=(t.props.issuedUntil-Object(u.d)())/1e3/60;if(e<=0)return clearInterval(t.timerID),void t.props.onTimeout();t.setState({remain:Math.ceil(e)})})),t.state={remain:0},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.timerID=setInterval(this.tick,1e3),this.tick(),this.calculateMargin()}},{key:"componentDidUpdate",value:function(){this.calculateMargin()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"calculateMargin",value:function(){var e=document.getElementsByClassName("task")[0];if(!e)return!1;if(e.classList.contains("task--grouped"))e.style.margin="";else{var t=(window.innerHeight-e.offsetHeight)/2;e.style.margin="",t>120&&(e.style.margin=t+"px auto")}}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.isResultPage;return new ot("task__section_description").appendStatusIf(t.description&&t.description.length>120,"left_aligned"),o.a.createElement("div",{className:"task task--section"},!n&&o.a.createElement("div",{className:"task__remain"},o.a.createElement(nl,{k:"common.section.time_left",id:"value",values:{number:this.state.remain,plural:o.a.createElement(rl,{k:"common.format_plural.minutes",value:this.state.remain})}})),o.a.createElement("div",{className:"task__section_content"},o.a.createElement("div",{className:"task__title task__title--section"},t.name),o.a.createElement("div",{className:"task__section_description"},o.a.createElement(Pl,null,t.description))),o.a.createElement("div",{className:"task__blue_btn task__blue_btn--centered",onClick:this.props.onNext},!n&&o.a.createElement(nl,{k:"common.section.forward",id:"value"}),n&&o.a.createElement(nl,{k:"common.section.next",id:"value"})))}}])&&Qy(t.prototype,n),r&&Qy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component),ab=n(1381),ib=n(271),sb=n(611),lb=function(e){var t=e.inputName,n=e.tpl,r=e.inputValue,a=e.onChange,i=e.locale,s=e.type,l=e.inputClass,c=Object(T.d)({tpl:n,id:"value",locale:i});return o.a.createElement("input",{type:s,placeholder:c,name:t,value:r,className:l,onChange:a})};lb.defaultProps={onChange:function(){},inputName:"",inputClass:"",type:"text"};var cb=Object(T.e)(lb),ub=Object(tl.a)(cb,el),fb=function(e){return parseInt(e,10)},pb=new Kl.a("standings-page"),db=["className","sort","onSort","field","children"];function mb(){return(mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var vb=function(e){var t=e.up,n=e.down;return o.a.createElement(A.q,{className:pb.el("sort-icon")},o.a.createElement("span",{className:pb.el("sort-icon-up")},t),o.a.createElement("span",{className:pb.el("sort-icon-down")},n))},yb=function(e){var t=e.field,n=e.sort,r=e.onSort;return o.a.createElement(Bt.a,{size:"xs",mode:"text",className:pb.el("cell-sort")+pb.el("cell-sort").mod("dir",null!==n&&null!=n&&n.dir?null==n?void 0:n.dir:"unset"),onAction:function(){return r((null==n?void 0:n.field)===t?"asc"===(null==n?void 0:n.dir)?"desc":"asc":(null==n?void 0:n.dir)||"desc")}},null!==n&&(null==n?void 0:n.field)===t&&null!=n&&n.dir?"asc"===(null==n?void 0:n.dir)?o.a.createElement(vb,{up:"▲",down:"▽"}):o.a.createElement(vb,{up:"△",down:"▼"}):o.a.createElement(vb,{up:"△",down:"▽"}))},bb=function(e){var t=e.className,n=void 0===t?"":t,r=e.sort,a=e.onSort,i=e.field,s=e.children,l=hb(e,db);return o.a.createElement(A.b,mb({},l,{className:n+" "+pb.el("cell")}),o.a.createElement(A.d,{center:!0,className:pb.el("cell-label")},s,void 0!==r?o.a.createElement(yb,{sort:r,onSort:a,field:i}):null))};n(1281);function gb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _b={field:"score",dir:"desc"},Eb={user:null},Ob=function(){return o.a.createElement(A.d,{className:pb.el("absnoresultwarning")},o.a.createElement(nl,{k:"olympiad.task-page-tab.no-result-warning",id:"value",values:{br:o.a.createElement("br",null)}}))},kb=function(e){var t,n=e.sort,r=e.onSortField,a=e.filter,i=e.onUserFilter,s=e.current,l=e.numtasklabel,c=e.toUserPage,u=e.prevPlace,f=e.header,p=e.tasksCount,d=e.width,m=e.TailGapRef,h=e.headerPosition,v=e.user,y=(v=void 0===v?{}:v).name,b=v.placeFrom,g=v.placeTo,w=v.score,_=v.tasks;return o.a.createElement(A.l,{className:pb.el("result-row")+pb.el("result-row").bod("current",s)+pb.el("result-row").bod("header",f)+pb.el("result-row").bod("header-position",h)+pb.el("result-row").bod("place-delim",u&&u!==b),style:{minWidth:d}},o.a.createElement(bb,{sticky:!0,className:pb.el("result-place")},f?o.a.createElement(nl,{k:"olympiad.task-page-tab.place",id:"value"}):_?g>1&&b!==g?"".concat(b,"-").concat(g):b:"–"),o.a.createElement(bb,{sticky:!0,className:pb.el("result-name")+pb.el("result-name").bod("current",s)+pb.el("result-name").bod("link",!!_&&!!c),onClick:_?c:void 0},f?o.a.createElement(A.d,{center:!0},"string"!=typeof a.user?o.a.createElement(Bt.a,{className:pb.el("filter-button"),icon:"filter_alt",iconPlace:"end",size:"xs",mode:"text",onAction:function(){return i("user","")}},o.a.createElement(nl,{k:"olympiad.task-page-tab.participant",id:"value"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(ub,{k:"olympiad.task-page-tab.participant",inputClass:pb.el("filter-input"),defaultValue:a.user,onChange:function(e){var t=e.currentTarget.value;return i("user",t.trim())}}),o.a.createElement(A.f,null),o.a.createElement(Bt.a,{className:pb.el("filter-clear"),icon:"clear",size:"xs",mode:"text",onAction:function(){return i("user",null)}}))):y),f&&!1,o.a.createElement(bb,{sticky:!0,center:!0,className:pb.el("result-col-scroll-left")+pb.el("result-col-scroll-left").bod("hide",!_&&!f)}),o.a.createElement(bb,{sort:f?n:void 0,onSort:r&&r("score"),field:"score",sticky:!0,"data-numtasklabel":l,className:pb.el("result-total")+pb.el("result-total").bod("no-results",!f&&!_)},f?o.a.createElement(nl,{k:"olympiad.task-page-tab.amount",id:"value"}):_?w:o.a.createElement(Ob,null)),(t=p,Object.keys(new Array(t).fill(void 0)).map(fb)).map((function(e){return o.a.createElement(bb,{key:e,className:pb.el("result-score"),sort:f?n:void 0,onSort:r&&r("".concat(e+1)),field:"".concat(e+1)},f?"".concat(e+1):_?_["".concat(e+1)]:"")})),o.a.createElement(A.c,{divRef:m}),o.a.createElement(bb,{center:!0,sticky:!0,className:pb.el("result-col-scroll-right")+pb.el("result-col-scroll-right").bod("hide",!_&&!f)}))},Sb=function(e){var t=e.k,n=e.width;return o.a.createElement(A.l,{style:{minWidth:n},className:pb.el("result-row")},o.a.createElement(bb,{sticky:!0},o.a.createElement("h4",{className:pb.el("header")},o.a.createElement(nl,{k:t,id:"value"}))),o.a.createElement(A.c,null))},Cb=pb.el("table").mod("scroll","left").trim(),jb=pb.el("table").mod("scroll","right").trim(),xb=pb.el("table").mod("scroll","both").trim(),Pb=function(){return o.a.createElement(A.d,{center:!0,className:pb.el("noresult")},o.a.createElement("div",{className:pb.el("fixed")},o.a.createElement(nl,{k:"olympiad.task-page-tab.no-result",id:"value",values:{br:o.a.createElement("br",null)}})))},Nb=function(){return o.a.createElement(A.d,{center:!0,className:pb.el("noresult")},o.a.createElement("div",{className:pb.el("fixed")},o.a.createElement(nl,{k:"olympiad.task-page-tab.no-filtered-result",id:"value",values:{br:o.a.createElement("br",null)}})))},Ib=function(e){var t=e.loading,n=e.onUpdate;return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.d,{className:pb.el("updatebutton")},o.a.createElement(Bt.a,{icon:"refresh",mode:"primary",size:"s",loading:t,onAction:n},o.a.createElement(nl,{k:"olympiad.task-page-tab.refresh",id:"value",values:{br:o.a.createElement("br",null)}}))),o.a.createElement(A.e,null))},Ab=function(e){var t=e.token,n=e.userName,a=e.onTimeout,i=gb(Object(r.useState)(0),2),s=i[0],c=i[1],u=gb(Object(r.useState)(0),2),f=u[0],p=u[1],d=gb(Object(r.useState)(!1),2),m=d[0],h=d[1],v=gb(Object(r.useState)(!1),2),y=v[0],b=v[1],g=gb(Object(r.useState)(),2),w=g[0],_=g[1],E=gb(Object(r.useState)(20),2),O=E[0],k=E[1],S=gb(Object(r.useState)(0),2),C=S[0],j=S[1],x=gb(Object(r.useState)(0),2),P=x[0],N=x[1],I=gb(Object(r.useState)(0),2),L=I[0],R=I[1],F=gb(Object(r.useState)(Eb),2),D=F[0],M=F[1],U=gb(Object(r.useState)(_b),2),G=U[0],B=U[1],V=gb(Object(r.useState)([]),2),H=V[0],W=V[1],Y=Object(r.useRef)(null),z=Object(r.useRef)(null),q=Object(ib.a)(),Z=function(){var e=Y.current,t=z.current;if(e){var n=e.scrollLeft,r=e.scrollWidth,o=e.offsetWidth,a=e.classList,i=t.scrollWidth,s=0===n?r>o?Cb:"":r-n===o?jb:xb;a.remove(Cb),a.remove(jb),a.remove(xb),s&&a.add(s),p(r-i)}};Object(r.useEffect)((function(){var e=Object(ab.a)(Ql.a,Xl.a).subscribe(Z);return function(){e.unsubscribe()}}),[""]),Object(r.useEffect)(Z,[null==Y?void 0:Y.current,Y]),Object(r.useEffect)((function(){if(!m){h(!0);var e=y?{sessionId:w.id}:{page:C,size:O,sort:G,filter:D.user?D:void 0};(r=t,o=e,l()({method:"POST",url:"".concat(hc(),"/standings"),headers:mc(r),data:o})).then((function(e){var t=e.data||{},r=t.data,o=t.tasksCount,a=t.user,i=t.pager,s=i.total,l=i.page;R(o),W(r),N(s),_(a||{name:n,placeTo:0,placeFrom:0}),y&&(j(l),k(O))})).catch((function(e){401===e.response.status&&a()})).finally((function(){b(!1),h(!1)}))}var r,o}),[C,O,G&&(null==G?void 0:G.field),G&&(null==G?void 0:G.dir),s,D.user,y]);var K=Object(T.d)({tpl:el.olympiad["task-page-tab"].numtasklabel,id:"value",locale:q});return o.a.createElement(A.q,{className:pb},m&&o.a.createElement(Jl.a,{centerOfWindow:!0}),(!!w||H.length)&&o.a.createElement(A.q,{className:pb.el("panel")},o.a.createElement(Ib,{loading:m,onUpdate:function(){return c(s+1)}}),o.a.createElement(A.o,{className:pb.el("table")+Cb,divRef:Y},w&&o.a.createElement(Sb,{k:"olympiad.task-page-tab.your-position",width:f}),w&&o.a.createElement(kb,{width:f,current:!0,user:w,tasksCount:L,toUserPage:function(){M({user:null}),b(!0)},headerPosition:!0}),o.a.createElement(Sb,{k:"olympiad.task-page-tab.all-participants",width:f}),o.a.createElement(kb,{width:f,sort:G,filter:D,tasksCount:L,numtasklabel:K,header:!0,TailGapRef:z,onSortField:function(e){return function(t){m||B({field:e,dir:t})}},onUserFilter:function(e,t){M(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t)),j(0)}}),P>0&&H.length>0?H.map((function(e,t){var n;return o.a.createElement(kb,{width:f,current:w&&w.id===e.id,prevPlace:t>0?null===(n=H[t-1])||void 0===n?void 0:n.placeFrom:void 0,user:e,tasksCount:L,key:t})})):D&&null!=D&&D.user?o.a.createElement(Nb,null):o.a.createElement(Pb,null)),P>O&&H.length>0&&o.a.createElement(sb.a,{page:C,size:O,total:P,onPageChange:function(e){j(e)}})))},Tb=(n(1282),new Kl.a("oversize-error-popup")),Lb=function(e){var t=e.onClose;return o.a.createElement(A.q,{className:Tb.el("overlay"),center:!0,align:A.a.center},o.a.createElement(A.q,{className:Tb,align:A.a.center},o.a.createElement("h3",{className:Tb.el("title")},o.a.createElement(nl,{k:"common.oversize_popup.title"})),o.a.createElement("p",{className:Tb.el("description")},o.a.createElement(nl,{k:"common.oversize_popup.description"})),o.a.createElement(Bt.a,{className:"".concat(Tb.el("button")),size:"l",mode:"primary",onAction:t},o.a.createElement(nl,{k:"common.oversize_popup.got_it"}))))};n(1283),n(1284);function Rb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||Hb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Db(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fb(Object(n),!0).forEach((function(t){Qb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mb=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var m={};s(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=d.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Bb(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,s(y,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Ub(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Gb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ub(a,r,o,i,s,"next",e)}function s(e){Ub(a,r,o,i,s,"throw",e)}i(void 0)}))}}function Bb(e){return(Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vb(e){return function(e){if(Array.isArray(e))return Wb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hb(e,t){if(e){if("string"==typeof e)return Wb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wb(e,t):void 0}}function Wb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zb(e,t){return(zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jb(e);if(t){var o=Jb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zb(this,n)}}function Zb(e,t){if(t&&("object"===Bb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kb(e)}function Kb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jb(e){return(Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ql()({});var Xb=new Kl.a("task_page"),$b=function(){return.5-Math.random()},eg=function(e){return Object.values(e).filter((function(e){return void 0!==e})).reduce((function(e,t){return e+(function(e){return e.some((function(e){var t=e.solution;return null!=t}))}(t)?1:0)}),0)},tg=function(e){return new Set(e.map((function(e){return e.taskId}))).size},ng=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zb(e,t)}(c,e);var t,n,r,a,s,l=qb(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Qb(Kb(t=l.call(this,e)),"setOnlineTabTasks",(function(){t.setState({onlineTab:"tasks"})})),Qb(Kb(t),"setOnlineTabStandings",(function(){t.setState({onlineTab:"standings"})})),Qb(Kb(t),"readOnlinePolling",(function(e){var n={solutions:e.solutions,pending:e.pending};t.setState({onlineState:n})})),Qb(Kb(t),"contentOnLoading",[]),Qb(Kb(t),"subscriptions",null),Qb(Kb(t),"changeAnswer",(function(e,n,r){var o=t.state,a=o.user_answers,i=o.selected_task_num;a[n=n||i]=e,t.setState({user_answers:a},r)})),Qb(Kb(t),"showSection",(function(e){window.scrollTo(0,0),t.setState({selected_task_num:-1,hasPrevTask:0!==e,show_result:!1,selectedSection:e})})),Qb(Kb(t),"scrollToTask",(function(e){var t=document.getElementById("task_".concat(e)),n=document.querySelector(".single_task");if(t){var r=t.offsetTop,o=t.parentElement.offsetTop,a=t!==n?"smooth":"auto";try{window.scrollTo({top:r,behavior:a})}catch(e){window.scrollTo(0,r+o)}}})),Qb(Kb(t),"showTimeoutPopup",(function(){t.setState({timeoutPopupState:"show"})})),Qb(Kb(t),"toggleSizeErrorPopup",(function(){var e=t.state.oversizeErrorPopupOpened;t.setState({oversizeErrorPopupOpened:!e})})),Qb(Kb(t),"toggleShowRightAnswer",(function(e){var n=e;!1!==t.state.show_right_answer&&(n=!1),t.setState({show_right_answer:n})})),Qb(Kb(t),"resetAnswer",(function(e,n){var r=t.state.isSavingInProgress;t.setState({isSavingInProgress:r.filter((function(t){return t!==e}))}),kc(t.Polling$,{taskId:n}),t.toggleSizeErrorPopup()})),Qb(Kb(t),"resendAnswer",(function(e){var n=t.state.isSavingInProgress;t.setState({isSavingInProgress:n.filter((function(t){return t!==e}))},(function(){kc(t.Polling$,{taskId:e}),t.saveTask(e,!0)}))})),Qb(Kb(t),"getReplaceItemId",(function(e){var n,r=t.state.onlineState.pending;return null==r||null===(n=r.find((function(t){return t.taskId===e})))||void 0===n?void 0:n.id})),Qb(Kb(t),"saveTask",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props.tasks_token,a=t.state,s=a.user_answers,l=a.saved_tasks,c=a.isSavingInProgress,f=fc(r,e);if(!f){if(!(void 0!==s[e]&&null!==s[e]||void 0!==l[e]&&null!==l[e]))return;if(l[e]&&pr()(l[e],s[e]))return}var p=s[e],d=t.state.cachedTasks[e].number;t.setState({isSavingInProgress:[].concat(Vb(c),[e])},(function(){var r="".concat(CONFIG.Api.persistentCache.url,"/v4/put").concat(n?"?replace=".concat(t.getReplaceItemId(d)):""),a={taskId:d,payload:p,version:CONFIG.Version,clientTime:(new Date).toISOString(),count:t.getAnsweredTaskCount(),tabId:window.appId,hash:t.state.stateHash},l={auth_token:t.props.tasks_token,throwExceptionOnError:!0,returnResult:!0};f&&Ec(t.Polling$,{id:"new",solution:p[0].solution,taskId:d}),k.post(r,a,l).then((function(n){var r=n.data;if(null==r||!r.hash)return setTimeout((function(){throw new S(n,"Server returned unexpected data type:".concat(Bb(r)," value:").concat(null==r?void 0:r.toString()))}),100),void setTimeout((function(){Object(u.g)(408)}),300);var o=function(){var n=t.state.isSavingInProgress;t.setState({isSavingInProgress:n.filter((function(t){return t!==e})),stateHash:r.hash},(function(){t.addSavedAnswer(e,s[e])}))};f?(Oc(t.Polling$,{id:r.id,taskId:d}),t.Polling$.pipe(Object(Wl.a)(1),Object(Yl.a)(1)).subscribe(o)):o()})).catch((function(n){var r,a,s,l,c,f,p,m;if(401!==(null==n||null===(r=n.response)||void 0===r?void 0:r.status))if(408!==(null==n||null===(a=n.response)||void 0===a?void 0:a.status))if(404===(null==n||null===(s=n.response)||void 0===s?void 0:s.status))Object(u.g)(404);else{if(413===(null==n||null===(l=n.response)||void 0===l?void 0:l.status))return void t.resetAnswer(e,d);(null==n||null===(c=n.response)||void 0===c?void 0:c.status)>=400&&n.response.status<600?Object(u.g)(500):200===(null==n||null===(f=n.response)||void 0===f?void 0:f.status)&&null!==(p=n.response)&&void 0!==p&&null!==(m=p.data)&&void 0!==m&&m.error?i.a.render(o.a.createElement(Ky,{isExceptionAction:!0}),document.getElementById("index")):(console.error(n),Object(u.g)(408))}else Object(u.g)(408);else t.showTimeoutPopup()}))}))})),Qb(Kb(t),"taskOnlineState",(function(e,t,n){return null!==e&&Array.isArray(e.solutions)&&fc(t,n)?{solutions:e.solutions.filter((function(e){var t=e.taskId;return n- -1===t})),pending:e.pending.filter((function(e){var t=e.taskId;return n- -1===t}))}:null})),Qb(Kb(t),"renderOnlineTabs",(function(e){var n=e.onlineTab;return o.a.createElement(A.d,{center:!0,className:Xb.el("online-tabs")+Xb.el("online-tabs").mod("sticky")},o.a.createElement($l.a,{active:"tasks"===n,onAction:t.setOnlineTabTasks,form:"brick",mode:"text",size:"s",className:Xb.el("online-tab")},o.a.createElement(nl,{k:"olympiad.task-page-tab.tasks",id:"value"})),o.a.createElement(A.m,null),o.a.createElement($l.a,{active:"standings"===n,onAction:t.setOnlineTabStandings,form:"brick",mode:"text",size:"s",className:Xb.el("online-tab")},o.a.createElement(nl,{k:"olympiad.task-page-tab.participants",id:"value"})))})),Qb(Kb(t),"renderPageStandings",(function(e,n){var r=e.tasks_token,a=n.userName;return o.a.createElement(o.a.Fragment,null,o.a.createElement(dy,{issuedUntil:t.props.issuedUntil,onTimeout:t.showTimeoutPopup}),o.a.createElement(Ab,{token:r,userName:a,onTimeout:t.showTimeoutPopup}),o.a.createElement(zy,{onClick:t.closeTaskPage,state:t.state.timeoutPopupState,issuedAt:t.props.issuedAt,task_count:t.getTasksCount(),answer_count:t.getAnsweredTaskCount()}))}));var n=e.tsContest,r=e.tasks_token,a=e.tasks,s=e.results_token,f=0,p=null;return t.getSectionRanges(n.sections,a)[0].name&&(f=null,p=0),window.bugReportToken=r,window.results_token=s,t.state={isSavingInProgress:[],answersIsFilled:[],answersHasError:[],stateHash:null,hasPrevTask:!1,selectedSection:p,selected_task_num:f,isLoaded:!1,show_result:!1,saved_tasks:{},cachedTasks:{},timeoutPopupState:"hidden",user_answers:{},show_right_answer:!1,onlineState:null,isOnline:!1,oversizeErrorPopupOpened:!1},t}return t=c,(n=[{key:"componentDidMount",value:(s=Gb(Mb().mark((function e(){var t=this;return Mb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=t.props,r=n.tasks_token,o=n.results_data,a=n.tsContest;t.subscriptions=[Ql.a.subscribe(t.attachPrevNextButtons),Xl.a.subscribe(t.attachPrevNextButtons)],o?t.setState({isLoaded:!0},e):k.get("".concat(CONFIG.Api.persistentCache.url,"/v4/get"),{},{auth_token:r,headers:{"cache-control":"no-cache","content-type":"application/json",Accept:"application/json"}}).then((function(n){var o={},i=[],s={},l=0,c=!1;for(var u in n.solutions){var f=n.solutions[u];if(t.getAnswersIsFilled(f)){var p=parseInt(u)-1;o[p]=Re()(f),s[p]=f,i.push(p)}}for(var d=0;d<t.getTasksCount();d++)if(!s[d]){l=t.getFirstTaskNumInGroup(d);break}t.getTasksCount()===Object.keys(s).length&&(l=-1,c=!0);var m=a.sections.find((function(e){return e.at-1===l})),h=null;m&&(l=-1,h=m.at-1);var v,y=cc(r),b=uc(r),g=pc(r);if(y){v="tasks";var w=wc(n),_=w.pending,E=w.solutions;t.Polling$=_c(r,{pending:_,solutions:E}),t.subscriptions.push(t.Polling$.subscribe(t.readOnlinePolling))}t.setState({isLoaded:!0,stateHash:n.hash,selectedSection:h,show_result:c,saved_tasks:s,user_answers:o,selected_task_num:l,answersIsFilled:i,isOnline:y,onlineTab:v,isTable:b,userName:g},e)}))})));case 1:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"componentDidUpdate",value:function(){"show"===this.state.timeoutPopupState||this.state.oversizeErrorPopupOpened?document.querySelector("body").classList.add("no_scrollable"):document.querySelector("body").classList.remove("no_scrollable"),setTimeout(this.attachPrevNextButtons,300);var e=this.getSelectedGroup();if(e)for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this.state.cachedTasks[r]||this.loadTaskContent(r)}}},{key:"attachPrevNextButtons",value:function(){var e=document.querySelector(".next-task"),t=document.querySelector(".prev-task");if(window.matchMedia("(min-width: 769px)").matches)return e&&(e.style.top=""),void(t&&(t.style.top=""));var n=document.querySelector(".task:last-child");n&&(n.getBoundingClientRect().bottom+window.pageYOffset<window.pageYOffset+window.innerHeight-90?(e&&e.classList.add("attached"),t&&t.classList.add("attached"),e&&(e.style.top=n.offsetTop+n.clientHeight+"px"),t&&(t.style.top=n.offsetTop+n.clientHeight+"px")):(e&&e.classList.remove("attached"),t&&t.classList.remove("attached"),e&&(e.style.top=""),t&&(t.style.top="")))}},{key:"getSectionRanges",value:function(e,t){for(var n=0,r=0,o=Object.values(t);r<o.length;r++){var a=o[r];"object"===Bb(a)?n+=Object.keys(a).length:n+=1}if(0===e.length)return[{from:0,to:n-1}];var i=Vb(e).reverse(),s=[],l=n-1;return i.map((function(e){s.unshift(Db({from:e.at-1,to:l},e)),l=e.at-2})),(0===s.length||s[0].from>0)&&s.unshift({from:0,to:l}),s}},{key:"isAllTasksLoaded",value:function(){var e=this.getSelectedGroup();if(!e)return!0;for(var t=this.state.cachedTasks,n=0,r=Object.keys(e);n<r.length;n++)if(!t[r[n]])return!1;return this.state.isLoaded}},{key:"loadTaskContent",value:function(e){var t=this;return new Promise(function(){var n=Gb(Mb().mark((function n(r){var o,a,i,s,l;return Mb().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.state.cachedTasks,a=t.getTaskHash(e),!o[e]){n.next=5;break}return r(),n.abrupt("return");case 5:if(!t.contentOnLoading.includes(a)){n.next=8;break}return r(),n.abrupt("return");case 8:return t.contentOnLoading.push(a),n.next=11,k.get("".concat(CONFIG.Api.webPortal.url,"/content/").concat(encodeURIComponent(a)));case 11:return o[e]=n.sent,n.next=14,k.get("".concat(CONFIG.Api.webPortal.url,"/content/").concat(encodeURIComponent(a)));case 14:((i=n.sent).type.includes("multi")||i.type.includes("single"))&&i.answersData[0].isMixed?i.answersData[0].answers.sort($b):i.type.includes("match")&&(l=i.type.indexOf("match"),null===(s=i.answersData[l].columns)||void 0===s||s.forEach((function(e,t){e.isMixed&&i.answersData[l].columns[t].elements.sort($b)}))),o[e]=i,t.contentOnLoading.splice(t.contentOnLoading.indexOf(a),1),t.setState({cachedTasks:o},r);case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"getTaskHash",value:function(e){var t=this.props.tasks;if("object"===Bb(t[e]))return t[e][e];if(void 0===t[e]){for(var n=e;!t[n]&&n>=0;)n--;return this.props.tasks[n][e]}return this.props.tasks[e]}},{key:"showResult",value:function(){window.scrollTo(0,0),this.setState({selected_task_num:-1,hasPrevTask:!0,show_result:!0,selectedSection:null})}},{key:"getFirstTaskNumInGroup",value:function(e){var t=this.props.tasks;if(void 0===t[e])for(var n=e;!(t[n]||--n<0);)if("object"===Bb(t[n])&&t[n][e]){e=n;break}return parseInt(e)}},{key:"changeTaskNum",value:function(e){var t=this,n=this.getFirstTaskNumInGroup(e),r=0!==e;0===n&&this.getSectionRanges(this.props.tsContest.sections,this.props.tasks)[0].name&&(r=!0),this.setState({hasPrevTask:r,selected_task_num:n,show_result:!1,selectedSection:null},(function(){return setTimeout((function(){return t.scrollToTask(e)}),700)}))}},{key:"addSavedAnswer",value:function(e,t){var n=this,r=this.state.saved_tasks,o=this.props.tasks_token,a=fc(o,e);"object"===Bb(t)&&(t=Re()(t)),this.setState({saved_tasks:Db(Db({},r),{},Qb({},e,t))},(function(){n.getFirstTaskNumInGroup(e)===n.state.selected_task_num&&!a&&n.toNextTask(!0,e)}))}},{key:"toPrevTask",value:function(){var e=this,t=null,n=this.state.selected_task_num,r=Object.keys(this.props.tasks),o=parseInt(r[r.length-1]);if(this.state.show_result&&(t=o),null===this.state.selectedSection){if(-1!==this.props.tsContest.sections.findIndex((function(t){return t.at-1===e.state.selected_task_num})))return void this.showSection(this.state.selected_task_num)}else n=this.state.selectedSection;for(;n>=0&&null===t;)n--,this.props.tasks[n]&&(t=n);null!==t&&0!==this.state.selected_task_num&&this.changeTaskNum(t)}},{key:"toNextTask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,r=parseInt(t),o=isNaN(r)?this.state.selected_task_num:r,a=Object.keys(this.props.tasks),i=parseInt(a[a.length-1]);for("object"===Bb(this.props.tasks[i])&&(a=Object.keys(this.props.tasks[i]),i=parseInt(a[a.length-1]));i>o&&!n;)o++,(!0===e||this.props.tasks[o])&&(!0===e&&this.getAnswersIsFilled(this.state.saved_tasks[o])||(n=o));if(n||o!==i){if(null===this.state.selectedSection){var s=this.props.tsContest.sections.findIndex((function(e){return e.at-1===n}));if(-1!==s)return void this.showSection(n)}else n=this.state.selectedSection;null!==n&&this.changeTaskNum(n)}else this.showResult()}},{key:"closeTaskPage",value:function(){location.reload()}},{key:"finishSession",value:(a=Gb(Mb().mark((function e(){return Mb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("".concat(CONFIG.Api.webPortal.url,"/test/session-finish?tasksCount=").concat(this.getAnsweredTaskCount(),"&tabId=").concat(window.appId),'"'.concat(this.state.userToken,'"'),{auth_token:this.props.tasks_token});case 2:this.closeTaskPage();case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getFirstUnansweredTaskNum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.tasks;for(var t in e)if("object"===Bb(e[t])&&(t=this.getFirstUnansweredTaskNum(e[t])),void 0!==t&&!this.getAnswersIsFilled(this.state.saved_tasks[t]))return parseInt(t)}},{key:"cancelResultSave",value:function(){var e=this.getFirstUnansweredTaskNum();e||(e=0),this.changeTaskNum(e)}},{key:"getTasksCount",value:function(){var e=0;for(var t in this.props.tasks)"object"===Bb(this.props.tasks[t])?e+=Object.keys(this.props.tasks[t]).length:e++;return e}},{key:"getAnsweredTaskCount",value:function(){var e,t=this.state,n=t.onlineState,r=t.isOnline,o=t.saved_tasks;return r&&(null==n||null===(e=n.solutions)||void 0===e?void 0:e.length)>0&&tg(n.solutions)>=Object.keys(o).length?tg(n.solutions):eg(o)}},{key:"getSelectedSection",value:function(){var e=this;return null!==this.state.selectedSection?this.props.tsContest.sections.find((function(t){return t.at-1===e.state.selectedSection})):null}},{key:"getSelectedSectionRange",value:function(){var e=this,t=this.getSelectedSection(),n=this.getSectionRanges(this.props.tsContest.sections,this.props.tasks).find((function(t){return t.from<=e.state.selected_task_num&&t.to>=e.state.selected_task_num}));return!n&&t&&(n=t),n}},{key:"getWrapperBgStyles",value:function(){var e=this,t=this.getSelectedSection(),n=this.getSectionRanges(this.props.tsContest.sections,this.props.tasks).find((function(t){return t.from<=e.state.selected_task_num&&t.to>=e.state.selected_task_num}));!n&&t&&(n=t);var r={};return n&&n.metadata&&(n.metadata.bgImage&&(r.backgroundImage="url("+CONFIG.Api.webPortal.url+"/content/_image/"+n.metadata.bgImage+")",n.metadata.bgAlign&&(r.backgroundPosition=n.metadata.bgAlign)),n.metadata.bgColor&&(r.backgroundColor=n.metadata.bgColor)),!r.backgroundImage&&this.props.metadata.bgImage&&(r.backgroundImage="url("+CONFIG.Api.webPortal.url+"/content/_image/"+this.props.metadata.bgImage+")",this.props.metadata.bgAlign&&(r.backgroundPosition=this.props.metadata.bgAlign)),!r.backgroundColor&&this.props.metadata.bgColor&&(r.backgroundColor=this.props.metadata.bgColor),r}},{key:"getSelectedGroup",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.selected_task_num,n=this.props.tasks;if("string"==typeof n[t])return Qb({},t,n[t]);if("object"===Bb(n[t]))e=n[t];else if(void 0===n[t]){for(var r=t;!n[r]&&r>=0;)r--;e=n[r]}return e}},{key:"setAnswerIsFilled",value:function(e,t,n){n=parseInt(n);var r=this.state,o=r.answersIsFilled,a=r.answersHasError,i=o.indexOf(n),s=a.indexOf(n);i>=0&&!e&&o.splice(i,1),-1===i&&e&&o.push(n),s>=0&&!t&&a.splice(s,1),-1===s&&t&&a.push(n),this.setState({answersIsFilled:o,answersHasError:a})}},{key:"getAnswersIsFilled",value:function(e){return!(!e||!Array.isArray(e))&&e.filter((function(e){return null!==e.solution&&void 0!==e.solution})).length>0}},{key:"getResultDataForTaskNum",value:function(e,t){var n=this.props.results_data;return n?n[e]?n[e][e]?n[e][e]:n[e]:n[t]?n[t][e]:void 0:null}},{key:"isTaskGroupCanBeAnswered",value:function(){for(var e=this.getSelectedGroup(),t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(!this.state.cachedTasks[r])return!1;if(this.state.cachedTasks[r].type.filter((function(e){return"none"!==e})).length>0)return!0}return!1}},{key:"renderTasksGroup",value:function(){var e=this,t=this.state,n=t.selected_task_num,r=t.isSavingInProgress,a=t.answersIsFilled,i=t.answersHasError,s=t.saved_tasks,l=t.user_answers,c=t.onlineState,u=t.cachedTasks,f=t.show_right_answer,p=this.props,d=p.results_data,m=p.tasks_token,h=p.tasks,v=p.metadata,y=this.getSelectedGroup();if(y){var b=Object.keys(y).map((function(e){return parseInt(e)})).sort((function(e,t){return e-t})),g=b[0],w=b.reverse()[0],_=n+1,E=0,O=this.getSelectedSectionRange();if(O){var k=Object.keys(h).reduce((function(e,t){return t>=O.from&&t<=O.to&&(e[t]=h[t]),e}),{});_=0;for(var S=0,C=Object.entries(k);S<C.length;S++){var j=Rb(C[S],2),x=j[0],P=j[1];if(parseInt(x)===n)break;"object"===Bb(P)?_+=Object.keys(P).length:_+=1}E=g-_,_+=1}g!==w&&(_="".concat(g-E+1,"-").concat(w-E+1));var N=new ot("task");N.appendStatusIf(Object.keys(y).length>1,"grouped"),N.appendStatusIf(!!d,"is-results");for(var I=!0,T=0,L=Object.keys(y);T<L.length;T++){var R=L[T];i.includes(parseInt(R)),a.includes(parseInt(R)),I&&!pr()(l[R],s[R])&&(I=!1),s[R]&&this.getAnswersIsFilled(s[R])}var F=g!==w;return o.a.createElement(A.q,{grow:!0,className:"t-task-layout ".concat(N)},o.a.createElement(A.d,{className:"task__title"},"№ ".concat(_)),o.a.createElement(A.q,{grow:!0},Object.keys(y).map((function(t){var n,a,p=e.taskOnlineState(c,m,t),d=e.getResultDataForTaskNum(t,g),y=r.includes(t),b=f===t,w=i.includes(parseInt(t)),_=null!==c?function(e,t){try{var n,r,o=Object(oe.decode)(e,{json:!0});return!!(null==o||null===(n=o.tv[parseInt("".concat(t))])||void 0===n||null===(r=n.i)||void 0===r?void 0:r.includes("h"))}catch(e){return console.error(e),!1}}(m,t):["ok","partly","wrong"].includes(null==d?void 0:d.verdict)&&0===(null==d||null===(n=d.solution)||void 0===n?void 0:n.answers.length),E=(null===(a=function(e,t){try{var n,r=parseInt(t),o=Object(oe.decode)(e,{json:!0});return Array.isArray(null==o?void 0:o.tv)&&(null===(n=o.tv[r])||void 0===n?void 0:n.i)||""}catch(e){return console.error(e),!1}}(m,t))||void 0===a?void 0:a.includes("r"))||!1;return o.a.createElement(ry,{grouped:F,taskNum:t,key:t,resultData:d,tasks:h,isSavingInProgress:y,metadata:v,savedTasks:s,tasksToken:m,cachedTasks:u,userAnswers:l,showRightAnswer:b,hasErrors:w,onlineState:p,onAnswerIsFilledChange:function(n,r){return e.setAnswerIsFilled(n,r,t)},nextTask:function(){return e.toNextTask(!0,t)},changeAnswer:e.changeAnswer,toggleShowRightAnswer:e.toggleShowRightAnswer,saveTask:e.saveTask,isHidden:_,resendAnswer:e.resendAnswer,allowResend:E})}))))}}},{key:"render",value:function(){return this.state.isLoaded?this.renderPage(this.state):o.a.createElement(Jl.a,{centerOfWindow:!0})}},{key:"renderPageTasks",value:function(e){var t=this,n=e.selected_task_num,r=e.show_result,a=e.hasPrevTask,i=null;null!==this.state.selectedSection&&(i=this.props.tsContest.sections.find((function(e){return e.at-1===t.state.selectedSection})));var s=!r;if(this.props.results_data){var l=n;if("object"===Bb(this.props.tasks[n])){var c=this.props.tasks[n],u=Object.keys(c)[Object.keys(c).length-1];l=parseInt(u)}l+1===this.getTasksCount()&&(s=!1)}var f=this.props.metadata.navButtonColor?this.props.metadata.navButtonColor:null;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"task__section"},r&&o.a.createElement(Uy,{issuedUntil:this.props.issuedUntil,issuedAt:this.props.issuedAt,task_count:this.getTasksCount(),answer_count:this.getAnsweredTaskCount(),onSend:this.finishSession.bind(this),onCancelSave:this.cancelResultSave.bind(this),onTimeout:this.showTimeoutPopup}),!!i&&o.a.createElement(ob,{isResultPage:!!this.props.results_data,onNext:function(){return t.changeTaskNum(i.at-1)},data:i,issuedUntil:this.props.issuedUntil,issuedAt:this.props.issuedAt,onTimeout:this.showTimeoutPopup}),!r&&null===i&&this.renderTasksGroup()),a&&o.a.createElement("div",{className:"prev-task",onClick:this.toPrevTask.bind(this)}),s&&o.a.createElement("div",{className:"next-task",onClick:this.toNextTask.bind(this)}),o.a.createElement(Ay,{tasks:this.props.tasks,selectedTaskNum:this.state.selected_task_num,savedTasks:this.state.saved_tasks,issuedUntil:this.props.issuedUntil,resultsData:this.props.results_data,userScore:this.props.user_score,selectedSection:this.state.selectedSection,bgColor:f,taskSelectorColor:this.props.metadata.totalScoreColor,navType:this.props.metadata.navType,sections:this.getSectionRanges(this.props.tsContest.sections,this.props.tasks),hideScoreExplanation:"hide"===this.props.metadata.scoreExplanation,selectTask:this.changeTaskNum.bind(this),onResultClick:this.showResult.bind(this),toggleShowRightAnswer:this.toggleShowRightAnswer.bind(this),onTimeout:this.showTimeoutPopup,showSection:this.showSection,selectedGroup:this.getSelectedGroup(),isOnLoading:!this.isAllTasksLoaded(),onlineState:this.state.onlineState,jwt:this.props.tasks_token}),o.a.createElement(zy,{onClick:this.closeTaskPage,state:this.state.timeoutPopupState,issuedAt:this.props.issuedAt,task_count:this.getTasksCount(),answer_count:this.getAnsweredTaskCount()}),this.state.oversizeErrorPopupOpened&&o.a.createElement(Lb,{onClose:this.toggleSizeErrorPopup}))}},{key:"renderPage",value:function(e){var t=e.timeoutPopupState,n=e.isOnline,r=e.onlineTab,a=e.isTable,i=e.show_right_answer,s=new ot("task_page");return s.appendStatusIf("show"===t,"timeout"),s.appendAdditionalClassesIf(!1!==i,"task_page__show_right_answer"),o.a.createElement("div",{className:s},o.a.createElement("div",{className:"task_page__bg",style:this.getWrapperBgStyles()}),o.a.createElement(L.a,{hideFlags:!0,isFixedOnDesktop:!0}),o.a.createElement("div",{className:"task_page_close",onClick:this.closeTaskPage},o.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{opacity:"0.5",d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"white"}))),n&&a&&this.renderOnlineTabs(this.state),n&&a&&"standings"===r?this.renderPageStandings(this.props,this.state):this.renderPageTasks(this.state))}}])&&Yb(t.prototype,n),r&&Yb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.a.Component);function rg(e){return(rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ag=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getItem",value:function(e){var t=localStorage.getItem(e);if(t){if("object"===rg(t=JSON.parse(t))&&t.cache_expires&&t.cached_data){var n=new Date(t.cache_expires);if(new Date>n)return void localStorage.removeItem(e);t=t.cached_data}return t}}},{key:"setItem",value:function(e,t,n){if(n){if(n instanceof Date||(n=new Date(n)),isNaN(n.getTime()))return void console.error("wrong expire data");t={cache_expires:n,cached_data:t}}t=JSON.stringify(t),localStorage.setItem(e,t)}}],(n=null)&&og(t.prototype,n),r&&og(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ig=n(1370),sg=n(1371),lg=n(1372),cg=n(1373),ug=n(1374),fg=n(1375),pg=n(1376),dg=n(1377),mg=n(1378),hg=n(1379);function vg(e){return(vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */yg=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var m={};s(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=d.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==vg(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,s(y,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function bg(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function gg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wg(e,t){return(wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kg(e);if(t){var o=kg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}function Eg(e,t){if(t&&("object"===vg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Og(e)}function Og(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kg(e){return(kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}(u,e);var t,n,r,a,s,c=_g(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Og(t=c.call(this,e)),"renderPage",(function(){return t.state.is_loaded?t.state.is_public_page?t.renderPublic():t.renderPrivate():o.a.createElement(Ic,{centerOfWindow:!0})}));var n=!1;return e.cert_hash&&(n=!0),t.state={is_loaded:!1,cert_hash:e.cert_hash,is_public_page:n,cert_info:{title:null,type:null,startedAt:0,finishedAt:0},share_url:null},t}return t=u,(n=[{key:"UNSAFE_componentWillMount",value:(a=yg().mark((function e(){var t,n=this;return yg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.cert_hash){e.next=3;break}return e.next=3,l()({method:"POST",url:CONFIG.Api.webPortal.url+"/certificate/issue",headers:{"content-type":"application/json",Accept:"application/json"},data:"".concat(this.props.cert_token)}).then((function(e){n.setState({cert_hash:e.data})}));case 3:return t=location.origin+"/certificate_"+this.state.cert_hash,e.next=6,l()({method:"GET",url:CONFIG.Api.webPortal.url+"/certificate/info/"+this.state.cert_hash,headers:{"content-type":"application/json",Accept:"application/json"}}).then((function(e){n.setState({is_loaded:!0,share_url:t,cert_info:e.data})}));case 6:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){bg(o,n,r,i,s,"next",e)}function s(e){bg(o,n,r,i,s,"throw",e)}i(void 0)}))},function(){return s.apply(this,arguments)})},{key:"copyUrl",value:function(){document.querySelector("#url_input").select(),document.execCommand("copy")}},{key:"renderPrivate",value:function(){var e,t=this,n=this.state.cert_info,r=(new Date).getFullYear(),a="cpm"===((null===(e=CONFIG)||void 0===e?void 0:e.DeployName)||"").toLowerCase()?"CPM":"SIRIUS";return o.a.createElement("div",{className:"certificate_page"},o.a.createElement(L.a,null),o.a.createElement(Hl,{k:"common.certificate.document_title",values:{text:n.type}}),o.a.createElement("div",{className:"certificate_page_header"},o.a.createElement(ul,{user_name:this.props.tsUser.userName}),o.a.createElement("div",{className:"certificate_page_header__logo"}),o.a.createElement("div",{className:"certificate_page_header__title"},this.state.cert_info.title)),o.a.createElement("div",{className:"certificate_page__title"},o.a.createElement(nl,{k:"common.certificate.congratulations",id:"value",values:{text:this.state.cert_info.type}})),o.a.createElement("div",{className:"certificate_page__text"},o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".certificate.share"),id:"value"})," — ",o.a.createElement("nobr",null,o.a.createElement("a",{target:"_blank",href:CONFIG.Api.webPortal.url+"/certificate/pdf/"+this.state.cert_hash,download:"certificate.pdf"},o.a.createElement(nl,{id:"value",k:"common.certificate.download_file"}))," (pdf)")," ",o.a.createElement(nl,{id:"value",k:"common.certificate.print_file"})," ",o.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),t.copyUrl()}},o.a.createElement(nl,{id:"value",k:"common.certificate.copy"}))," ",o.a.createElement(nl,{id:"value",k:"common.certificate.share_link"})),o.a.createElement("div",{className:"certificate_page__social"},o.a.createElement(ig.a,{url:this.state.share_url},o.a.createElement(sg.a,{size:32,round:!0})),o.a.createElement(lg.a,{url:this.state.share_url},o.a.createElement(cg.a,{size:32,round:!0})),o.a.createElement(ug.a,{url:this.state.share_url},o.a.createElement(fg.a,{size:32,round:!0})),o.a.createElement(pg.a,{url:this.state.share_url},o.a.createElement(dg.a,{size:32,round:!0})),o.a.createElement(mg.a,{url:this.state.share_url},o.a.createElement(hg.a,{size:32,round:!0}))),o.a.createElement("img",{src:CONFIG.Api.webPortal.url+"/certificate/png/"+this.state.cert_hash,className:"certificate_page__img"}),o.a.createElement("div",{className:"certificate_page__link"},o.a.createElement(nl,{id:"value",k:"common.certificate.permanent_link"}),o.a.createElement("input",{id:"url_input",defaultValue:this.state.share_url})),o.a.createElement("div",{className:"certificate_page__links"},o.a.createElement("span",null,o.a.createElement("a",{target:"_blank",href:CONFIG.Api.webPortal.url+"/certificate/pdf/"+this.state.cert_hash,download:"certificate.pdf"},o.a.createElement(nl,{id:"value",k:"common.certificate.download_certificate"}))," (pdf)"),o.a.createElement("span",null,o.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),t.copyUrl()}},o.a.createElement(nl,{id:"value",k:"common.certificate.copy_link"})))),o.a.createElement("img",{src:CONFIG.Api.webPortal.url+"/certificate/qr/"+this.state.cert_hash,className:"certificate_page__qr"}),o.a.createElement("button",{className:"certificate_page__to_contenst_btn",onClick:function(){i.a.render(o.a.createElement(Xg,null),document.getElementById("index"))}},o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".certificate.back"),id:"value"})),o.a.createElement("footer",null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".index.copyright_").concat(a),id:"value",values:{currentYear:r,br:o.a.createElement("br",null)}})))}},{key:"renderPublic",value:function(){var e,t=this,n=new Date(this.state.cert_info.startedAt),r=new Date(this.state.cert_info.finishedAt),a=this.state.cert_info,i=n.toLocaleString("ru",{day:"numeric"})+" — "+r.toLocaleString("ru",{day:"numeric",month:"long",year:"numeric"});n.getFullYear()!==r.getFullYear()?i=n.toLocaleString("ru",{day:"numeric",month:"long",year:"numeric"})+" — "+r.toLocaleString("ru",{day:"numeric",month:"long",year:"numeric"}):n.getMonth()!==r.getMonth()?i=n.toLocaleString("ru",{day:"numeric",month:"long"})+" — "+r.toLocaleString("ru",{day:"numeric",month:"long",year:"numeric"}):n.toDateString()===r.toDateString()&&(i=r.toLocaleString("ru",{day:"numeric",month:"long",year:"numeric"}));var s=(new Date).getFullYear(),l="cpm"===((null===(e=CONFIG)||void 0===e?void 0:e.DeployName)||"").toLowerCase()?"CPM":"SIRIUS";return o.a.createElement("div",{className:"certificate_page"},o.a.createElement(L.a,null),o.a.createElement(Hl,{k:"common.certificate.document_title",values:{text:a.type}}),o.a.createElement("div",{className:"certificate_page_header"},o.a.createElement("div",{className:"certificate_page_header__logo"}),o.a.createElement("div",{className:"certificate_page_header__title"},o.a.createElement(nl,{id:"value",k:"common.certificate.header_title"})),o.a.createElement("div",{className:"certificate_page_header__sub_title"},o.a.createElement(nl,{id:"value",k:"common.certificate.verification"}))),o.a.createElement("div",{className:"certificate_page__title"},this.state.cert_info.type),o.a.createElement("div",{className:"certificate_page__text"},this.state.cert_info.title,". ",i),o.a.createElement("img",{src:CONFIG.Api.webPortal.url+"/certificate/png/"+this.state.cert_hash,className:"certificate_page__img"}),o.a.createElement("div",{className:"certificate_page__link"},o.a.createElement(nl,{id:"value",k:"common.certificate.permanent_link"}),o.a.createElement("input",{id:"url_input",defaultValue:this.state.share_url,readOnly:!0})),o.a.createElement("div",{className:"certificate_page__links"},o.a.createElement("span",null,o.a.createElement("a",{target:"_blank",href:CONFIG.Api.webPortal.url+"/certificate/pdf/"+this.state.cert_hash,download:"certificate.pdf"},o.a.createElement(nl,{id:"value",k:"common.certificate.download_certificate"}))," (pdf)"),o.a.createElement("span",null,o.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),t.copyUrl()}},o.a.createElement(nl,{id:"value",k:"common.certificate.copy_link"})))),o.a.createElement("img",{src:CONFIG.Api.webPortal.url+"/certificate/qr/"+this.state.cert_hash,className:"certificate_page__qr"}),o.a.createElement("footer",null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".index.copyright_").concat(l),id:"value",values:{currentYear:s,br:o.a.createElement("br",null)}})))}},{key:"render",value:function(){return o.a.createElement(A.n,null,this.renderPage())}}])&&gg(t.prototype,n),r&&gg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.a.Component);function Cg(e){return(Cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xg(e,t){return(xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ag(e);if(t){var o=Ag(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ng(this,n)}}function Ng(e,t){if(t&&("object"===Cg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ig(e)}function Ig(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ag(e){return(Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xg(e,t)}(s,e);var t,n,r,a=Pg(s);function s(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Tg(Ig(t=a.call(this,e)),"renderTaskPage",(function(){return i.a.render(o.a.createElement(A.n,null,o.a.createElement(ng,{results_token:t.state.results_token,metadata:t.props.metadata,tasks:t.state.tasks,tsContest:t.props.tsContest,issuedUntil:t.state.issuedUntil,issuedAt:t.state.issuedAt,tasks_token:t.state.tasks_token})),document.getElementById("index"))})),Tg(Ig(t),"getStartButtonText",(function(){var e="",n=new Date(t.state.contest.startTime);if("NotYetStarted"===t.props.tsInfo.tag&&(e=o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.not_yet_started_date"),id:"value",defaultMessage:"",values:{date:o.a.createElement(T.a,{dateValue:n,dateOptions:{day:"numeric",month:"long",year:"numeric"}})}})," ",o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.not_yet_started_time"),id:"value",defaultMessage:"",values:{date:o.a.createElement(T.a,{value:n,dateOptions:{hour:"2-digit",minute:"2-digit"}})}}))),"ContestRunning"===t.props.tsInfo.tag&&(e=o.a.createElement(nl,{k:"common.start_button.start",id:"value"}),"ValidSession"===t.props.tsInfo.contents.tag&&(e=o.a.createElement(nl,{k:"common.start_button.continue",id:"value"})),"ExpiredSession"===t.props.tsInfo.contents.tag&&(e=o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.took_part"),id:"value"}),o.a.createElement("br",null),o.a.createElement(nl,{k:"common.start_button.result",id:"value"})))),"ContestFinished"===t.props.tsInfo.tag&&"object"===Cg(t.props.tsInfo.contents)){var r="",a="",i=!1,s=!1,l=!1;for(var c in t.props.tsInfo.contents){var u=t.props.tsInfo.contents[c];"HasResults"===u.tag&&(i=!0,l=!0),"ContestHasResults"===u.tag&&(a=u.contents.contestApplicants.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),r=u.contents.contestMaxScore,s=!0,l=!0),"NotAttended"===u.tag&&(l=!1),"NoResults"===u.tag&&(l=!0)}s?i?(e=o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.took_part"),id:"value"}),o.a.createElement("br",null)," "),"hide"!==t.props.metadata.scoreExplanation&&(e=o.a.createElement(o.a.Fragment,null,e," ",o.a.createElement(nl,{k:"common.start_button.your_result",id:"value",values:{userScore:o.a.createElement("b",null,t.state.user_score),maxScore:o.a.createElement("b",null,r),points:o.a.createElement(rl,{k:"common.format_plural.points",value:r})}}))),"hide"!==t.props.metadata.totalParticipants&&(e=o.a.createElement(o.a.Fragment,null,e," ",o.a.createElement(nl,{k:"common.start_button.total_participants",id:"value",values:{number:o.a.createElement("b",null,a)}})))):(e=o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.ended"),id:"value"})," ",o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.dont_took_part"),id:"value"})),"hide"!==t.props.metadata.totalParticipants&&(e=o.a.createElement(o.a.Fragment,null,e,o.a.createElement("br",null),o.a.createElement(nl,{k:"common.start_button.total_participants",id:"value",values:{number:o.a.createElement("b",null,a)}}))),"stopped"===t.props.metadata.contestStatus&&(e=o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.stopped"),id:"value"}),o.a.createElement("br",null),o.a.createElement(nl,{k:"common.start_button.come_back_later",id:"value"})))):(t.state.buttonState="finished",l?e=o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.took_part"),id:"value"}),o.a.createElement("br",null),o.a.createElement(nl,{k:"common.start_button.future_results",id:"value"})):(e=o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.ended"),id:"value"}),o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.dont_took_part"),id:"value"}),o.a.createElement("br",null),o.a.createElement(nl,{k:"common.start_button.future_results",id:"value"})),"stopped"===t.props.metadata.contestStatus&&(e=o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".start_button.stopped"),id:"value"}),o.a.createElement("br",null),o.a.createElement(nl,{k:"common.start_button.come_back_later",id:"value"})))))}return e})),t.state={buttonState:"",userToken:"",tasks:[],contest:t.props.contest,issuedUntil:"",issuedAt:"",user_score:null,results_token:null,results_data:null,userProfileConfirmationVisible:!1,canStart:!1},"NotYetStarted"===t.props.tsInfo.tag&&(t.state.buttonState="not-yet-started"),"ContestRunning"===t.props.tsInfo.tag&&(t.state.buttonState="running",t.state.canStart=!0,"ValidSession"===t.props.tsInfo.contents.tag&&(t.state.buttonState="running"),"ExpiredSession"===t.props.tsInfo.contents.tag&&(t.state.buttonState="finished",t.state.canStart=!1)),"ContestFinished"===t.props.tsInfo.tag&&(t.state.buttonState="finished","object"===Cg(t.props.tsInfo.contents))){var n=!1,r=!1,l=!1;for(var c in t.props.tsInfo.contents){var f=t.props.tsInfo.contents[c];"HasResults"===f.tag&&(t.state.buttonState="finished",t.state.results_token=f.contents.token,window.bugReportToken=f.contents.token,t.state.user_score=f.contents.userScore,n=!0,l=!0),"ContestHasResults"===f.tag&&(t.state.results_token=f.contents.token,f.contents.contestApplicants.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),f.contents.contestMaxScore,r=!0,l=!0),"NotAttended"===f.tag&&(l=!1),"NoResults"===f.tag&&(l=!0)}if(r){if(!n&&(t.state.buttonState="finished","switched"===t.props.metadata.contestStatus))return Object(u.f)(),location.reload(),Ng(t)}else if(t.state.buttonState="finished",!l&&"switched"===t.props.metadata.contestStatus)return Object(u.f)(),location.reload(),Ng(t)}if("object"===Cg(t.props.tsInfo.contents.contents)){var p=t.props.tsInfo.contents.contents[0]?t.props.tsInfo.contents.contents[0]:t.props.tsInfo.contents.contents,d={};p.taskGroups&&p.taskGroups.forEach((function(e){var t=e[0]-1,n=e[1]-1,r=p.tasks[t];p.tasks[t]={},p.tasks[t][t]=r;for(var o=t+1;o<=n;o++)p.tasks[t][o]=p.tasks[o],delete p.tasks[o]})),p.tasks.map((function(e,t){d[t]=e})),t.state.tasks=d,t.state.issuedUntil=new Date(p.issuedUntil),t.state.issuedAt=new Date(p.issuedAt),t.state.tasks_token=t.props.tsInfo.contents.contents[1]}return t}return t=s,(n=[{key:"handleClick",value:function(e){if((this.state.canStart||this.state.results_token)&&(!this.state.results_token||this.state.results_data)&&(!this.state.results_data||e.target.classList.contains("header__button_to_tasks"))){if(!this.state.results_data)return this.state.tasks&&Object.keys(this.state.tasks).length?"token"===this.props.tsContest.authorizationType?void this.setState({userProfileConfirmationVisible:!0}):void this.renderTaskPage():void this.props.showPrestartPopup();i.a.render(o.a.createElement(A.n,null,o.a.createElement(ng,{metadata:this.props.metadata,tasks:this.state.tasks,tsContest:this.props.tsContest,user_score:this.state.user_score,results_data:this.state.results_data,results_token:this.state.results_token})),document.getElementById("index"))}}},{key:"componentDidMount",value:function(){this.state.results_token&&this.loadResults()}},{key:"loadResults",value:function(){var e=this,t=Object(u.c)(),n=t.contestId,r=t.sessionId,o=ag.getItem("results_data");if(o&&o.contestId===n&&o.sessionId===r){var a="finished_with_button";return o.cert&&(a="finished_with_certificate"),this.setState({results_data:o.result,tasks:o.tasks,cert_token:o.cert,cert_name:o.cert_name,buttonState:a}),void this.props.setResultsData(o)}l()({method:"POST",url:CONFIG.Api.webPortal.url+"/test/results",headers:{"content-type":"application/json",Accept:"application/json"},data:"".concat(this.state.results_token)}).then((function(t){var o={};t.data.groups&&t.data.groups.forEach((function(e){var n=e[0]-1,r=e[1]-1,o=t.data.result[n];t.data.result[n]={},t.data.result[n][n]=o;for(var a=n+1;a<=r;a++)t.data.result[n][a]=t.data.result[a],delete t.data.result[a]})),t.data.result.map((function(e,t){if(e.token)o[t]=e.token;else for(var n in e)o[t]||(o[t]={}),o[t][n]=e[n].token}));var a={contestId:n,sessionId:r,result:t.data.result,cert:t.data.cert,cert_name:t.data.certName,prize:t.data.prize,tasks:o},i=new Date((new Date).getTime()+60*CONFIG.ResultCacheLifetimeMin*1e3);ag.setItem("results_data",a,i);var s="finished_with_button";t.data.cert&&(s="finished_with_certificate"),e.props.setResultsData(t.data),e.setState({results_data:t.data.result,tasks:o,cert_token:t.data.cert,cert_name:t.data.certName,buttonState:s})}))}},{key:"showCertPage",value:function(){i.a.render(o.a.createElement(Sg,{cert_token:this.state.cert_token,tsUser:this.props.tsUser}),document.getElementById("index"))}},{key:"render",value:function(){var e=this;if(CONFIG.IsNoopolis){var t=Object(u.e)("roles");if(t&&-1!==t.indexOf("nooRO")&&"finished_with_button"!==this.state.buttonState)return o.a.createElement(o.a.Fragment,null)}return o.a.createElement("div",{className:"header__button header__button--"+this.state.buttonState,onClick:function(t){return e.handleClick(t)}},o.a.createElement("div",{className:"header__button_text"},this.getStartButtonText()),o.a.createElement("div",null,o.a.createElement("div",{className:"header__button_to_tasks"},o.a.createElement(nl,{k:"common.start_button.to_results",id:"value"})),o.a.createElement("div",{className:"header__button_to_certificate",onClick:function(){return e.showCertPage()}},this.state.cert_name?this.state.cert_name:o.a.createElement(nl,{k:"common.start_button.document",id:"value"}))),this.state.userProfileConfirmationVisible&&o.a.createElement(Ky,{tsUser:this.props.tsUser,renderTaskPage:this.renderTaskPage}))}}])&&jg(t.prototype,n),r&&jg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);n(1328);function Rg(e){return(Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fg(Object(n),!0).forEach((function(t){Kg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ug(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ug(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ug(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vg(e,t,n){return t&&Bg(e.prototype,t),n&&Bg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wg(e,t)}function Wg(e,t){return(Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Yg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zg(this,n)}}function zg(e,t){if(t&&("object"===Rg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qg(e)}function qg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zg(e){return(Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jg=function(e){var t={};return e.taskGroups&&e.taskGroups.forEach((function(t){var n=t[0]-1,r=t[1]-1,o=e.tasks[n];e.tasks[n]={},e.tasks[n][n]=o;for(var a=n+1;a<=r;a++)e.tasks[n][a]=e.tasks[a],delete e.tasks[a]})),e.tasks.map((function(e,n){t[n]=e})),t},Qg=function(e){Hg(n,e);var t=Yg(n);function n(e){var r;return Gg(this,n),Kg(qg(r=t.call(this,e)),"startClick",(function(){r.state.userToken||console.error("User token doesn't exist;"),l()({method:"POST",url:"".concat(CONFIG.Api.webPortal.url,"/test/session?tabid=").concat(window.appId),headers:{"content-type":"application/json",Accept:"application/json"},data:"".concat(r.state.userToken)}).then((function(e){var t=Mg(e.data,2),n=t[0],a=t[1],s=r.props,l=s.metadata,c=s.tsContest,u={issuedUntil:new Date(n.issuedUntil),issuedAt:new Date(n.issuedAt),tasks:Jg(n),tasks_token:a,metadata:l,tsContest:c};Nc.next(Dg({},u)),window.bugReportToken=a,i.a.render(o.a.createElement(A.n,null,o.a.createElement(ng,u)),document.getElementById("index"))})).catch((function(e){e.response&&401===e.response.status?location.href="/":console.error(e)}))})),r.state={task_count:e.task_count,popupState:e.state,userToken:e.userToken,metadata:{}},r}return Vg(n,[{key:"componentDidUpdate",value:function(){"show"===this.state.popupState?document.querySelector("body").classList.add("no_scrollable"):document.querySelector("body").classList.remove("no_scrollable")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.state,n=e.userToken,r=e.task_count;this.setState({task_count:r,popupState:t,userToken:n})}},{key:"render",value:function(){return o.a.createElement("div",{className:"prestart-popup prestart-popup--"+this.state.popupState},o.a.createElement("div",{className:"prestart-popup__overlay"}),o.a.createElement("div",{className:"prestart-popup__body"},o.a.createElement("div",{className:"prestart-popup__remain"},this.props.duration," ",o.a.createElement(rl,{k:"common.format_plural.minutes",value:this.props.duration})),o.a.createElement("div",{className:"prestart-popup__condition"},o.a.createElement(nl,{k:"common.index_page.are_you_ready",id:"value"}),o.a.createElement("br",null),o.a.createElement(nl,{k:"common.pre_start_popup.time_for_contest",id:"value",values:{number:this.props.duration,br:o.a.createElement("br",null)}})," ",o.a.createElement(rl,{k:"common.format_plural.minutes",value:this.props.duration})),o.a.createElement("div",{className:"status_row"},o.a.createElement("div",{className:"status_row_item"},o.a.createElement("div",{className:"status_row_title"},o.a.createElement(nl,{k:"common.pre_start_popup.tasks",id:"value"})),o.a.createElement("div",{className:"status_row_text"},this.state.task_count)),o.a.createElement("div",{className:"status_row_item"},o.a.createElement("div",{className:"status_row_title"},o.a.createElement(nl,{k:"common.pre_start_popup.hand_in",id:"value"})),o.a.createElement("div",{className:"status_row_text"},this.props.time_text)),o.a.createElement("div",{className:"status_row_item"},o.a.createElement("div",{className:"status_row_title"},o.a.createElement(nl,{k:"common.pre_start_popup.time",id:"value"})),o.a.createElement("div",{className:"status_row_text"},o.a.createElement(nl,{k:"common.pre_start_popup.duration",id:"value",values:{number:this.props.duration,br:o.a.createElement("br",null)}})))),o.a.createElement("div",{className:"prestart-popup__buttons"},o.a.createElement("div",{className:"prestart-popup__button prestart-popup__button--cancel",onClick:this.props.closePrestartPopup},o.a.createElement(nl,{k:"common.pre_start_popup.not_now",id:"value"})),o.a.createElement("div",{className:"prestart-popup__button prestart-popup__button--start",onClick:this.startClick},o.a.createElement(nl,{k:"common.pre_start_popup.start",id:"value"})))))}}]),n}(o.a.Component),Xg=function(e){Hg(n,e);var t=Yg(n);function n(e){var r;return Gg(this,n),Kg(qg(r=t.call(this,e)),"fetchContest",(function(){var e=Object(u.c)(),t=e.contestId,n=e.sessionId,r="".concat(CONFIG.Api.webPortal.url,"/test?regQuizId=").concat(t,"&sid=").concat(n);return l.a.get(r,{headers:{"cache-control":"no-cache"}}).then((function(e){return e.data}))})),Kg(qg(r),"getStateByData",(function(e){var t=e.tsInfo,n=e.tsUser,r=e.tsContest,o=e.metadata,a=void 0===o?{}:o,i={isLoaded:!0,tsContest:Dg(Dg({},r),{},{startDate:new Date(r.startTime),endDate:new Date(r.endTime),sections:r.sections||[]}),tsInfo:t,tsUser:n,metadata:a};return Nc.next(Dg({},i)),i})),Kg(qg(r),"renderError",(function(e){var t=e.error;if(401===t.response.status||404===t.response.status){if(CONFIG.IsNoopolis){var n=location.hash.match(/contest\/(\d+)\/(\d+)$/);return void(location.href=CONFIG.Noopolis.url+"/#/course/"+n[1]+"/final_test")}ul.logout(!0)}return console.error(t),null})),Kg(qg(r),"renderDocumentTitle",(function(){var e=r.state.tsContest.title,t=CONFIG.IsNoopolis?"common.document.noo_title":"common.document.title";return o.a.createElement(Hl,{k:t,values:{title:e}})})),r.state={error:null,isLoaded:!1,prestartPopupState:"hidden",resultsData:{}},r}return Vg(n,[{key:"showPrestartPopup",value:function(){this.setState({prestartPopupState:"show"})}},{key:"closePrestartPopup",value:function(){this.setState({prestartPopupState:"hidden"})}},{key:"componentDidMount",value:function(){var e,t=this;if(new URLSearchParams(location.search).has("user_code"))ul.logout(!0);else{var n=null===(e=this.props)||void 0===e?void 0:e.contestData;n?this.setState(Dg({isLoaded:!0},this.getStateByData(n))):this.fetchContest().then((function(e){return t.setState(t.getStateByData(e))})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({isLoaded:!0})}))}}},{key:"render",value:function(){var e,t=this;if(!this.state.isLoaded)return o.a.createElement(Ic,{centerOfWindow:!0});if(this.state.error)return this.renderError(this.state);var n=this.state.tsContest,r=n.startDate,a=n.endDate,i=o.a.createElement(nl,{k:"common.index_page.hand_in",id:"value"}),s=Object(u.a)("d.m H:i",a.getTime()/1e3),l=o.a.createElement(nl,{k:"common.index_page.time",id:"value"}),c=o.a.createElement(nl,{k:"common.index_page.duration",id:"value",values:{number:this.state.tsContest.sessionDuration}}),f=Object(u.d)();if("NotYetStarted"===this.state.tsInfo.tag&&(i=o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".status_row.not_yet_started"),id:"value"}),s=o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".status_row.not_yet_started_date"),id:"value",defaultMessage:"",values:{date:o.a.createElement(T.a,{dateValue:r,dateOptions:{day:"numeric",month:"numeric"}})}})),"ContestRunning"===this.state.tsInfo.tag&&("CanCreateSession"===this.state.tsInfo.contents.tag&&(i=o.a.createElement(nl,{k:"common.index_page.hand_in",id:"value"}),s=Object(u.a)("d.m H:i",a.getTime()/1e3)),"ExpiredSession"===this.state.tsInfo.contents.tag&&(i=o.a.createElement(nl,{k:"common.index_page.over",id:"value"}),s=Object(u.a)("d.m H:i",a.getTime()/1e3)),"ValidSession"===this.state.tsInfo.contents.tag)){l=o.a.createElement(nl,{k:"common.index_page.time_left",id:"value"});var p=new Date(this.state.tsInfo.contents.contents[0].issuedUntil);c=o.a.createElement(nl,{k:"common.index_page.duration",id:"value",values:{number:Math.ceil((p-f)/1e3/60)}}),i="",s=""}"ContestFinished"===this.state.tsInfo.tag&&(i=o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".status_row.ended"),id:"value"}),f<a&&(i=o.a.createElement(nl,{k:"common.index_page.over",id:"value"})),s=Object(u.a)("d.m",a.getTime()/1e3));var d="";"string"==typeof this.state.tsInfo.contents.contents&&(d=this.state.tsInfo.contents.contents);var m,h=Object(u.b)(this.state.tsContest.endDate,!1,!0),v={},y="status_row",b={},g="header";this.state.metadata.statusBg&&(v.background=this.state.metadata.statusBg),this.state.metadata.statusColor&&(y+=" status_row--custom-color",v.color=this.state.metadata.statusColor),this.state.metadata.userInfoColor&&(m=this.state.metadata.userInfoColor),this.state.metadata.headerColor&&(b.color=this.state.metadata.headerColor,g+=" header--custom-color"),this.state.metadata.mainBgImage&&(b.backgroundImage="url("+CONFIG.Api.webPortal.url+"/content/_image/"+this.state.metadata.mainBgImage+")"),this.state.metadata.mainBgColor&&(b.backgroundColor=this.state.metadata.mainBgColor),this.state.metadata.mainBgAlign&&(b.backgroundPosition=this.state.metadata.mainBgAlign);var w=null;CONFIG.IsNoopolis&&(w=location.hash.match(/contest\/(\d+)\/(\d+)$/)[1]);var _="cpm"===((null===(e=CONFIG)||void 0===e?void 0:e.DeployName)||"").toLowerCase()?"CPM":"SIRIUS";return o.a.createElement(A.n,null,this.renderDocumentTitle(this.state),!CONFIG.IsNoopolis&&o.a.createElement(L.a,null),o.a.createElement("div",{className:g,style:b},o.a.createElement("div",{className:"header__wrapper"},!CONFIG.IsNoopolis&&o.a.createElement(ul,{user_name:this.state.tsUser.userName,text_color:m}),!!CONFIG.IsNoopolis&&o.a.createElement("div",{className:"course_header"},o.a.createElement("a",{href:CONFIG.Noopolis.url+"/#/course/"+w+"/final_test",className:"course_header__back_arrow"}),o.a.createElement("div",{className:"course_header__title"},o.a.createElement(nl,{k:"common.index_page.final_test",id:"value"}))),o.a.createElement("div",{className:"header__company"},this.state.tsContest.owner),o.a.createElement("div",{className:"header__title"},this.state.tsContest.title),o.a.createElement("div",{className:y},o.a.createElement("div",{className:"status_row_item",style:v},o.a.createElement("div",{className:"status_row_title"},o.a.createElement(nl,{k:"common.index_page.tasks",id:"value"})),o.a.createElement("div",{className:"status_row_text"},this.state.tsContest.task_num)),i&&o.a.createElement("div",{className:"status_row_item",style:v},o.a.createElement("div",{className:"status_row_title"},i),o.a.createElement("div",{className:"status_row_text"},s)),o.a.createElement("div",{className:"status_row_item",style:v},o.a.createElement("div",{className:"status_row_title"},l),o.a.createElement("div",{className:"status_row_text"},c))),this.state.isLoaded&&o.a.createElement(Lg,{tsInfo:this.state.tsInfo,tsUser:this.state.tsUser,contest:this.state.tsContest,tsContest:this.state.tsContest,showPrestartPopup:this.showPrestartPopup.bind(this),metadata:this.state.metadata,userToken:d,setResultsData:function(e){return t.setState({resultsData:e})}}))),o.a.createElement("div",{className:"content content-description"},o.a.createElement(Ul,{data:this.state.resultsData.prize,metadata:this.state.metadata}),o.a.createElement($s,{videoWrapperClassName:"content-description__inner-video"},this.state.tsContest.description)),o.a.createElement("footer",null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".index.copyright_").concat(_),id:"value",values:{currentYear:(new Date).getFullYear(),br:o.a.createElement("br",null)}})),o.a.createElement(Qg,{state:this.state.prestartPopupState,duration:this.state.tsContest.sessionDuration,task_count:this.state.tsContest.task_num,tsContest:this.state.tsContest,metadata:this.state.metadata,closePrestartPopup:this.closePrestartPopup.bind(this),time_title:l,time_text:h,userToken:d}))}}]),n}(o.a.Component),$g=function(e){var t=e.type,n=e.extraErrors,r=e.onChange,a=e.extraValue,i="";switch(t){case"vosh-login":case"vosh-login-optional":i="common.user_form.vosh_login";break;case"school":i="common.user_form.school_name";break;case"grade":i="common.user_form.grade";break;case"email":i="common.user_form.email";break;case"phone":i="common.user_form.phone_number";break;default:i=""}var s="",l="";return n[t]&&(s="error",l=n[t]),o.a.createElement("div",{className:"login_form_input",key:"extra_field_".concat(t)},o.a.createElement(ub,{k:i,inputName:t,inputClass:s,id:"value",onChange:function(e){r(e.target.value,t)},inputValue:a}),o.a.createElement("label",null,o.a.createElement(nl,{k:i,id:"value"})),!!l&&o.a.createElement("div",{className:"login_form_input__error_message"},o.a.createElement(nl,{k:l,id:"value"})))};function ew(e){return(ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return nw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function nw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ow(e,t){return(ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function aw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lw(e);if(t){var o=lw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iw(this,n)}}function iw(e,t){if(t&&("object"===ew(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sw(e)}function sw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lw(e){return(lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ow(e,t)}(s,e);var t,n,r,a=aw(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),cw(sw(t=a.call(this,e)),"onChange",(function(e){var n={};n[e.target.name]=e.target.value,t.setState(n)})),cw(sw(t),"onChangeExtra",(function(e,n){var r=t.state.extraValues,o=t.state.extraErrors;t.state.extraValues[n]=e,o[n]&&delete o[n],t.setState({extraValues:r,extraErrors:o})})),cw(sw(t),"sendForm",(function(){if(t.getButtonIsEnabled()){if(t.state.extra&&-1!==t.state.extra.indexOf("vosh-login")&&!t.checkVoshLogin(t.state.extraValues["vosh-login"])){var e=t.state.extraErrors;return e["vosh-login"]="common.user_form.vosh_login_error",void t.setState({extraErrors:e})}if(t.state.extra&&-1!==t.state.extra.indexOf("vosh-login-optional")&&!t.checkVoshLogin(t.state.extraValues["vosh-login-optional"],!1)){var n=t.state.extraErrors;return n["vosh-login-optional"]="common.user_form.vosh_login_error",void t.setState({extraErrors:n})}t.setState({isLoading:!0}),l()({method:"POST",url:CONFIG.Api.webPortal.url+"/register/info",headers:{"content-type":"application/json",Accept:"application/json"},data:{token:t.state.user_token,info:{firstName:t.state.firstName,lastName:t.state.lastName,patronymic:t.state.patronymic},extra:t.state.extraValues,contest:t.state.contest}}).then((function(e){Object(u.i)(e.data.liContestId,e.data.liSessionId),""===location.search?(t.setState({isLoading:!1}),i.a.render(o.a.createElement(Xg,null),document.getElementById("index"))):location.href=location.origin+location.pathname}),(function(e){t.setState({isLoading:!1}),console.log(e)}))}}));var n={};for(var r in e.extraFields)n[e.extraFields[r]]="";var c=null;if(t.props.contests){var f,p=tw(t.props.contests);try{for(p.s();!(f=p.n()).done;){var d=f.value;d.default&&(c=d.id)}}catch(e){p.e(e)}finally{p.f()}}return t.state={isLoading:!1,user_token:e.user_token,lastName:"",firstName:"",patronymic:"",contest:c,extra:e.extraFields,extraValues:n,extraErrors:{}},t}return t=s,(n=[{key:"getButtonIsEnabled",value:function(){if(!this.state.lastName.trim()||!this.state.firstName.trim())return!1;if(this.state.extra&&this.state.extra.length>0){var e,t=tw(this.state.extra);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!["vosh-login-optional","email","phone"].includes(n)&&!this.state.extraValues[n].trim())return!1}}catch(e){t.e(e)}finally{t.f()}}return!(this.props.contests&&this.props.contests.length&&!this.state.contest)}},{key:"checkVoshLogin",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t&&!e||!!e.match(/^v\d{2}\.\d{3}.\d{3}\s*$/)&&(e[10]%10==(1*e[4]+3*e[5]+7*e[6]+9*e[8]+1*e[9])%10||e[10]%10==(1*e[4]+9*e[5]+7*e[6]+3*e[8]+1*e[9])%10)}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return o.a.createElement(Ic,null);var t="enabled";return this.getButtonIsEnabled()||(t="disabled"),o.a.createElement("div",{className:"user_info_form"},o.a.createElement("div",{className:"user_info_form__title"},o.a.createElement(nl,{k:"common.user_form.title",id:"value"})),o.a.createElement("div",{className:"login_form_input"},o.a.createElement(ub,{k:"common.user_form.last_name",id:"value",inputValue:this.state.lastName,inputName:"lastName",onChange:this.onChange}),o.a.createElement("label",null,o.a.createElement(nl,{k:"common.user_form.last_name",id:"value"}))),o.a.createElement("div",{className:"login_form_input"},o.a.createElement(ub,{k:"common.user_form.name",id:"value",inputValue:this.state.firstName,inputName:"firstName",onChange:this.onChange}),o.a.createElement("label",null,o.a.createElement(nl,{k:"common.user_form.name",id:"value"}))),o.a.createElement("div",{className:"login_form_input"},o.a.createElement(ub,{k:"common.user_form.patronymic",id:"value",inputValue:this.state.patronymic,inputName:"patronymic",onChange:this.onChange}),o.a.createElement("label",null,o.a.createElement(nl,{k:"common.user_form.patronymic",id:"value"}))),this.state.extra&&-1!==this.state.extra.indexOf("school")&&o.a.createElement($g,{onChange:this.onChangeExtra,type:"school",extraErrors:this.state.extraErrors,extraValue:this.state.extraValues.school}),this.state.extra&&-1!==this.state.extra.indexOf("grade")&&o.a.createElement($g,{onChange:this.onChangeExtra,type:"grade",extraErrors:this.state.extraErrors,extraValue:this.state.extraValues.grade}),this.state.extra&&-1!==this.state.extra.indexOf("vosh-login")&&o.a.createElement($g,{onChange:this.onChangeExtra,type:"vosh-login",extraErrors:this.state.extraErrors,extraValue:this.state.extraValues["vosh-login"]}),this.state.extra&&-1!==this.state.extra.indexOf("vosh-login-optional")&&o.a.createElement($g,{onChange:this.onChangeExtra,type:"vosh-login-optional",extraErrors:this.state.extraErrors,extraValue:this.state.extraValues["vosh-login-optional"]}),this.state.extra&&-1!==this.state.extra.indexOf("email")&&o.a.createElement($g,{onChange:this.onChangeExtra,type:"email",extraErrors:this.state.extraErrors,extraValue:this.state.extraValues.email}),this.state.extra&&-1!==this.state.extra.indexOf("phone")&&o.a.createElement($g,{onChange:this.onChangeExtra,type:"phone",extraErrors:this.state.extraErrors,extraValue:this.state.extraValues.phone}),!!this.props.contests&&this.props.contests.length&&o.a.createElement("div",null,o.a.createElement("div",{className:"user_info_form__title2"},o.a.createElement(nl,{k:"common.user_form.participation_form",id:"value"})),this.props.contests.map((function(t){return o.a.createElement("div",{className:"login_form_input",key:t.id},o.a.createElement("input",{type:"radio",name:"contest_select",id:"contest"+t.id,defaultChecked:!!t.default,onChange:function(){return e.setState({contest:t.id})}}),o.a.createElement("label",{htmlFor:"contest"+t.id},t.description))}))),o.a.createElement("div",{className:"user_info_form__btn user_info_form__btn--"+t,onClick:this.sendForm},o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".user_form.go_btn"),id:"value"})))}}])&&rw(t.prototype,n),r&&rw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a.Component);function fw(e){return(fw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mw(e,t,n){return t&&dw(e.prototype,t),n&&dw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vw(e,t)}function vw(e,t){return(vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ww(e);if(t){var o=ww(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bw(this,n)}}function bw(e,t){if(t&&("object"===fw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gw(e)}function gw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ww(e){return(ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ew=function(e){hw(n,e);var t=yw(n);function n(e){var r;return pw(this,n),_w(gw(r=t.call(this,e)),"onChange",(function(e){var t="disabled";e.target.value.trim().length>0&&(t="enabled"),r.setState({user_code:e.target.value,button_state:t})})),_w(gw(r),"sendUserCode",(function(e){"disabled"===r.state.button_state&&!0!==e||(r.setState({isLoading:!0}),l()({method:"POST",url:CONFIG.Api.webPortal.url+"/register/login",headers:{"content-type":"application/json",Accept:"application/json"},data:{token:r.state.user_code}}).then((function(e){if(e.data.loginNeedInfo)return r.setState({isLoading:!1}),void r.props.updateInfo({user_code:r.state.user_code,contestName:e.data.loginNeedInfo.contestName,grade:e.data.loginNeedInfo.grade,schoolName:e.data.loginNeedInfo.schoolName,extraFields:e.data.loginNeedInfo.extra,contest:e.data.loginNeedInfo.contest});if(e.data.canPassTest){if(Object(u.i)(e.data.canPassTest.liContestId,e.data.canPassTest.liSessionId),""!==location.search)return void(location.href=location.origin+location.pathname);r.setState({isLoading:!1}),i.a.render(o.a.createElement(Xg,null),document.getElementById("index"))}}),(function(e){r.setState({isLoading:!1}),401===e.response.status&&r.setState({button_state:"disabled",wrong_user_code:!0})})))})),r.state={isLoading:!1,user_code:"",button_state:"disabled",wrong_user_code:!1},r}return mw(n,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(location.search);if(t.has("user_code")){var n=t.get("user_code");this.setState({user_code:n},(function(){e.sendUserCode(!0)}))}}},{key:"render",value:function(){if(this.state.isLoading)return o.a.createElement(ko.a,null);var e="";return this.state.wrong_user_code&&(e="error"),o.a.createElement("div",{className:"user_code"},o.a.createElement("div",{className:"user_code__title"},o.a.createElement(nl,{k:"common.login_page.participant_code_title",id:"value",values:{nbsp:"&nbsp;"}})),o.a.createElement("div",{className:"login_form_input"},o.a.createElement(ub,{inputClass:e,k:"common.login_page.participant_code_enter",inputValue:this.state.user_code,onChange:this.onChange}),o.a.createElement("label",null,o.a.createElement(nl,{k:"common.login_page.participant_code",id:"value"})),o.a.createElement("div",{className:"login_form_input__error_message"},o.a.createElement(nl,{k:"common.login_page.participant_code_error",id:"value"}))),o.a.createElement("div",{className:"user_code__btn user_code__btn--"+this.state.button_state,onClick:this.sendUserCode},o.a.createElement(nl,{k:"common.login_page.enter",id:"value"})))}}]),n}(o.a.Component),Ow=function(e){hw(n,e);var t=yw(n);function n(e){var r;return pw(this,n),(r=t.call(this,e)).state={contestName:"",user_code:"",schoolName:"",extraFields:[]},r}return mw(n,[{key:"updateLoginInfo",value:function(e){var t=e.user_code,n=e.contestName,r=e.grade,o=e.schoolName,a=e.extraFields,i=e.contest;this.setState({user_code:t,contestName:n,grade:r,schoolName:o,extraFields:a,contests:i})}},{key:"render",value:function(){var e,t="hidden";this.state.schoolName&&(t="show");var n=o.a.createElement(nl,{k:"common.login_page.title",id:"value"}),r="normal";this.state.contestName&&(n=o.a.createElement(o.a.Fragment,null,o.a.createElement(nl,{k:"common.login_page.welcome",id:"value"}),o.a.createElement("br",null),this.state.contestName),r="small");var a="cpm"===((null===(e=CONFIG)||void 0===e?void 0:e.DeployName)||"").toLowerCase()?"CPM":"SIRIUS";return o.a.createElement("div",{className:"login_page"},o.a.createElement(Hl,{k:"common.document.default_title",defaultTitle:document.title}),o.a.createElement(L.a,null),o.a.createElement("div",{className:"login_page__gerb"}),o.a.createElement("div",{className:"login_page__dep"},o.a.createElement(nl,{k:"common.login_page.header_".concat(a),id:"value",values:{br:o.a.createElement("br",null)}})),o.a.createElement("div",{className:"login_page__title login_page__title--"+r},n),o.a.createElement("div",{className:"login_page__school login_page__school--"+t},this.state.schoolName),this.state.user_code?o.a.createElement(uw,{user_token:this.state.user_code,extraFields:this.state.extraFields,contests:this.state.contests}):o.a.createElement(Ew,{updateInfo:this.updateLoginInfo.bind(this)}),o.a.createElement("footer",null,o.a.createElement(nl,{k:"".concat(CONFIG.currentInstance,".index.copyright_").concat(a),id:"value",values:{currentYear:(new Date).getFullYear(),br:o.a.createElement("br",null)}})))}}]),n}(o.a.Component);n(1329);function kw(e){return(kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sw(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Sw=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var m={};s(m,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=d.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==kw(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,s(y,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Cw(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}!function(){l.a.defaults.baseURL="",Object(u.j)();var e,t=Object(u.c)(),n=t.contestId,r=t.sessionId;window.appId=Math.random().toString(36).substring(2),CONFIG.IsNoopolis&&(document.title="Сириус.Курсы",Object(u.h)()),(e=Sw().mark((function e(){var t,a;return Sw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/auth_callback"!==location.hash.substr(1,14)){e.next=5;break}return e.next=3,I.authCallback();case 3:t=e.sent,location.hash="#/contest/".concat(t.tsContestId);case 5:if(t||!location.hash.match(/contest\/(\d+)$/)){e.next=10;break}return e.next=8,I.auth();case 8:t=e.sent,location.hash="#/contest/".concat(t.tsContestId);case 10:if(!location.hash.startsWith("#certificate")){e.next=14;break}return a=location.hash.substr(13),i.a.render(o.a.createElement(Sg,{cert_hash:a}),document.getElementById("index")),e.abrupt("return");case 14:n&&r||t?i.a.render(o.a.createElement(Xg,{contestData:t,sessionId:r}),document.getElementById("index")):i.a.render(o.a.createElement(Ow,null),document.getElementById("index"));case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Cw(a,r,o,i,s,"next",e)}function s(e){Cw(a,r,o,i,s,"throw",e)}i(void 0)}))})(),CONFIG.YandexMetrikaId&&Object(a.render)(o.a.createElement(c.YMInitializer,{accounts:[CONFIG.YandexMetrikaId],options:yp.options}),document.getElementById("metrika_smt"))}()},15:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"j",(function(){return _})),n.d(t,"d",(function(){return O})),n.d(t,"i",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return P}));var r=n(20),o=n.n(r),a=n(0),i=n.n(a),s=n(10),l=n(88),c=n.n(l),u=n(200),f=n.n(u),p=n(224),d=n(617);function m(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return j()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=E(i,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function f(){}function p(){}function d(){}var v={};s(v,o,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(C([])));b&&b!==t&&n.call(b,o)&&(v=b);var g=d.prototype=f.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var r;this._invoke=function(o,a){function i(){return new t((function(r,i){!function r(o,a,i,s){var l=c(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==h(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(l.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=d,s(g,"constructor",d),s(d,"constructor",p),p.displayName=s(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(_.prototype),s(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),s(g,i,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){v(a,r,o,i,s,"next",e)}function s(e){v(a,r,o,i,s,"throw",e)}i(void 0)}))}}function b(e,t){t=t||(new Date).getTime()/1e3;var n={1:"января",2:"февраля",3:"марта",4:"апреля",5:"мая",6:"июня",7:"июля",8:"августа",9:"сентября",10:"октября",11:"ноября",12:"декабря"}[f()("n",t)],r={1:"янв",2:"фев",3:"мар",4:"апр",5:"май",6:"июн",7:"июл",8:"авг",9:"сен",10:"окт",11:"ноя",12:"дек"}[f()("n",t)],o=["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"][f()("w",t)],a=["вс","пн","вт","ср","чт","пт","сб"][f()("w",t)];return e=(e=(e=(e=e.replace("F",n)).replace("M",r)).replace("l",o)).replace("D",a),f()(e,t)}function g(e,t,n){t|=!1,n|=!1;var r=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],o=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2),a=e.getDate(),i=e.getMonth(),s=e.getFullYear(),l=("0"+a).slice(-2),c=("0"+(i+1)).slice(-2);return n?l+"."+c+" "+o:t?a+" "+r[i]+" "+s+" года":o+" "+a+" "+r[i]+" "+s+" года"}"undefined"==typeof CONFIG&&(e.CONFIG=window.CONFIG);var w=0;function _(){return E.apply(this,arguments)}function E(){return(E=y(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o()({method:"POST",url:CONFIG.Api.persistentCache.url+"/time",headers:{"content-type":"application/json",Accept:"application/json"}});case 3:t=e.sent,n=new Date(t.data.time),w=n-new Date,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("ERROR syncServerTime"),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function O(){var e=(new Date).getTime()+w;return new Date(e)}function k(e,t,n){localStorage.setItem("liContestId",e),localStorage.setItem("liSessionId",t),n?localStorage.setItem("user_token",n):localStorage.removeItem("user_token")}function S(){if(CONFIG.IsNoopolis){var e=location.hash.match(/contest\/(\d+)\/(\d+)$/),t=localStorage.getItem("auth_token");return e?{contestId:e[2],sessionId:t}:void(location.href=CONFIG.Noopolis.url+"/#/course/"+e[1]+"/final_test")}var n=localStorage.getItem("liContestId"),r=localStorage.getItem("liSessionId"),o=location.pathname.match(/regQuizId=(\d+)&sid=([^=]+)/);return o&&k(n=o[1],r=o[2]),{contestId:n,sessionId:r}}function C(){localStorage.removeItem("liContestId"),localStorage.removeItem("liSessionId"),localStorage.removeItem("user_token")}function j(e){var t=localStorage.getItem("auth_token");if(!t)return null;var n=c.a.decode(t);return n&&void 0!==n[e]?n[e]:null}function x(){var e=document.querySelector(".parent_mode_text");e&&e.parentNode.removeChild(e);var t=j("roles");t&&-1!==t.indexOf("nooRO")&&document.getElementById("index").insertAdjacentHTML("afterend",'<div class="parent_mode_text">'.concat(p.a.parent.mode_text,"</div>"))}function P(e){return N.apply(this,arguments)}function N(){return(N=y(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(408!==t){e.next=3;break}return Object(s.render)(i.a.createElement(d.a,null),document.getElementById("index")),e.abrupt("return");case 3:if([403,404,500,600].includes(t)){e.next=5;break}throw Error("unexpected error code");case 5:return e.next=7,o.a.get("/"+t+".html");case 7:n=e.sent,document.open(),document.write(n.data),document.close(),window.addEventListener("hashchange",(function(){location.reload()}),!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object.compare=function(e,t){for(var n in e){if(e&&null==t)return!1;if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;switch(h(e[n])){case"object":if(null===e[n]){if(null!==t[n])return!1;break}if(!Object.compare(e[n],t[n]))return!1;break;case"function":if(void 0===t[n]||"compare"!==n&&e[n].toString()!==t[n].toString())return!1;break;default:if(e[n]!==t[n])return!1}}for(var r in t)if(void 0===e[r])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1})}).call(this,n(28))},158:function(e){e.exports=JSON.parse('{"c":"t-confirm-edit-buttons-confirm","b":"t-confirm-edit-buttons-cancel","a":"t-code-editor","d":"t-task-save-button"}')},224:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(184),o=n(594),a=["key"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u="".concat(CONFIG.DeployName).toLowerCase();if(-1===r.indexOf(u))throw new Error("Unknown cluster ".concat(u));var f=u,p=o.reduce((function(e,t){var n=t.key,r=c(t,a);return s(s({},e),{},l({},n,s({key:n},r)))}),{})[f]},37:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return f}));n(184).reduce((function(e,t){return o(o({},e),a({},t.toUpperCase(),t.toLowerCase()))}),{});var i={WARNING:"warning",ERROR:"error",CRITICAL:"critical",ALERT:"alert"},s={FRONT:"front",BACK:"back"},l=204800,c={OK:"ok",WRONG:"wrong",PARTLY:"partly",NOTREADY:"notReady",ANNULLED:"annulled",NONE:"none"},u=710,f={OPENED:"opened",INVITES:"invites",MY:"my",CLOSED:"closed"}},381:function(e,t,n){e.exports=n.p+"assets/img/icons.svg"},550:function(e,t,n){e.exports=n.p+"assets/img/lecturer_no_avatar_white.svg"},578:function(e,t,n){e.exports=n.p+"assets/img/select_on_image_radio.svg"},617:function(e,t,n){"use strict";var r,o,a=n(0),i=n.n(a),s=function(){return i.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAC91BMVEUAAADDw8MAAADCwsIAAAAAAADDw8MAAAAAAAAAAAAAAAB9U9EAAAAAAADExMQAAAAAAAAAAAB9VtYBAQF3UM99VtZ9VtYAAAAAAAB8VNN8VdZ9VdWlgPQAAAB9VtV9V9aifPl9VtZ6VdSNhpV9VdfSnwCjfPoAAACMhpTSnQDSnQDDw8PTngCiffp8U9WqqK7UnQCfePd9VteifPqjevmffPeifPkAAAChfPjRngB+VdR8VdbSngCfevage/nPnwB+Vteie/iifPnPnQDExMTTngCifPjExMTRnQDPmwDSnwChfPmPiJcRERE3Njl+VtY0JTKSjpvCwsJ+XwB9V9eifPmRkZHGxsZaQwBLW2I2Nj7///99VtYAAACifPnExMQICwvf398lLTEgICA4REmzs7MOEBF9fYG/v78cIiTSngBRq7hAQECfn5+AgIBGVVzv7+8EBQZCUFYzMzNgYGAgJys9SlB4godwcHCQkJBra3BISE8SFhgqMzcTFxgwMDD49v7v6vtQUFDPz88zPkMXHB6Na9umqqsvOT1BUFafePaFYdmvr7DPwPDf1fYuOD2CW9y+q+ovOT5LS0s0P0TPu/yZc/GuleaMZeSHYODV1ta5nfuujPrn4PiVbu22oOgcFC/ErPvy8vKQaumdgOF2VMjo3v6Vdt50UsKhnaZYRIRFMXMnHED07/7GtexoSq6SjZoRDBuZdevm5uZuTLqkpKRdQKFnWZ6ZmZtQQHljZ2iohPpuV7NiSpp4VM1Gk55dWY1TWXI+OUoIBQ7Wxv1is796XrpNP2xEPFuzlfvWyfOYztXKzc2FiYk9fYczanI2Jl5WVlcuIFAUKy7Q6Oyli+N2vcdcSYdXWn9vb28jSlHGte65urtWO5NONYZ6enosXWQeQEUPHyLczv30+vvm8/Wz2uCo1dyFZspzeX5ZWV6+3+Smi+Nlcnc8M1sZNTkoKDaDYwDLuvG2oOe94ORMoK2JpalHT2QeQUU7N0MUKi7FlACedgBV/QHFAAAAWXRSTlMAgN9gIECgv+9gnyAQgL+QcDDf0BDvn39QQL9gEK+AcN+QYN+/47+gv4BZQL+PUCcf06+fUEDvsJCQMM+gMB8Qf3BfMN/PgHBwQLDv7+/nz7+QUO/fr4Bvb3XNmngAAB54SURBVHja7NYxboMwGIbhf/eGHEsuElYQM0PHokq5QQ/g/zCwZIlAYmKqsiBl60F6qgZaAkZ1m6z4e0bGVx+2CQAAAAAAAAAAAAAAAAAAAAAAAADgTjoz5KUFwUQfdsw7SR4xc2bQaxRnPEpoIIUQWus0TZMkUSonEhEPor2miYklhem7xTSthF0xKZ5ESo89hy9ZHOTWMv5h6ErxyjMvRZJkwVeB9lK3EHM6PyUKnhWhnWX7xS9H9Mb/2LEjp6AYnqclzdzidOnaum5GdXvuL/yLhMKS8k02pTqe68qulU3bs+tJ5GYfUjDNK31bWZ/yszvxmgrnISF46XRu7N/KuueVIphacpmqLe0d3jt2Rdu/FA8m14LIn8qv6gKrdVi9BTypPJqje9TTphl29JV9UMsL217WCzs+7OOqeVyGtumVBiLiheO7dTw6LkWb9EWu/bs2EYZxAL/dTaygBoki3SLUJkWEinbo4qqLz3sPhEC44RICyZBMuUsgQ68XUkp/GeNRWxoRkkEd/IWguCguDh2ko4uDk/4D3l2Se3M/3jOJDn3Tz1AKLZR8+7xPnvfJRWIYi/R2DdS+AhM60nod69LFy9N3EG/OIWL0pnu4MiBQOS1a0im5kl2tMo/i1L4hLi2gJboozBDHGgRL2qpSJltJmZnJpeqJSmsZ+xaWzjOyYsitFsuimCpkkiclrRhScyNklZVluVAsSUknMFkUy8XqSUhrHoft/b2uqpJpNVtJpwrSoMKkUuXbCaiteXTbJqZDGMVqwTyBSWBqaVOWVgy9dgipKTCaZCYlyhlmXkfTde2J3EOvlYamQgClVYcAUiEkL2PKVqfL/rR+BSz3jDYh+xBMKpbFDARRalN1DAXhNnp9Ahelu09sGjDlcoy2RQvr1FQEFkevDaBahkYGWpNeE69duztDZjhfnEYSsbkF9HmoQJ+6P+kOgh5Ex6Xe31yKzUUE7iRmFzDIp0FWyhpx2YLx1Ql1w/rnoCkmcCZOk2LUVatG3GowAVqb27SKbwp8mUOGDvToGvFSgaluqKGltfNoBal5gSuLyLBBW7OPHtrJ27rKKK3G3gq6LPDVteZZh7ADti4JYACTQUzaVkBc9Z1N9FkWeBLFYLt0QPJrA9Mh6fHGpWy8wQCzAkfiyHBANwYBlBH6+G9XXJ2HGOQOT+dwHhnAtkWC1YFlKN2aDkMOAguLq7fDKFL+q45KGLrA4h7IFKB20ee6IEQW40u3lxcFDiSQYTe0sLQtYPDEW1PBoaJHNL4Uiw5S48D10LBUf2c39JYaPqi7aS1wNNFtjrM+Pxsalu5+3Ye6An/zmbDT+ohsPPR5DA3rcPzHjbqEnZaKbAnh2EsghjV4jb7iLoxGrxHK07cUZLstHHu3keUNACh0YldgZHXvk5J0s+odtfi6JF5Hpg5t1rU6jEXRa8GDxidkigrH3iwyfXSadVuFsbnj0hSwNbnu8FFkagLodLAc39FwXGvssPjZbGEIBXTGVnT850o12rNY4sIxt4ghDuywDmFya967JPL8dpjAEB/hM/1MejJ0H23Qq7QPJxeeeBTZdqFFNBUm5d7wtPsTPNezQyQRvz57h9HhFaLDP1I12rRof+d5C3jm0s7eJno9BDDgn7XotrCD/Id15tZM/2MXX1gK/LsjYlN7+yyup1InKktjewWHwP+x3w+rg5yHde4scdsLDysnZTIZaZK2pUKT77DOXSFeL94+Y4e1Kou2dCE59rgFKvIc1lVfVO+e3s/nP7QZYUkp0ZSS5bIZVwlGp2jW6LDLcVhnThOfD/n8+uv8h2dBYeWKZlJyJmd/n0mJ46RlEPKzgxyHJZwnXk/z618Anq+/cjZaVNIsq7IEjqJYHesBmu53ROR3dLgYUFhfwPR4/Ud/dHDk7COYLlfoM6MFGUZXI/Um12Gd83WsvAy25+/R0nSiyqZFx6C359IS+EilQqHoBEoZNUCuwxK8TetF/iv0vHzmhEUbe6VgdnZLFmzZLHiU0mLK/l3Zm6O+dYAWfu+Gl4jbk/y61Zysg/gAqJJoKUG/s1vF1evyFXBJyrJk/aBaSvXrj1LVDbTwu3U45wtLBpNkpQWOrGj5BgNWXDJYZE9WUv8kFgtpsxBpWkE70pXNR3vbO43GtVNC381jvlaeIW7381ZIkgRDJOtUiamc+32xCCbrC1VMurtbKgPD3iC1ud0gjisXBC78Ie/MQm+I4jg+iexZsitFPJAkb5byIIUXXq+Zn4xhupgZwwzNFK7uRehaypItWbJkScgeyr4rRJR9jcIDwpPfWWbOLLbhgbm+Webm/v/cj+/3d37nnHvPJHN43qGc3AgZG8mgl8xkF0GeGKtZZoUVLao0LtG+792kJNQyF0dHJXN42PGpmcqxEFoV0ORQz16/vjmOBVG0pYycbQCAbpHCVam6gBI4FwWsDn52zm1LH8Dy7+NqlcjhbueITBRpCjQE5QtjPT8zkegRtZYZTatKDaf78XHBS77L4baz1HFG7lZS6vrPnx3VJtFosaIlW6GTqoCgysCL9dNbE5lOALj4h7IQsisBlKJV3Yh6azln5W+U91nOyONKWv967eqixHXO2U+LUvgaXUBQpRJ/hKy4boBOzCRUJYEt2YmhAVWMDoYHx9EHR5ztClOejslI5vAYz6Gh85ddAgSl8TC9IJiuvr3x6MTEuwCrq1EyFTXdLeiArDnoWVtOr7mwlbGSxznnFKKcnb/S4Ts5RGvRCx0M/IX7jNSrT0B07RrAxxga1SWBjcsDz6PW4toX4L3snM9fCsV5MyKHh6hPQLc37sMLWpt4C3ATWV0DqtEPAa6qvlvSNMMzVZa56ZfOnLl16WYkmlC2AWkHWi3zCcJ+53D+Uog5VOLazaeH+h1V9gJYZT9M4Q1geoxsYnNrE+02keqScBtopMrHChnl7jnHcphCkUPRxF/mgxuFpZGaY3khrAghvmqqAZHlApyYmKRF2g6RQ5Tt0pmn4WzLYQrTOdzOSzyHVQYs9arBeizqLKFykc2nq2UWzYkn7t54RIiFSUTSlWgps0sVVt/P5zGF5EC/VIm/zEOEZZ0bw7CDmnUVAs25HJ//wPQTowF1deLEWwEbMDCKYAlW7HJpTlMoctiyP7vCFnsjawbIK2MFWvXD0fAhNdHdZJvgIqxHQHQDn/Q0aLSsGCxD443DyTyOhUQd23Tq0qtfY9HOn3cYmiKNj0GtpdpBDjFrX+5enR5nRfM6+jFQ4XOeBROeCgIDX2ZrPh6ogbHymcJvBHLbSGe/gFWJ9pqXJk78cO2Ib/quKSdk68BgPRbOQieFBX6fbPE1sUPOyTx2pOl5Ig+iQzoikwHxYrQeXrHlb8uCt6xfDWuWCiZxHNiIapxc4d9mHxorrykUio6IxmoOC2VEaPnf3/6ytbEjSbeKxnovU2kuAmNN6ZF9+G1MBtU5l8N5YVIto7Sc/SEsuxRu6aim/H3Z+MOchq3DGW41Mq3mkyAPv7bEKqHjbMt/CqU+SoyW98AXczyUYZlFT/6prlw9w8q759p0EqQFLVuFbUk623O4OvPjNeZjJx3Niu1RxJby7B/QWk0bVbcYWX+uhNytb1T31m265O4EkS7xnZ7t76I+qpb16CqxKn9flqpWq2qw32jRr0ZifCQcuS0RwE7tpRyqcSe840n7fuFk8Z6bPIbNDPH9qHYVK8E2Nql1LJKVYB0rNhK27Nwrd5b6zu09DpRTH44zxO5ESmroNs/GR1UvYkUjZLU9zF6HWri7xfBwtaaUwLF81M4gTj5eJOSHVxBIK8pRWIdCVq075zJ7aYl3PmhJVqNua2rQTthJY5nhFTAZlh0E2CXN6JGor/rkYqvw11cDN0OCFWonMYttlUt66n0OYuh85SXeSWP68sZDRnIDrI+Ue0XOnz6lJlihdoCuAWrPqdiuV8VQxXJN6oNRZcs3HOf8tto7Tb9x2G/tqcrpT4LvPXvs2Nm5+PtOzQoA2R4iNEwe0MP8qBEhzUFUu2vzzgON+ZR6px/ZfE/rMO3qTdMzYOfhHesBtApprdbzdwwKVfac2767du9pwXBdDxutXd88cWfumz2AOrXzLHn0csce0PVTh/fys6SE/B2KUrusUOTeQiO07564I0JJIikevURUqKOzorCMA2JmU4usqNqBLY6QyaCEtdRT0bsV9WvfpVPn2mMl1eWbWE8ycUpZy9ypKDV/KwtJamClQ5jdWqX70RWGGjQVU31DhDCrtUQKYTPn1B+3RvrlfOb8fTUDm32gMrtEr+XubN2yT+cu/WrWUlz1oMqNlV0bwo70VFvpf1A9cPk85/dLvAnLJv8PtJoD6LI8a+0f5VCD+dP+A1ptJ48BKMbOYsg+HhYB5hfGQnOpttV28rQxk6EcLjhsWvk7sAyASYXCDKgnZVbvnj0HSn9D3Sf0zZzBZYWpMyfrNgviglXKgkys1gbGggJqfJ26v/FvnjBE+hvqNmFCbymLWsAYfIn6VLqKfnHBgiXKKgHiV7BtCYylE1iTRtf/HVjdpQz6a7Dq1pmKL3Hq6LF0j3ThkiWKIs582PQrznrChsKZMJPAImWrZmHVH42VpjAGCjoU+SlaC8SnlH65ZGmjxwOhTsA3qFujsNrClAJqMcwfAwaDJVK4ZMWoFQt+qSn1YcZomMFgZQ9i33zAqosFi2g2LJ40GYoUVmindUtGrfhusV8QLfCqPnoSwNgC01hoKGXSgAkTekh/Q4MnTBiUJYQFqimYofFgUFjrQmOtWqDEYK1YIa7XrYycgefCvLEA0wpc0xs0yQesnhMmDJV+VQ2xa2CaPBMNASaBtSLAoaxcEoe1blXkmkNds4VU99GFGaxz4OibSlk07C/AyvoX40g4PjQDTMKfOj0dZSXDtUpZQtEJbUJ04noJR4UhRFNNBW5SXuMz/wf/BWWydDOYEr48GEusdY4fgYS8MIKKCCXHtyl647pNmxQ+KUTm42GmgDVpcqNcwPrK3Pm9zBCFcXxti7X5mQtuXEl+FndSyoUUQuTGEw/HGMNsWDPsoMxL7MZKvULChZSEuKD8TuLGncIV5cc/gLhywYWdMzP7zJydPc5hWJ+SV7zv7nze7/Oc58y8ZuapT8MlrEOMifUgXonzwie6ZSXn1XOdG9btQOYKssDAobqLUj+YXlXe71SYS1lAFvSai+tEaNTiWUuIa/ORTw14FAJZNiSjNVxPVn/2hjOq1fk6YwM1LRPAkMq6kGhhx+JbAx/GMJ8GydKOVrVaLfQBLmtWQYlJzAWiHqirdcs6sT5VeZeOHVt/rH2nhrPRHUk3WlFjb0RlWNOP1pxqdUqhD2i88tDADmEi8134tq6Lc2cvnDlGYUpxcOMmdFwuJ14Na4Z2tJbw728/WKAqazgPFmHaDK0v63pwIthhi1xpu8LT3JCDsXvbpGgpF8PSgiqzhxGrJJdGcu2WFCziqIXrdHhmhYp8BxHtWHq8n1aO1mK+Jim62rqB2Lps9r/Z70xCF7oxr+rIesVdmQzJVRsGHA8ruU07xMwNSa5N+ydTaQltyOKyjqyLaIA3gOSKUzfj9XWk8kw64zdlTS7oo3++o0LBSvFIw9VtNGp15FBJUx2aOEq9FvogiwYt/WDpy3pvnGbdrqDGNE8+VKnLKsna93LXpl37cpG1sFpdpBAsEzK5pyHrwQBynKOQYr8JHF8tWgtp/VaR9Tx8VWdHHrIWfP+6uvTLYFmQzRMNWbeQwzxI4xvxYFouKLDm649Z6rJeYkTzbQ6yxpURccKvrn4d/XNZd5GzvwYC7gCoTw+lIiKu1PgJlg6bc5BVxAD5uywy6MFTdVkveDX40A2L/Hk4XGGECRilfI2zA8shWUORU5GfILUpBpBGY3AIYuVCBk0z7l6/jNZI5BQV9/5lknVqQ26yxsvDR8foaQ1ad+mvbyMyEzLx47g1sJLD2yUq5Grb5hxklZAjW7WHYhMoWVqzw/W79CFVoIjZhE6LH6lUV2r7yJFRsNju53fymbPK+KumVcEGuXK1ZocXD+gWizXIhDui01qjlLIySvH6SsiH3IbS4b96+RKyRAiky+FVUd3n1/FHl0ECa8VFjmWV5Qgn6hzagRwmeNVgV5ID92mprCdiv3/qxR/dAwl2A9Ra/DjkKO4iKVgR9/9U1lDh9aXtHXzpVvq1KMvAy7E2AHugftrMLEbDgAgfhyt8Z8drHVnH1fGb0wr5NK1RPQt/AHrJarXMk/51cgOCrNtO/Xb40SOeGo410LQNwzgZEKkbtKl94dBfF9YYnZrZdLODeD5LnzHyOhyfnN49Xi9HGQcjbnEhoRFhcmhGq+Xl1wDQMAzb3h/TtG3Dj6dR6op1mYkShgzVObAV02JWSV1ppXVoj79lQDQ83mKwYQY02tlo/9ZqPbkc9yVhcrC4rMf3QE4NaQWRTTEjtEbS4bQY5EdZlu0K2kAYNd6FLRAYfHWVtyxB1g0HHpEq+XJILX7Ur9bCis5GDsflKmuUZC4tIbpAhOKcJgiY6D25ug5EWRcRnpAqCRZNckbv4IyjGlCBVq4cGYm9W/wITKWoHhaNEV3FsuN25qEJ8FSUdbmJLVDCHgSFFl+hKlQ/rHIhX4b3/rLF9MmZZmiG56DG6Fy6i4OpQeLy7bvvH7zmPz6iRL0OiWgNl7R39Sos6ajVb/EjMoLFXCC8elRzfE3EgFbUoeNoPH369OItDHAABnEQlPBtSEZrhHT3UtI5KjKfF8VeX7coXIY2eDfHWpiANnF0klYYhgQZ9EGJwdQsh8WR0nfZX1mjqHPKggU+V2I4UVNvwyAkWW82cqwgcHVQwmSQYD+OkQRrRJ9ljSxnfuESdazkJT7DipsLMi9DludgQLCNdGxQwnNSf8pc8Ibr9CCSO7fwb6I1Bhmk2O9xSZ2aaQGQLMJj8SUcywIlXIQkRkYhjqNgKcqi5eCvR4tmLMJqkaw02BI2jcCxGShREz7fwjE95oZyqe+yKFoZ3Z3AsBtnGMAaZGEgqIFeOmkOTuw1N/RfFkWrVxHSGU3PkWzu0gyqTqXiQHZUjFAFQ0r/gaxEtEpjKqNKwWs5bo81yzFBwOwhy0MPlGANcUzF8SN5oiZUxpQ0gkVMFBt8/tEaP2b53kObcAKthETDAshuWk0LRGhYVYGJ/65mYYXH29q9e/yYoUKw+jU6iNHCjeFjJzJGJH8gPpBmKnS1JokVYL62LGpbE0aOxzfBPU0PbOoE6/+QFUdrd3Q/ZAe6oEQZbMAPzxC3PL/JDHIn0KwryjJAxEQsRvdRPLSb1p8crojmF60d8Y3JbRCx7UQHti1s41i27wEh+RQplgFdGJ03sxeFlPRnI02MK6Zk7bTQ74qJDcpQ5SqxP1PWprVpWRP/E1kjyjt2pG78ux3RE4+oDro0mL4sKsPjnfvvc6wynfXsw/kscoU7du5D69C+7YfowWkD4uxjgC6uoyjLBhFGz+U5tH3HNkTcukPLFoYUVJg5bLQ6++5suNP+df78+TvnI+7s23ckxf1924+I3H8IcrCmJmsgo2Nt7zwTij/G9EB7itCxVVY/rTxkwz9h6yeQwrzutPlmtywxtS6jZxjtjcpxazteGreBKCqPZrM3/CPegpRmo8sVvrqI7YvTXkrWpOJRIVhUhduSj40vKl+AGI+ccf9NsNrIo1UfBIHGxfD/D6DTNuZCiFUZ56TssXji44+NInbgpAKR03XDYRv+FXtAhm906bseXNh/9+Lii3evbrHYTaUwNrkXPUpDzEZMPUz/sDVWUdZU5IxQlrVvy9/jvoqsxs/2zp5XaSgMwLW2FkgRCIMOMt/BwdE/YOKkg4MGzRtrqZUmQG8bWr8oJFiiJCYm6A9wcXJwc3B1NtHd6Ky/wntb2tNveyDg6bXPpF5iwnN73vO+5+OtEss/Pwa2rAOyqIaAbMl+LXHYg/C7p/sVHktWM6+sB7d3yTCHLH0R/YfPwS3rBZIVvHimwxE9x9Vs2H88gN4I2ZqxWCVJPa+sb7d3yRMkK51oVvribfBo/IugLJ6WVW+DBwZjGB3X0EO3TXqvNzz04v15vAWtvLKe3o6wf1lydHp8j1x98Net3WVkxrM1gfnx65RlefDMH32D3tj5y0uawduxIE+Wmpo7+D9xS24tELJ++CbXg6VVmTr/mfvyo36/9ygY2ufQm48HNIO57ECYLNWe2jFLpqQ7ipZ+LrUQBEWEd4GQpURkUSwoTlk49KY+L1ahF9c0cCtpomRJhqboMVXCev3Qsn1ZknNX+Chl+BANWSrUgxcUJLjnpw3uRIj6y0MLt5ImSdZrzUCqgtWKa+vVq/Cuo6TIAJ/ffn3/8cMHEC3RUOxQN5omKOrMzdkfzwYz9z35iEfA4FbSPEGynqiJe2AOmtqVRF+W6pm0xYWsgceRTROagRlfc9eJRvND5w1QIV2HMotdHBIkK3E2VMDF7JpK4LxS9PiuJJnLpRppoVVfJ+/QX/sZznroLSGDKoVZHLKkyzLARe1KCjoJl4YrC9lyZcl9NBGOYdx3oxjGMOyAQ5V0WRJ498Yt35GYURSFvxH3yA1Zh6H3nPfmo+FIdoIbXr1DuiwnaLntjPyl/FXG+azwWKkP3GDuZFuB5RkAmsXfgqkTL6uri+Ibp5CR0L2fVKywLB4OnZw9nDjck9FDglXvkC8LbeynkNXk6GB0nCSMXg4fzeZ9lDZw1CayLhdGljLNJSuSavLXDu/I43WwGjxeP15zzHMLLXBoF0WWDi/yyFKic1z10Z3ByEutRr3BqP/sHtrbwax3iiJLBB1HFqI+eobC+70ZAHSa/IYH/AsiSxWUfDthEJ/KxuPeEOXtFXbzizZ8MWSJIGHKQpynAQZedJ83tziyzhRCli7I3VzIkLY74xY693oshcCudwohS0HhPRuhkv5V6evzsXxA4YPqnSLI0gG6+RDorEHUYhlqIw4KJEsGw8gnS0uSBS7bX9KtF0DWCxDQmkM2sBtZ9cLI0gV4cWRMzCWrjSELvzgkX9YUBPc8pZRDFvcfy1LfKJp3mcUWBEv/p7IuEyxraUU6RkqKJhuSum9Z6HQ3obLUN4YADlqoV5atCHB8wqiU5YmSjCm4TBIeJNNaaKAlt1jR2hl51omTpUriVAMH2bBTR5xpGxMNjpQpouMsT1LaOlGylitDBgdtYQUUpBsTF7LXlsawVpK5lOmMk3snSdZrOEZYGPayi4EpWcYEbbXm2JzB5zxxs+F8YaxMtbshqimJ0Olw6fl3beveYA1yZD3sbokNfFaW1P4vasO8KJXMJfQElbjnlU+QLIHD6t2Iv6zcOjmyTGhkr901tpwMKwXZsMiDAeez4zO9be9H4mWp5uoISY//IDYKgcfoWodDuxhnHaSpRndqtQ4HghLxBVr43o6U8ZuntxqHDBThfJY05aq8FzcOwm2CdbAE596OuJKOWFlTaGL0jMOhRuIB3KgrkWbD+39i5KCIowvB/LWHa32jB4suwKUBsc1HG40Hni1bc44jIV2ZSSe3xaN1DlwYgmWJ8QuBrKbH2opJ4mKyUCxpAtXMyX/jqMX4DWPIlfUi6QIEp4R7QyD0v/zm6Y0nxBq4VMmVpWvVxAdETWn0oACXqx0hzW+2/A40Ra4shU6uO/wYv/D+hJoh5invoLZZdIcqubLSXgnd8AffxA7vw9I5O13COQoDnvYdkytrQqcMCn8chjsuyn//No1NbHXApcKQK0tPSzAZkJIOw5s5JnaexrdVgzVNilxZSupqCGpsgxHeUQ6AlUDwHKzpUATLElIjEK0kyRKgijGx5eyA0aLRxwmWZUMt46X5ceycqXkdIP9QbFYABSyCZSnpMeIAkkahIxfPFp39LLJt8F21KDxZv2/vkl8RWQKw6bKWCQ0BgaWwbQF9jklVxQG2KyTr+S4fraf3w7J0AD7929oJh91orEVPBNeMm+DZRiWotEXhyHK5vzui7VXsjC9fT2gruYAGbkqOqHCN5nmWcWCrzVobmYrGdpJ60fxK73qPqCY0KtOwznzwB5CfBl4pefXuvvjUNVeWKFpvJlDLfOvf0v2Y6ZdGbczNeBryQbMUHheu3N0PXxYaiiVs+qkDwfuYtyxv4J9iqObRVanzFC6X9mPrpwBBOCZjmkIc65JRuo+jC0MVDhdP75Kbr38//PV6ClHOJa7wxhD1DfcD2YMMX1yTp4ikrZkCJFBLqmvjTLfYaW5wEKfCNRlqU2717+6e4WuI0ch8rhAstQWt8/Uax9EOXKfWrKaLIqeb5N1vf7PQghQYihQu3t0T3wWIwsUXhpPHKynsLykdQIxWaN0vjQoxwXh/shKiVjOUYSFiTgnhn8qqh3L3VKoUIexP1g2q8OyvNrxEFZ691YZnqBPAnmrDsxeoE8GNq6d2zdWLVElJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUnJ7vgDKshCQLWfWrcAAAAASUVORK5CYII="})},l=n(22),c=n(47),u=n(275),f=(n(987),n(15)),p={errors:{408:{title:{ru:{value:"Интернет-соединение неустойчиво"},en:{value:"Connection is unstable"}},check:{ru:{value:"Проверьте подключение"},en:{value:"Check your connection"}},help:{ru:{value:"или обратитесь за помощью к специалистам"},en:{value:"or request your admin for support"}}},common:{reload:{ru:{value:"Перезагрузить страницу"},en:{value:"Reload page"}}}}};try{r=Object(c.a)(Object(l.e)((function(e){var t=e.tpl,n=e.locale,r=e.values,o=e.defaultTitle,a=void 0===o?"":o,i=Object(l.d)({tpl:t,id:"value",locale:n,values:r});return Object(u.a)({title:i||a})})),p),o=Object(c.a)(l.c,p)}catch(e){Object(f.g)(500)}t.a=function(){return i.a.createElement("div",{className:"page_408"},i.a.createElement("div",{className:"page_408__logo"},i.a.createElement(s,null)),i.a.createElement("div",{className:"page_408__description"},i.a.createElement(r,{k:"errors.408.title"}),i.a.createElement("h3",null,i.a.createElement(o,{k:"errors.408.title",id:"value"})),i.a.createElement("p",null,i.a.createElement(o,{k:"errors.408.check",id:"value"}),i.a.createElement("br",null),i.a.createElement(o,{k:"errors.408.help",id:"value"}))),i.a.createElement("div",{className:"page_408__reload",onClick:function(){return window.location.reload()}},i.a.createElement("div",{className:"page_408__reload_logo"},i.a.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M17.65 4.35L14.86 7.14C14.54 7.46 14.76 8 15.21 8H17C17 11.31 14.31 14 11 14C10.21 14 9.44003 13.85 8.75003 13.56C8.39003 13.41 7.98003 13.52 7.71003 13.79C7.20003 14.3 7.38003 15.16 8.05003 15.43C8.96003 15.8 9.96003 16 11 16C15.42 16 19 12.42 19 8H20.79C21.24 8 21.46 7.46 21.14 7.15L18.35 4.36C18.16 4.16 17.84 4.16 17.65 4.35ZM5.00003 8C5.00003 4.69 7.69003 2 11 2C11.79 2 12.56 2.15 13.25 2.44C13.61 2.59 14.02 2.48 14.29 2.21C14.8 1.7 14.62 0.84 13.95 0.57C13.04 0.2 12.04 0 11 0C6.58003 0 3.00003 3.58 3.00003 8H1.21003C0.760031 8 0.540031 8.54 0.860031 8.85L3.65003 11.64C3.85003 11.84 4.16003 11.84 4.36003 11.64L7.15003 8.85C7.46003 8.54 7.24003 8 6.79003 8H5.00003Z",fill:"#4B8CEE"}))),i.a.createElement("div",{className:"page_408__reload_text"},i.a.createElement(o,{k:"errors.common.reload",id:"value"}))))}},872:function(e,t){},874:function(e,t){},886:function(e,t){},888:function(e,t){},916:function(e,t){},918:function(e,t){},919:function(e,t){},924:function(e,t){},926:function(e,t){},932:function(e,t){},934:function(e,t){},953:function(e,t){},965:function(e,t){},968:function(e,t){},987:function(e,t,n){}});